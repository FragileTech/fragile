{
  "chapter_index": 10,
  "section_id": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
  "directive_count": 8,
  "hints": [
    {
      "directive_type": "observation",
      "label": "obs-common-kernel-structure",
      "title": "Common Exponential Kernel Structure",
      "start_line": 2530,
      "end_line": 2555,
      "header_lines": [
        2531
      ],
      "content_start": 2533,
      "content_end": 2554,
      "content": "2533: :label: obs-common-kernel-structure\n2534: \n2535: Both mechanisms express expected measurements as **quotients of exponentially weighted sums**:\n2536: \n2537: **Softmax**:\n2538: \n2539: $$\n2540: d_j = \\frac{\\sum_{\\ell \\in \\mathcal{A} \\setminus \\{j\\}} d_{\\text{alg}}(j,\\ell) \\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_c^2))}{\\sum_{\\ell \\in \\mathcal{A} \\setminus \\{j\\}} \\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_c^2))}\n2541: \n2542: $$\n2543: \n2544: **Diversity Pairing** (idealized):\n2545: \n2546: $$\n2547: \\bar{d}_j = \\frac{\\sum_{M \\in \\mathcal{M}_k} d_{\\text{alg}}(j, M(j)) W(M)}{\\sum_{M' \\in \\mathcal{M}_k} W(M')}\n2548: \n2549: $$\n2550: \n2551: where $W(M) = \\prod_{(i,\\ell) \\in M} \\exp(-d_{\\text{alg}}^2(i,\\ell)/(2\\varepsilon_{\\text{pair}}^2))$.\n2552: \n2553: **Key Similarity**: Both are:\n2554: - Smooth quotients (denominator bounded below by companion availability)",
      "metadata": {
        "label": "obs-common-kernel-structure"
      },
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2530: ### 5.7.1 Matching the Analytical Structure\n2531: \n2532: :::{prf:observation} Common Exponential Kernel Structure\n2533: :label: obs-common-kernel-structure\n2534: \n2535: Both mechanisms express expected measurements as **quotients of exponentially weighted sums**:\n2536: \n2537: **Softmax**:\n2538: \n2539: $$\n2540: d_j = \\frac{\\sum_{\\ell \\in \\mathcal{A} \\setminus \\{j\\}} d_{\\text{alg}}(j,\\ell) \\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_c^2))}{\\sum_{\\ell \\in \\mathcal{A} \\setminus \\{j\\}} \\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_c^2))}\n2541: \n2542: $$\n2543: \n2544: **Diversity Pairing** (idealized):\n2545: \n2546: $$\n2547: \\bar{d}_j = \\frac{\\sum_{M \\in \\mathcal{M}_k} d_{\\text{alg}}(j, M(j)) W(M)}{\\sum_{M' \\in \\mathcal{M}_k} W(M')}\n2548: \n2549: $$\n2550: \n2551: where $W(M) = \\prod_{(i,\\ell) \\in M} \\exp(-d_{\\text{alg}}^2(i,\\ell)/(2\\varepsilon_{\\text{pair}}^2))$.\n2552: \n2553: **Key Similarity**: Both are:\n2554: - Smooth quotients (denominator bounded below by companion availability)\n2555: - Exponentially localized (exponential concentration around nearby companions)"
    },
    {
      "directive_type": "theorem",
      "label": "thm-statistical-equivalence-companion-mechanisms",
      "title": "Statistical Equivalence of Companion Selection Mechanisms (Revised)",
      "start_line": 2570,
      "end_line": 2599,
      "header_lines": [
        2571
      ],
      "content_start": 2573,
      "content_end": 2598,
      "content": "2573: :label: thm-statistical-equivalence-companion-mechanisms\n2574: \n2575: Let $\\varepsilon_c = \\varepsilon_{\\text{pair}} := \\varepsilon_{\\text{comp}}$ (same companion selection scale). Then the expected measurements from the two mechanisms satisfy:\n2576: \n2577: $$\n2578: \\mathbb{E}_{\\text{softmax}}[d_j | S] = \\mathbb{E}_{\\text{ideal-pairing}}[d_j | S] + \\Delta_j(S)\n2579: \n2580: $$\n2581: \n2582: where the correction term satisfies:\n2583: \n2584: **Worst-case bound** (uniform density assumption only):\n2585: \n2586: $$\n2587: |\\Delta_j(S)| \\leq C_{\\text{equiv}} \\cdot \\frac{(\\log k)^{d+1/2}}{k}\n2588: \n2589: $$\n2590: \n2591: **Derivatives**:\n2592: \n2593: $$\n2594: \\|\\nabla^m \\Delta_j\\| \\leq C_{m,\\text{equiv}} \\cdot m! \\cdot \\frac{(\\log k)^{d+1/2}}{k} \\cdot \\varepsilon_{\\text{comp}}^{-m}\n2595: \n2596: $$\n2597: \n2598: **Under additional mixing assumptions** (local separation, bounded contention): Better bounds $O(k^{-\\alpha})$ for $\\alpha > 1/2$ may hold, but require structural hypotheses beyond uniform density.",
      "metadata": {
        "label": "thm-statistical-equivalence-companion-mechanisms"
      },
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2570: ### 5.7.2 Strengthened Statistical Equivalence\n2571: \n2572: :::{prf:theorem} Statistical Equivalence of Companion Selection Mechanisms (Revised)\n2573: :label: thm-statistical-equivalence-companion-mechanisms\n2574: \n2575: Let $\\varepsilon_c = \\varepsilon_{\\text{pair}} := \\varepsilon_{\\text{comp}}$ (same companion selection scale). Then the expected measurements from the two mechanisms satisfy:\n2576: \n2577: $$\n2578: \\mathbb{E}_{\\text{softmax}}[d_j | S] = \\mathbb{E}_{\\text{ideal-pairing}}[d_j | S] + \\Delta_j(S)\n2579: \n2580: $$\n2581: \n2582: where the correction term satisfies:\n2583: \n2584: **Worst-case bound** (uniform density assumption only):\n2585: \n2586: $$\n2587: |\\Delta_j(S)| \\leq C_{\\text{equiv}} \\cdot \\frac{(\\log k)^{d+1/2}}{k}\n2588: \n2589: $$\n2590: \n2591: **Derivatives**:\n2592: \n2593: $$\n2594: \\|\\nabla^m \\Delta_j\\| \\leq C_{m,\\text{equiv}} \\cdot m! \\cdot \\frac{(\\log k)^{d+1/2}}{k} \\cdot \\varepsilon_{\\text{comp}}^{-m}\n2595: \n2596: $$\n2597: \n2598: **Under additional mixing assumptions** (local separation, bounded contention): Better bounds $O(k^{-\\alpha})$ for $\\alpha > 1/2$ may hold, but require structural hypotheses beyond uniform density.\n2599: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-76",
      "title": null,
      "start_line": 2601,
      "end_line": 2727,
      "header_lines": [],
      "content_start": 2602,
      "content_end": 2726,
      "content": "2602: \n2603: :::{prf:proof}\n2604: **Step 1: Mechanism comparison via moment matching.**\n2605: \n2606: Both mechanisms select companions based on phase-space proximity via exponential kernels. The key difference is:\n2607: - **Softmax**: Each walker's companion selected **independently**\n2608: - **Pairing**: Companions selected **jointly** to form a matching\n2609: \n2610: For walker $j$, define the **marginal distribution** of the diversity pairing:\n2611: \n2612: $$\n2613: P_{\\text{pair}}(c(j) = \\ell | S) := \\sum_{M \\in \\mathcal{M}_k : M(j) = \\ell} P_{\\text{ideal}}(M | S)\n2614: \n2615: $$\n2616: \n2617: This is the probability that walker $j$ is matched with $\\ell$ in the ideal pairing model.\n2618: \n2619: **Claim**: $P_{\\text{pair}}(c(j) = \\ell | S) \\approx P_{\\text{softmax}}(c(j) = \\ell | S)$ up to $O(k^{-1})$ corrections.\n2620: \n2621: **Intuition**: The pairing constraint (matching must be perfect) introduces correlations, but these are weak for large $k$ due to exponential localization. Walker $j$'s companion depends primarily on $j$'s own neighborhood, with negligible coupling to distant walkers' pairing choices.\n2622: \n2623: **Step 2: Exponential concentration analysis.**\n2624: \n2625: By Corollary {prf:ref}`cor-effective-interaction-radius-full`, with high probability ($\\geq 1 - 1/k$), companion $c(j)$ satisfies:\n2626: \n2627: $$\n2628: d_{\\text{alg}}(j, c(j)) \\leq R_{\\text{eff}} = O(\\varepsilon_{\\text{comp}} \\sqrt{\\log k})\n2629: \n2630: $$\n2631: \n2632: The number of potential companions within $R_{\\text{eff}}$ is:\n2633: \n2634: $$\n2635: k_{\\text{eff}}(j) = |\\{\\ell \\in \\mathcal{A} : d_{\\text{alg}}(j,\\ell) \\leq R_{\\text{eff}}\\}| = O(\\rho_{\\max} R_{\\text{eff}}^{2d}) = O(\\log^d k)\n2636: \n2637: $$\n2638: \n2639: (by uniform density bound {prf:ref}`assump-uniform-density-full`).\n2640: \n2641: **Key Observation**: For $k \\gg k_{\\text{eff}}(j)$, the pairing constraint affects only a negligible fraction of walkers. The probability that walker $j$'s preferred companions are \"blocked\" (already matched) is $O(k_{\\text{eff}} / k) = O(\\log^d k / k) = o(1)$.\n2642: \n2643: **Step 3: Marginal distribution comparison (qualitative).**\n2644: \n2645: The softmax distribution is:\n2646: \n2647: $$\n2648: P_{\\text{softmax}}(c(j) = \\ell | S) = \\frac{\\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_{\\text{comp}}^2))}{Z_j^{\\text{soft}}}\n2649: \n2650: $$\n2651: \n2652: where $Z_j^{\\text{soft}} = \\sum_{\\ell' \\in \\mathcal{A} \\setminus \\{j\\}} \\exp(-d_{\\text{alg}}^2(j,\\ell')/(2\\varepsilon_{\\text{comp}}^2))$.\n2653: \n2654: The pairing marginal has the form:\n2655: \n2656: $$\n2657: P_{\\text{pair}}(c(j) = \\ell | S) = \\frac{\\sum_{M: M(j)=\\ell} W(M)}{\\sum_{M' \\in \\mathcal{M}_k} W(M')}\n2658: \n2659: $$\n2660: \n2661: where the weights $W(M) = \\prod_{(i,j') \\in M} \\exp(-d_{\\text{alg}}^2(i,j')/(2\\varepsilon_{\\text{pair}}^2))$ have the same exponential structure as softmax.\n2662: \n2663: **Key observation**: Both distributions:\n2664: 1. Are quotients of exponentially weighted sums (identical analytical structure)\n2665: 2. Concentrate on nearby walkers (exponential locality with the same scale)\n2666: 3. Involve $k_{\\text{eff}}^{(\\varepsilon_c)} = \\mathcal{O}((\\log k)^d)$ effective interacting companions\n2667: \n2668: Therefore, both $P_{\\text{softmax}}$ and $P_{\\text{pair}}$ have **identical regularity properties**: C^\u221e with Gevrey-1 derivative bounds.\n2669: \n2670: **Quantitative difference**: Establishing $|P_{\\text{pair}} - P_{\\text{softmax}}| = O(k^{-\\alpha})$ requires coupling analysis between independent sampling (softmax) and constrained matching (pairing). This is an **open problem** for future work.\n2671: \n2672: **Step 4: Expected measurement difference (qualitative).**\n2673: \n2674: The expected measurements are:\n2675: \n2676: $$\n2677: \\begin{aligned}\n2678: d_j^{\\text{soft}} &= \\sum_{\\ell} P_{\\text{softmax}}(c(j) = \\ell) \\cdot d_{\\text{alg}}(j, \\ell) \\\\\n2679: d_j^{\\text{pair}} &= \\sum_{\\ell} P_{\\text{pair}}(c(j) = \\ell) \\cdot d_{\\text{alg}}(j, \\ell)\n2680: \\end{aligned}\n2681: \n2682: $$\n2683: \n2684: Both are weighted sums over the same quantity $d_{\\text{alg}}(j, \\ell)$ with probability distributions $P_{\\text{softmax}}$ and $P_{\\text{pair}}$ that:\n2685: 1. Have the same support (nearby walkers in phase space)\n2686: 2. Have the same exponential concentration structure\n2687: 3. Both concentrate on $k_{\\text{eff}}^{(\\varepsilon_c)} = \\mathcal{O}((\\log k)^d)$ effective companions\n2688: \n2689: Therefore, the measurements $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have the **same analytical structure** (quotients of exponentially weighted sums) with **identical regularity properties** (C^\u221e with Gevrey-1 bounds).\n2690: \n2691: **Quantitative convergence rate**: The quantitative difference $|\\Delta_j| := |d_j^{\\text{pair}} - d_j^{\\text{soft}}|$ is **bounded** (both measurements are O(diam(X\u00d7V))), but establishing an explicit convergence rate $O(k^{-\\alpha})$ requires a rigorous coupling analysis between the softmax and pairing distributions. This is an **open problem** for future work.\n2692: \n2693: **Step 5: Identical derivative structure.**\n2694: \n2695: Both $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have Gevrey-1 derivative bounds by Lemma {prf:ref}`lem-companion-measurement-derivatives-full` and Theorem {prf:ref}`thm-diversity-pairing-measurement-regularity`:\n2696: \n2697: $$\n2698: \\|\\nabla^m d_j^{\\text{soft}}\\|, \\|\\nabla^m d_j^{\\text{pair}}\\| \\leq C_m \\cdot m! \\cdot \\max(\\varepsilon_{\\text{comp}}^{-m}, \\varepsilon_d^{1-m})\n2699: \n2700: $$\n2701: \n2702: with the **same constants** $C_m$ (k-uniform). Therefore, both mechanisms yield measurements with identical regularity class.\n2703: \n2704: **Step 6: Propagation through the fitness pipeline.**\n2705: \n2706: The fitness potential is computed via:\n2707: \n2708: $$\n2709: V_{\\text{fit}} = g_A(Z_\\rho(\\mu_\\rho, \\sigma_\\rho^2))\n2710: \n2711: $$\n2712: \n2713: where $\\mu_\\rho^{(i)} = \\sum_j w_{ij}(\\rho) d_j$ (localized mean) and subsequent nonlinear stages (variance, std dev, Z-score, rescale).\n2714: \n2715: **Key observation**: Since $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have **identical analytical structure** (same regularity, same Gevrey-1 constants), the entire pipeline applied to either set of measurements yields fitness potentials with:\n2716: \n2717: 1. **Same regularity class**: Both $V_{\\text{fit}}^{\\text{soft}}$ and $V_{\\text{fit}}^{\\text{pair}}$ are C^\u221e\n2718: 2. **Same Gevrey-1 bounds**: $\\|\\nabla^m V_{\\text{fit}}\\| \\leq C_{V,m} \\cdot m!$ with identical constants\n2719: 3. **Same k-uniformity**: All constants independent of $k$\n2720: \n2721: **Quantitative difference**: Establishing $\\|V_{\\text{fit}}^{\\text{pair}} - V_{\\text{fit}}^{\\text{soft}}\\|_\\infty = O(k^{-\\alpha})$ requires:\n2722: - Quantitative bound on $|\\Delta_j|$ (Step 4, open problem)\n2723: - Lipschitz stability analysis for nonlinear stages (variance, square root, quotient, composition)\n2724: - Propagation of perturbations through the six-stage pipeline\n2725: \n2726: This is **deferred to future work**. The current document establishes only the **qualitative equivalence** of analytical properties.",
      "metadata": {},
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [
        "cor-effective-interaction-radius-full",
        "assump-uniform-density-full",
        "lem-companion-measurement-derivatives-full",
        "thm-diversity-pairing-measurement-regularity"
      ],
      "raw_directive": "2601: :::\n2602: \n2603: :::{prf:proof}\n2604: **Step 1: Mechanism comparison via moment matching.**\n2605: \n2606: Both mechanisms select companions based on phase-space proximity via exponential kernels. The key difference is:\n2607: - **Softmax**: Each walker's companion selected **independently**\n2608: - **Pairing**: Companions selected **jointly** to form a matching\n2609: \n2610: For walker $j$, define the **marginal distribution** of the diversity pairing:\n2611: \n2612: $$\n2613: P_{\\text{pair}}(c(j) = \\ell | S) := \\sum_{M \\in \\mathcal{M}_k : M(j) = \\ell} P_{\\text{ideal}}(M | S)\n2614: \n2615: $$\n2616: \n2617: This is the probability that walker $j$ is matched with $\\ell$ in the ideal pairing model.\n2618: \n2619: **Claim**: $P_{\\text{pair}}(c(j) = \\ell | S) \\approx P_{\\text{softmax}}(c(j) = \\ell | S)$ up to $O(k^{-1})$ corrections.\n2620: \n2621: **Intuition**: The pairing constraint (matching must be perfect) introduces correlations, but these are weak for large $k$ due to exponential localization. Walker $j$'s companion depends primarily on $j$'s own neighborhood, with negligible coupling to distant walkers' pairing choices.\n2622: \n2623: **Step 2: Exponential concentration analysis.**\n2624: \n2625: By Corollary {prf:ref}`cor-effective-interaction-radius-full`, with high probability ($\\geq 1 - 1/k$), companion $c(j)$ satisfies:\n2626: \n2627: $$\n2628: d_{\\text{alg}}(j, c(j)) \\leq R_{\\text{eff}} = O(\\varepsilon_{\\text{comp}} \\sqrt{\\log k})\n2629: \n2630: $$\n2631: \n2632: The number of potential companions within $R_{\\text{eff}}$ is:\n2633: \n2634: $$\n2635: k_{\\text{eff}}(j) = |\\{\\ell \\in \\mathcal{A} : d_{\\text{alg}}(j,\\ell) \\leq R_{\\text{eff}}\\}| = O(\\rho_{\\max} R_{\\text{eff}}^{2d}) = O(\\log^d k)\n2636: \n2637: $$\n2638: \n2639: (by uniform density bound {prf:ref}`assump-uniform-density-full`).\n2640: \n2641: **Key Observation**: For $k \\gg k_{\\text{eff}}(j)$, the pairing constraint affects only a negligible fraction of walkers. The probability that walker $j$'s preferred companions are \"blocked\" (already matched) is $O(k_{\\text{eff}} / k) = O(\\log^d k / k) = o(1)$.\n2642: \n2643: **Step 3: Marginal distribution comparison (qualitative).**\n2644: \n2645: The softmax distribution is:\n2646: \n2647: $$\n2648: P_{\\text{softmax}}(c(j) = \\ell | S) = \\frac{\\exp(-d_{\\text{alg}}^2(j,\\ell)/(2\\varepsilon_{\\text{comp}}^2))}{Z_j^{\\text{soft}}}\n2649: \n2650: $$\n2651: \n2652: where $Z_j^{\\text{soft}} = \\sum_{\\ell' \\in \\mathcal{A} \\setminus \\{j\\}} \\exp(-d_{\\text{alg}}^2(j,\\ell')/(2\\varepsilon_{\\text{comp}}^2))$.\n2653: \n2654: The pairing marginal has the form:\n2655: \n2656: $$\n2657: P_{\\text{pair}}(c(j) = \\ell | S) = \\frac{\\sum_{M: M(j)=\\ell} W(M)}{\\sum_{M' \\in \\mathcal{M}_k} W(M')}\n2658: \n2659: $$\n2660: \n2661: where the weights $W(M) = \\prod_{(i,j') \\in M} \\exp(-d_{\\text{alg}}^2(i,j')/(2\\varepsilon_{\\text{pair}}^2))$ have the same exponential structure as softmax.\n2662: \n2663: **Key observation**: Both distributions:\n2664: 1. Are quotients of exponentially weighted sums (identical analytical structure)\n2665: 2. Concentrate on nearby walkers (exponential locality with the same scale)\n2666: 3. Involve $k_{\\text{eff}}^{(\\varepsilon_c)} = \\mathcal{O}((\\log k)^d)$ effective interacting companions\n2667: \n2668: Therefore, both $P_{\\text{softmax}}$ and $P_{\\text{pair}}$ have **identical regularity properties**: C^\u221e with Gevrey-1 derivative bounds.\n2669: \n2670: **Quantitative difference**: Establishing $|P_{\\text{pair}} - P_{\\text{softmax}}| = O(k^{-\\alpha})$ requires coupling analysis between independent sampling (softmax) and constrained matching (pairing). This is an **open problem** for future work.\n2671: \n2672: **Step 4: Expected measurement difference (qualitative).**\n2673: \n2674: The expected measurements are:\n2675: \n2676: $$\n2677: \\begin{aligned}\n2678: d_j^{\\text{soft}} &= \\sum_{\\ell} P_{\\text{softmax}}(c(j) = \\ell) \\cdot d_{\\text{alg}}(j, \\ell) \\\\\n2679: d_j^{\\text{pair}} &= \\sum_{\\ell} P_{\\text{pair}}(c(j) = \\ell) \\cdot d_{\\text{alg}}(j, \\ell)\n2680: \\end{aligned}\n2681: \n2682: $$\n2683: \n2684: Both are weighted sums over the same quantity $d_{\\text{alg}}(j, \\ell)$ with probability distributions $P_{\\text{softmax}}$ and $P_{\\text{pair}}$ that:\n2685: 1. Have the same support (nearby walkers in phase space)\n2686: 2. Have the same exponential concentration structure\n2687: 3. Both concentrate on $k_{\\text{eff}}^{(\\varepsilon_c)} = \\mathcal{O}((\\log k)^d)$ effective companions\n2688: \n2689: Therefore, the measurements $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have the **same analytical structure** (quotients of exponentially weighted sums) with **identical regularity properties** (C^\u221e with Gevrey-1 bounds).\n2690: \n2691: **Quantitative convergence rate**: The quantitative difference $|\\Delta_j| := |d_j^{\\text{pair}} - d_j^{\\text{soft}}|$ is **bounded** (both measurements are O(diam(X\u00d7V))), but establishing an explicit convergence rate $O(k^{-\\alpha})$ requires a rigorous coupling analysis between the softmax and pairing distributions. This is an **open problem** for future work.\n2692: \n2693: **Step 5: Identical derivative structure.**\n2694: \n2695: Both $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have Gevrey-1 derivative bounds by Lemma {prf:ref}`lem-companion-measurement-derivatives-full` and Theorem {prf:ref}`thm-diversity-pairing-measurement-regularity`:\n2696: \n2697: $$\n2698: \\|\\nabla^m d_j^{\\text{soft}}\\|, \\|\\nabla^m d_j^{\\text{pair}}\\| \\leq C_m \\cdot m! \\cdot \\max(\\varepsilon_{\\text{comp}}^{-m}, \\varepsilon_d^{1-m})\n2699: \n2700: $$\n2701: \n2702: with the **same constants** $C_m$ (k-uniform). Therefore, both mechanisms yield measurements with identical regularity class.\n2703: \n2704: **Step 6: Propagation through the fitness pipeline.**\n2705: \n2706: The fitness potential is computed via:\n2707: \n2708: $$\n2709: V_{\\text{fit}} = g_A(Z_\\rho(\\mu_\\rho, \\sigma_\\rho^2))\n2710: \n2711: $$\n2712: \n2713: where $\\mu_\\rho^{(i)} = \\sum_j w_{ij}(\\rho) d_j$ (localized mean) and subsequent nonlinear stages (variance, std dev, Z-score, rescale).\n2714: \n2715: **Key observation**: Since $d_j^{\\text{soft}}$ and $d_j^{\\text{pair}}$ have **identical analytical structure** (same regularity, same Gevrey-1 constants), the entire pipeline applied to either set of measurements yields fitness potentials with:\n2716: \n2717: 1. **Same regularity class**: Both $V_{\\text{fit}}^{\\text{soft}}$ and $V_{\\text{fit}}^{\\text{pair}}$ are C^\u221e\n2718: 2. **Same Gevrey-1 bounds**: $\\|\\nabla^m V_{\\text{fit}}\\| \\leq C_{V,m} \\cdot m!$ with identical constants\n2719: 3. **Same k-uniformity**: All constants independent of $k$\n2720: \n2721: **Quantitative difference**: Establishing $\\|V_{\\text{fit}}^{\\text{pair}} - V_{\\text{fit}}^{\\text{soft}}\\|_\\infty = O(k^{-\\alpha})$ requires:\n2722: - Quantitative bound on $|\\Delta_j|$ (Step 4, open problem)\n2723: - Lipschitz stability analysis for nonlinear stages (variance, square root, quotient, composition)\n2724: - Propagation of perturbations through the six-stage pipeline\n2725: \n2726: This is **deferred to future work**. The current document establishes only the **qualitative equivalence** of analytical properties.\n2727: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-lipschitz-pipeline-stability-full",
      "title": "Lipschitz Stability of Nonlinear Pipeline",
      "start_line": 2757,
      "end_line": 2780,
      "header_lines": [
        2758
      ],
      "content_start": 2760,
      "content_end": 2779,
      "content": "2760: :label: lem-lipschitz-pipeline-stability-full\n2761: \n2762: Let $\\{d_j\\}_{j \\in \\mathcal{A}}$ and $\\{\\tilde{d}_j\\}_{j \\in \\mathcal{A}}$ be two sets of measurements satisfying the same bounds (bounded by $\\text{diam}(\\mathcal{X} \\times V)$, C^\u221e with Gevrey-1 constants). Define:\n2763: \n2764: $$\n2765: \\|\\Delta\\|_\\infty := \\max_{j \\in \\mathcal{A}} |d_j - \\tilde{d}_j|\n2766: \n2767: $$\n2768: \n2769: Then the fitness potentials computed from these measurements satisfy:\n2770: \n2771: $$\n2772: |V_{\\text{fit}}[d] - V_{\\text{fit}}[\\tilde{d}]| \\leq L_V \\cdot (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2773: \n2774: $$\n2775: \n2776: where $L_V$ is a Lipschitz constant depending on:\n2777: - Regularization parameters: $\\eta_{\\min}$ (prevents division by zero), $\\rho$ (localization scale)\n2778: - Domain bounds: $\\text{diam}(\\mathcal{X} \\times V)$, $\\rho_{\\max}$\n2779: - Rescale function: $\\|g_A'\\|_\\infty$",
      "metadata": {
        "label": "lem-lipschitz-pipeline-stability-full"
      },
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2757: This section establishes that **if** measurements differ by $\\|\\Delta\\|_\\infty$, then the fitness potential difference can be bounded via Lipschitz stability analysis through the nonlinear pipeline stages. This provides the foundation for quantitative equivalence analysis (future work).\n2758: \n2759: :::{prf:lemma} Lipschitz Stability of Nonlinear Pipeline\n2760: :label: lem-lipschitz-pipeline-stability-full\n2761: \n2762: Let $\\{d_j\\}_{j \\in \\mathcal{A}}$ and $\\{\\tilde{d}_j\\}_{j \\in \\mathcal{A}}$ be two sets of measurements satisfying the same bounds (bounded by $\\text{diam}(\\mathcal{X} \\times V)$, C^\u221e with Gevrey-1 constants). Define:\n2763: \n2764: $$\n2765: \\|\\Delta\\|_\\infty := \\max_{j \\in \\mathcal{A}} |d_j - \\tilde{d}_j|\n2766: \n2767: $$\n2768: \n2769: Then the fitness potentials computed from these measurements satisfy:\n2770: \n2771: $$\n2772: |V_{\\text{fit}}[d] - V_{\\text{fit}}[\\tilde{d}]| \\leq L_V \\cdot (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2773: \n2774: $$\n2775: \n2776: where $L_V$ is a Lipschitz constant depending on:\n2777: - Regularization parameters: $\\eta_{\\min}$ (prevents division by zero), $\\rho$ (localization scale)\n2778: - Domain bounds: $\\text{diam}(\\mathcal{X} \\times V)$, $\\rho_{\\max}$\n2779: - Rescale function: $\\|g_A'\\|_\\infty$\n2780: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-257",
      "title": null,
      "start_line": 2782,
      "end_line": 2936,
      "header_lines": [],
      "content_start": 2783,
      "content_end": 2935,
      "content": "2783: \n2784: :::{prf:proof}\n2785: We analyze perturbation propagation through each stage of the pipeline.\n2786: \n2787: **Stage 1: Localized Mean** (Linear propagation)\n2788: \n2789: $$\n2790: \\mu_\\rho^{(i)} = \\sum_{j \\in \\mathcal{A}} w_{ij}(\\rho) \\cdot d_j\n2791: \n2792: $$\n2793: \n2794: For the perturbed measurements:\n2795: \n2796: $$\n2797: \\tilde{\\mu}_\\rho^{(i)} = \\sum_{j \\in \\mathcal{A}} w_{ij}(\\rho) \\cdot \\tilde{d}_j\n2798: \n2799: $$\n2800: \n2801: The difference is:\n2802: \n2803: $$\n2804: |\\delta \\mu_\\rho| := |\\tilde{\\mu}_\\rho - \\mu_\\rho| = \\left|\\sum_{j} w_{ij} (d_j - \\tilde{d}_j)\\right| \\leq \\sum_{j} w_{ij} |\\Delta_j| \\leq \\|\\Delta\\|_\\infty \\cdot \\underbrace{\\sum_j w_{ij}}_{=1} = \\|\\Delta\\|_\\infty\n2805: \n2806: $$\n2807: \n2808: using normalization $\\sum_j w_{ij} = 1$.\n2809: \n2810: **Stage 2: Localized Variance** (Quadratic propagation)\n2811: \n2812: $$\n2813: \\sigma_\\rho^{2(i)} = \\sum_{j} w_{ij} (d_j - \\mu_\\rho)^2\n2814: \n2815: $$\n2816: \n2817: For perturbed measurements:\n2818: \n2819: $$\n2820: \\tilde{\\sigma}_\\rho^{2} = \\sum_{j} w_{ij} (\\tilde{d}_j - \\tilde{\\mu}_\\rho)^2\n2821: \n2822: $$\n2823: \n2824: Expanding:\n2825: \n2826: $$\n2827: \\begin{aligned}\n2828: \\delta(\\sigma_\\rho^2) &= \\sum_j w_{ij} [(\\tilde{d}_j - \\tilde{\\mu}_\\rho)^2 - (d_j - \\mu_\\rho)^2] \\\\\n2829: &= \\sum_j w_{ij} [(d_j + \\Delta_j - \\mu_\\rho - \\delta\\mu_\\rho)^2 - (d_j - \\mu_\\rho)^2] \\\\\n2830: &= \\sum_j w_{ij} [2(d_j - \\mu_\\rho)\\Delta_j + \\Delta_j^2 - 2(d_j - \\mu_\\rho)\\delta\\mu_\\rho + (\\delta\\mu_\\rho)^2 + 2\\Delta_j \\delta\\mu_\\rho]\n2831: \\end{aligned}\n2832: \n2833: $$\n2834: \n2835: Using $\\sum_j w_{ij}(d_j - \\mu_\\rho) = 0$ (definition of $\\mu_\\rho$), the linear term in $(d_j - \\mu_\\rho)$ vanishes. The remaining terms:\n2836: \n2837: $$\n2838: |\\delta(\\sigma_\\rho^2)| \\leq \\sum_j w_{ij} (|\\Delta_j|^2 + 2|\\Delta_j||\\delta\\mu_\\rho|) + |\\delta\\mu_\\rho|^2 \\leq 2\\|\\Delta\\|_\\infty^2 + 2\\|\\Delta\\|_\\infty^2 + \\|\\Delta\\|_\\infty^2 = 5\\|\\Delta\\|_\\infty^2\n2839: \n2840: $$\n2841: \n2842: **Stage 3: Regularized Standard Deviation** (Square root with regularization)\n2843: \n2844: $$\n2845: \\sigma'_\\rho = \\sqrt{\\sigma_\\rho^2 + \\eta_{\\min}^2}\n2846: \n2847: $$\n2848: \n2849: For the perturbed quantity:\n2850: \n2851: $$\n2852: \\tilde{\\sigma}'_\\rho = \\sqrt{\\tilde{\\sigma}_\\rho^2 + \\eta_{\\min}^2} = \\sqrt{\\sigma_\\rho^2 + \\delta(\\sigma_\\rho^2) + \\eta_{\\min}^2}\n2853: \n2854: $$\n2855: \n2856: Using the mean value theorem for $f(x) = \\sqrt{x}$:\n2857: \n2858: $$\n2859: |\\delta(\\sigma'_\\rho)| = \\left|\\sqrt{\\sigma_\\rho^2 + \\delta(\\sigma_\\rho^2) + \\eta_{\\min}^2} - \\sqrt{\\sigma_\\rho^2 + \\eta_{\\min}^2}\\right| \\leq \\frac{|\\delta(\\sigma_\\rho^2)|}{2\\sqrt{\\eta_{\\min}^2}} = \\frac{|\\delta(\\sigma_\\rho^2)|}{2\\eta_{\\min}}\n2860: \n2861: $$\n2862: \n2863: where the inequality uses $\\sigma_\\rho^2 + \\eta_{\\min}^2 \\geq \\eta_{\\min}^2$. Therefore:\n2864: \n2865: $$\n2866: |\\delta(\\sigma'_\\rho)| \\leq \\frac{5\\|\\Delta\\|_\\infty^2}{2\\eta_{\\min}}\n2867: \n2868: $$\n2869: \n2870: **Key**: The regularization $\\eta_{\\min} > 0$ prevents division by zero, providing a **uniform Lipschitz constant**.\n2871: \n2872: **Stage 4: Own Measurement** (bounded)\n2873: \n2874: For walker $i$, its own measurement also changes:\n2875: \n2876: $$\n2877: |\\delta(d_i)| \\leq \\|\\Delta\\|_\\infty\n2878: \n2879: $$\n2880: \n2881: **Stage 5: Z-Score** (Quotient with bounded denominator)\n2882: \n2883: $$\n2884: Z_\\rho = \\frac{d_i - \\mu_\\rho}{\\sigma'_\\rho}\n2885: \n2886: $$\n2887: \n2888: For the perturbed Z-score:\n2889: \n2890: $$\n2891: \\tilde{Z}_\\rho = \\frac{\\tilde{d}_i - \\tilde{\\mu}_\\rho}{\\tilde{\\sigma}'_\\rho} = \\frac{(d_i + \\delta d_i) - (\\mu_\\rho + \\delta \\mu_\\rho)}{(\\sigma'_\\rho + \\delta \\sigma'_\\rho)}\n2892: \n2893: $$\n2894: \n2895: Using quotient rule:\n2896: \n2897: $$\n2898: \\begin{aligned}\n2899: |\\delta(Z_\\rho)| &= \\left|\\frac{(d_i + \\delta d_i) - (\\mu_\\rho + \\delta \\mu_\\rho)}{\\sigma'_\\rho + \\delta \\sigma'_\\rho} - \\frac{d_i - \\mu_\\rho}{\\sigma'_\\rho}\\right| \\\\\n2900: &\\leq \\frac{|\\delta d_i - \\delta \\mu_\\rho| \\cdot \\sigma'_\\rho + |d_i - \\mu_\\rho| \\cdot |\\delta \\sigma'_\\rho|}{(\\sigma'_\\rho)(\\sigma'_\\rho + \\delta \\sigma'_\\rho)}\n2901: \\end{aligned}\n2902: \n2903: $$\n2904: \n2905: Since $\\sigma'_\\rho \\geq \\eta_{\\min}$ and $|d_i - \\mu_\\rho| \\leq \\text{diam}(\\mathcal{X} \\times V) =: D_{\\max}$:\n2906: \n2907: $$\n2908: |\\delta(Z_\\rho)| \\leq \\frac{2\\|\\Delta\\|_\\infty}{\\eta_{\\min}} + \\frac{D_{\\max}}{\\eta_{\\min}^2} \\cdot \\frac{5\\|\\Delta\\|_\\infty^2}{2} \\leq C_Z (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2909: \n2910: $$\n2911: \n2912: where $C_Z = \\max(2/\\eta_{\\min}, 5D_{\\max}/(2\\eta_{\\min}^2))$ is **k-uniform**.\n2913: \n2914: **Stage 6: Fitness Rescaling** (Lipschitz composition)\n2915: \n2916: $$\n2917: V_{\\text{fit}} = g_A(Z_\\rho)\n2918: \n2919: $$\n2920: \n2921: Since $g_A \\in C^\\infty$ is Lipschitz on bounded domains (Z-score is bounded by $D_{\\max}/\\eta_{\\min}$):\n2922: \n2923: $$\n2924: |\\delta(V_{\\text{fit}})| = |g_A(\\tilde{Z}_\\rho) - g_A(Z_\\rho)| \\leq \\|g_A'\\|_\\infty \\cdot |\\delta(Z_\\rho)| \\leq L_g \\cdot C_Z (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2925: \n2926: $$\n2927: \n2928: where $L_g = \\|g_A'\\|_\\infty$ is the Lipschitz constant of the rescale function.\n2929: \n2930: **Conclusion**: Setting $L_V = L_g \\cdot C_Z$, we have:\n2931: \n2932: $$\n2933: |V_{\\text{fit}}[d] - V_{\\text{fit}}[\\tilde{d}]| \\leq L_V \\cdot (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2934: \n2935: $$",
      "metadata": {},
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2782: :::\n2783: \n2784: :::{prf:proof}\n2785: We analyze perturbation propagation through each stage of the pipeline.\n2786: \n2787: **Stage 1: Localized Mean** (Linear propagation)\n2788: \n2789: $$\n2790: \\mu_\\rho^{(i)} = \\sum_{j \\in \\mathcal{A}} w_{ij}(\\rho) \\cdot d_j\n2791: \n2792: $$\n2793: \n2794: For the perturbed measurements:\n2795: \n2796: $$\n2797: \\tilde{\\mu}_\\rho^{(i)} = \\sum_{j \\in \\mathcal{A}} w_{ij}(\\rho) \\cdot \\tilde{d}_j\n2798: \n2799: $$\n2800: \n2801: The difference is:\n2802: \n2803: $$\n2804: |\\delta \\mu_\\rho| := |\\tilde{\\mu}_\\rho - \\mu_\\rho| = \\left|\\sum_{j} w_{ij} (d_j - \\tilde{d}_j)\\right| \\leq \\sum_{j} w_{ij} |\\Delta_j| \\leq \\|\\Delta\\|_\\infty \\cdot \\underbrace{\\sum_j w_{ij}}_{=1} = \\|\\Delta\\|_\\infty\n2805: \n2806: $$\n2807: \n2808: using normalization $\\sum_j w_{ij} = 1$.\n2809: \n2810: **Stage 2: Localized Variance** (Quadratic propagation)\n2811: \n2812: $$\n2813: \\sigma_\\rho^{2(i)} = \\sum_{j} w_{ij} (d_j - \\mu_\\rho)^2\n2814: \n2815: $$\n2816: \n2817: For perturbed measurements:\n2818: \n2819: $$\n2820: \\tilde{\\sigma}_\\rho^{2} = \\sum_{j} w_{ij} (\\tilde{d}_j - \\tilde{\\mu}_\\rho)^2\n2821: \n2822: $$\n2823: \n2824: Expanding:\n2825: \n2826: $$\n2827: \\begin{aligned}\n2828: \\delta(\\sigma_\\rho^2) &= \\sum_j w_{ij} [(\\tilde{d}_j - \\tilde{\\mu}_\\rho)^2 - (d_j - \\mu_\\rho)^2] \\\\\n2829: &= \\sum_j w_{ij} [(d_j + \\Delta_j - \\mu_\\rho - \\delta\\mu_\\rho)^2 - (d_j - \\mu_\\rho)^2] \\\\\n2830: &= \\sum_j w_{ij} [2(d_j - \\mu_\\rho)\\Delta_j + \\Delta_j^2 - 2(d_j - \\mu_\\rho)\\delta\\mu_\\rho + (\\delta\\mu_\\rho)^2 + 2\\Delta_j \\delta\\mu_\\rho]\n2831: \\end{aligned}\n2832: \n2833: $$\n2834: \n2835: Using $\\sum_j w_{ij}(d_j - \\mu_\\rho) = 0$ (definition of $\\mu_\\rho$), the linear term in $(d_j - \\mu_\\rho)$ vanishes. The remaining terms:\n2836: \n2837: $$\n2838: |\\delta(\\sigma_\\rho^2)| \\leq \\sum_j w_{ij} (|\\Delta_j|^2 + 2|\\Delta_j||\\delta\\mu_\\rho|) + |\\delta\\mu_\\rho|^2 \\leq 2\\|\\Delta\\|_\\infty^2 + 2\\|\\Delta\\|_\\infty^2 + \\|\\Delta\\|_\\infty^2 = 5\\|\\Delta\\|_\\infty^2\n2839: \n2840: $$\n2841: \n2842: **Stage 3: Regularized Standard Deviation** (Square root with regularization)\n2843: \n2844: $$\n2845: \\sigma'_\\rho = \\sqrt{\\sigma_\\rho^2 + \\eta_{\\min}^2}\n2846: \n2847: $$\n2848: \n2849: For the perturbed quantity:\n2850: \n2851: $$\n2852: \\tilde{\\sigma}'_\\rho = \\sqrt{\\tilde{\\sigma}_\\rho^2 + \\eta_{\\min}^2} = \\sqrt{\\sigma_\\rho^2 + \\delta(\\sigma_\\rho^2) + \\eta_{\\min}^2}\n2853: \n2854: $$\n2855: \n2856: Using the mean value theorem for $f(x) = \\sqrt{x}$:\n2857: \n2858: $$\n2859: |\\delta(\\sigma'_\\rho)| = \\left|\\sqrt{\\sigma_\\rho^2 + \\delta(\\sigma_\\rho^2) + \\eta_{\\min}^2} - \\sqrt{\\sigma_\\rho^2 + \\eta_{\\min}^2}\\right| \\leq \\frac{|\\delta(\\sigma_\\rho^2)|}{2\\sqrt{\\eta_{\\min}^2}} = \\frac{|\\delta(\\sigma_\\rho^2)|}{2\\eta_{\\min}}\n2860: \n2861: $$\n2862: \n2863: where the inequality uses $\\sigma_\\rho^2 + \\eta_{\\min}^2 \\geq \\eta_{\\min}^2$. Therefore:\n2864: \n2865: $$\n2866: |\\delta(\\sigma'_\\rho)| \\leq \\frac{5\\|\\Delta\\|_\\infty^2}{2\\eta_{\\min}}\n2867: \n2868: $$\n2869: \n2870: **Key**: The regularization $\\eta_{\\min} > 0$ prevents division by zero, providing a **uniform Lipschitz constant**.\n2871: \n2872: **Stage 4: Own Measurement** (bounded)\n2873: \n2874: For walker $i$, its own measurement also changes:\n2875: \n2876: $$\n2877: |\\delta(d_i)| \\leq \\|\\Delta\\|_\\infty\n2878: \n2879: $$\n2880: \n2881: **Stage 5: Z-Score** (Quotient with bounded denominator)\n2882: \n2883: $$\n2884: Z_\\rho = \\frac{d_i - \\mu_\\rho}{\\sigma'_\\rho}\n2885: \n2886: $$\n2887: \n2888: For the perturbed Z-score:\n2889: \n2890: $$\n2891: \\tilde{Z}_\\rho = \\frac{\\tilde{d}_i - \\tilde{\\mu}_\\rho}{\\tilde{\\sigma}'_\\rho} = \\frac{(d_i + \\delta d_i) - (\\mu_\\rho + \\delta \\mu_\\rho)}{(\\sigma'_\\rho + \\delta \\sigma'_\\rho)}\n2892: \n2893: $$\n2894: \n2895: Using quotient rule:\n2896: \n2897: $$\n2898: \\begin{aligned}\n2899: |\\delta(Z_\\rho)| &= \\left|\\frac{(d_i + \\delta d_i) - (\\mu_\\rho + \\delta \\mu_\\rho)}{\\sigma'_\\rho + \\delta \\sigma'_\\rho} - \\frac{d_i - \\mu_\\rho}{\\sigma'_\\rho}\\right| \\\\\n2900: &\\leq \\frac{|\\delta d_i - \\delta \\mu_\\rho| \\cdot \\sigma'_\\rho + |d_i - \\mu_\\rho| \\cdot |\\delta \\sigma'_\\rho|}{(\\sigma'_\\rho)(\\sigma'_\\rho + \\delta \\sigma'_\\rho)}\n2901: \\end{aligned}\n2902: \n2903: $$\n2904: \n2905: Since $\\sigma'_\\rho \\geq \\eta_{\\min}$ and $|d_i - \\mu_\\rho| \\leq \\text{diam}(\\mathcal{X} \\times V) =: D_{\\max}$:\n2906: \n2907: $$\n2908: |\\delta(Z_\\rho)| \\leq \\frac{2\\|\\Delta\\|_\\infty}{\\eta_{\\min}} + \\frac{D_{\\max}}{\\eta_{\\min}^2} \\cdot \\frac{5\\|\\Delta\\|_\\infty^2}{2} \\leq C_Z (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2909: \n2910: $$\n2911: \n2912: where $C_Z = \\max(2/\\eta_{\\min}, 5D_{\\max}/(2\\eta_{\\min}^2))$ is **k-uniform**.\n2913: \n2914: **Stage 6: Fitness Rescaling** (Lipschitz composition)\n2915: \n2916: $$\n2917: V_{\\text{fit}} = g_A(Z_\\rho)\n2918: \n2919: $$\n2920: \n2921: Since $g_A \\in C^\\infty$ is Lipschitz on bounded domains (Z-score is bounded by $D_{\\max}/\\eta_{\\min}$):\n2922: \n2923: $$\n2924: |\\delta(V_{\\text{fit}})| = |g_A(\\tilde{Z}_\\rho) - g_A(Z_\\rho)| \\leq \\|g_A'\\|_\\infty \\cdot |\\delta(Z_\\rho)| \\leq L_g \\cdot C_Z (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2925: \n2926: $$\n2927: \n2928: where $L_g = \\|g_A'\\|_\\infty$ is the Lipschitz constant of the rescale function.\n2929: \n2930: **Conclusion**: Setting $L_V = L_g \\cdot C_Z$, we have:\n2931: \n2932: $$\n2933: |V_{\\text{fit}}[d] - V_{\\text{fit}}[\\tilde{d}]| \\leq L_V \\cdot (\\|\\Delta\\|_\\infty + \\|\\Delta\\|_\\infty^2)\n2934: \n2935: $$\n2936: "
    },
    {
      "directive_type": "remark",
      "label": "rem-lipschitz-implies-convergence",
      "title": "Implications for Quantitative Equivalence",
      "start_line": 2938,
      "end_line": 2949,
      "header_lines": [
        2939
      ],
      "content_start": 2941,
      "content_end": 2948,
      "content": "2941: :label: rem-lipschitz-implies-convergence\n2942: \n2943: This lemma shows that **IF** measurements differ by $\\|\\Delta\\|_\\infty = O(k^{-\\alpha})$, **THEN** fitness potentials differ by $O(k^{-\\alpha}) + O(k^{-2\\alpha})$.\n2944: \n2945: For the softmax vs pairing comparison:\n2946: - **What's established**: Both mechanisms have identical analytical structure (C^\u221e with same Gevrey-1 bounds)\n2947: - **What's needed**: Quantitative bound $\\|\\Delta\\|_\\infty = O(k^{-\\alpha})$ via coupling analysis\n2948: - **What follows**: If coupling bound is established, Lipschitz stability immediately gives fitness convergence",
      "metadata": {
        "label": "rem-lipschitz-implies-convergence"
      },
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2938: :::\n2939: \n2940: :::{prf:remark} Implications for Quantitative Equivalence\n2941: :label: rem-lipschitz-implies-convergence\n2942: \n2943: This lemma shows that **IF** measurements differ by $\\|\\Delta\\|_\\infty = O(k^{-\\alpha})$, **THEN** fitness potentials differ by $O(k^{-\\alpha}) + O(k^{-2\\alpha})$.\n2944: \n2945: For the softmax vs pairing comparison:\n2946: - **What's established**: Both mechanisms have identical analytical structure (C^\u221e with same Gevrey-1 bounds)\n2947: - **What's needed**: Quantitative bound $\\|\\Delta\\|_\\infty = O(k^{-\\alpha})$ via coupling analysis\n2948: - **What follows**: If coupling bound is established, Lipschitz stability immediately gives fitness convergence\n2949: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-unified-cinf-regularity-both-mechanisms",
      "title": "C^\u221e Regularity of Companion-Dependent Fitness Potential (Both Mechanisms)",
      "start_line": 2953,
      "end_line": 2982,
      "header_lines": [
        2954
      ],
      "content_start": 2956,
      "content_end": 2981,
      "content": "2956: :label: thm-unified-cinf-regularity-both-mechanisms\n2957: \n2958: Under the framework assumptions (kinetic regularization providing density bound, companion availability, regularization parameters $\\varepsilon_d, \\varepsilon_c > 0$), the fitness potential:\n2959: \n2960: $$\n2961: V_{\\text{fit}}(x_i, v_i) = g_A\\left(Z_\\rho\\left(\\mu_\\rho^{(i)}, \\sigma_\\rho^{2(i)}\\right)\\right)\n2962: \n2963: $$\n2964: \n2965: computed with **either** companion selection mechanism (independent softmax or diversity pairing) is **C^\u221e** for all $(x_i, v_i) \\in \\mathcal{X} \\times \\mathbb{R}^d$.\n2966: \n2967: **Derivative Bounds** (k-uniform Gevrey-1): For all $m \\geq 0$:\n2968: \n2969: $$\n2970: \\|\\nabla^m_{x_i, v_i} V_{\\text{fit}}\\|_\\infty \\leq C_{V,m} \\cdot \\max(\\rho^{-m}, \\varepsilon_d^{1-m}, \\eta_{\\min}^{1-m})\n2971: \n2972: $$\n2973: \n2974: where $C_{V,m} = \\mathcal{O}(m!)$ (Gevrey-1) is **k-uniform** (independent of swarm size $k$ or $N$) and depends only on:\n2975: - Algorithmic parameters: $\\rho$ (localization scale), $\\varepsilon_c$ (companion selection temperature), $\\varepsilon_d$ (distance regularization), $\\eta_{\\min}$ (variance regularization\u2014see \u00a712.3 for derivation from quotient rule in $\\sigma'_\\rho = \\sqrt{\\sigma_\\rho^2 + \\eta^2}$)\n2976: - Dimension: $d$\n2977: - Density bound: $\\rho_{\\max}$ (derived from kinetic dynamics)\n2978: \n2979: **Mechanism Equivalence**:\n2980: - **Regularity class**: **IDENTICAL** - Both mechanisms achieve C^\u221e with k-uniform Gevrey-1 bounds\n2981: - **Gevrey-1 constants**: **IDENTICAL** - Both mechanisms have the same constants $C_{V,m} = \\mathcal{O}(m!)$",
      "metadata": {
        "label": "thm-unified-cinf-regularity-both-mechanisms"
      },
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [],
      "raw_directive": "2953: ### 5.7.4 Unified Main Theorem\n2954: \n2955: :::{prf:theorem} C^\u221e Regularity of Companion-Dependent Fitness Potential (Both Mechanisms)\n2956: :label: thm-unified-cinf-regularity-both-mechanisms\n2957: \n2958: Under the framework assumptions (kinetic regularization providing density bound, companion availability, regularization parameters $\\varepsilon_d, \\varepsilon_c > 0$), the fitness potential:\n2959: \n2960: $$\n2961: V_{\\text{fit}}(x_i, v_i) = g_A\\left(Z_\\rho\\left(\\mu_\\rho^{(i)}, \\sigma_\\rho^{2(i)}\\right)\\right)\n2962: \n2963: $$\n2964: \n2965: computed with **either** companion selection mechanism (independent softmax or diversity pairing) is **C^\u221e** for all $(x_i, v_i) \\in \\mathcal{X} \\times \\mathbb{R}^d$.\n2966: \n2967: **Derivative Bounds** (k-uniform Gevrey-1): For all $m \\geq 0$:\n2968: \n2969: $$\n2970: \\|\\nabla^m_{x_i, v_i} V_{\\text{fit}}\\|_\\infty \\leq C_{V,m} \\cdot \\max(\\rho^{-m}, \\varepsilon_d^{1-m}, \\eta_{\\min}^{1-m})\n2971: \n2972: $$\n2973: \n2974: where $C_{V,m} = \\mathcal{O}(m!)$ (Gevrey-1) is **k-uniform** (independent of swarm size $k$ or $N$) and depends only on:\n2975: - Algorithmic parameters: $\\rho$ (localization scale), $\\varepsilon_c$ (companion selection temperature), $\\varepsilon_d$ (distance regularization), $\\eta_{\\min}$ (variance regularization\u2014see \u00a712.3 for derivation from quotient rule in $\\sigma'_\\rho = \\sqrt{\\sigma_\\rho^2 + \\eta^2}$)\n2976: - Dimension: $d$\n2977: - Density bound: $\\rho_{\\max}$ (derived from kinetic dynamics)\n2978: \n2979: **Mechanism Equivalence**:\n2980: - **Regularity class**: **IDENTICAL** - Both mechanisms achieve C^\u221e with k-uniform Gevrey-1 bounds\n2981: - **Gevrey-1 constants**: **IDENTICAL** - Both mechanisms have the same constants $C_{V,m} = \\mathcal{O}(m!)$\n2982: - **k-uniformity**: **IDENTICAL** - Both mechanisms yield bounds independent of swarm size"
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-459",
      "title": null,
      "start_line": 2984,
      "end_line": 2991,
      "header_lines": [],
      "content_start": 2985,
      "content_end": 2990,
      "content": "2985: \n2986: :::{prf:proof}\n2987: **Proof Structure**:\n2988: \n2989: 1. **Softmax mechanism** (\u00a75.5): Proven in Lemma {prf:ref}`lem-companion-measurement-derivatives-full` + propagation through stages 2-6\n2990: 2. **Diversity pairing** (\u00a75.6): Proven in Theorem {prf:ref}`thm-diversity-pairing-measurement-regularity` + same propagation",
      "metadata": {},
      "section": "## 5.7 Statistical Equivalence and Unified Regularity Theorem",
      "references": [
        "lem-companion-measurement-derivatives-full",
        "thm-diversity-pairing-measurement-regularity",
        "thm-statistical-equivalence-companion-mechanisms"
      ],
      "raw_directive": "2984: :::\n2985: \n2986: :::{prf:proof}\n2987: **Proof Structure**:\n2988: \n2989: 1. **Softmax mechanism** (\u00a75.5): Proven in Lemma {prf:ref}`lem-companion-measurement-derivatives-full` + propagation through stages 2-6\n2990: 2. **Diversity pairing** (\u00a75.6): Proven in Theorem {prf:ref}`thm-diversity-pairing-measurement-regularity` + same propagation\n2991: 3. **Statistical equivalence** (\u00a75.7.2): Theorem {prf:ref}`thm-statistical-equivalence-companion-mechanisms` establishes both mechanisms have identical analytical structure (same regularity class, same Gevrey-1 bounds, same k-uniformity)"
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}