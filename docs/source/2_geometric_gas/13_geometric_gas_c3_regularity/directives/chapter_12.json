{
  "chapter_index": 12,
  "section_id": "## 11. Continuity of Third Derivatives",
  "directive_count": 2,
  "hints": [
    {
      "directive_type": "theorem",
      "label": "thm-continuity-third-derivatives",
      "title": "Continuity of Third Derivatives",
      "start_line": 2211,
      "end_line": 2225,
      "header_lines": [
        2212
      ],
      "content_start": 2214,
      "content_end": 2224,
      "content": "2214: :label: thm-continuity-third-derivatives\n2215: \n2216: The third derivatives $\\nabla^3 V_{\\text{fit}}[f_k, \\rho](x_i)$ are continuous functions of:\n2217: 1. **Walker position** $x_i \\in \\mathcal{X}$\n2218: 2. **Swarm configuration** $S = (x_1, \\ldots, x_N, v_1, \\ldots, v_N) \\in (\\mathcal{X} \\times \\mathbb{R}^d)^N$\n2219: 3. **Localization parameter** $\\rho \\in (0, \\infty)$\n2220: \n2221: **Uniform continuity on compact sets:** For any compact set $K \\subset \\mathcal{X} \\times (\\mathcal{X} \\times \\mathbb{R}^d)^N \\times (0, \\infty)$, the map:\n2222: $$\n2223: (x_i, S, \\rho) \\mapsto \\nabla^3 V_{\\text{fit}}[f_k, \\rho](x_i)\n2224: $$",
      "metadata": {
        "label": "thm-continuity-third-derivatives"
      },
      "section": "## 11. Continuity of Third Derivatives",
      "raw_directive": "2211: Beyond boundedness, we establish that the third derivatives are continuous functions, which is required for some functional analytic arguments.\n2212: \n2213: :::{prf:theorem} Continuity of Third Derivatives\n2214: :label: thm-continuity-third-derivatives\n2215: \n2216: The third derivatives $\\nabla^3 V_{\\text{fit}}[f_k, \\rho](x_i)$ are continuous functions of:\n2217: 1. **Walker position** $x_i \\in \\mathcal{X}$\n2218: 2. **Swarm configuration** $S = (x_1, \\ldots, x_N, v_1, \\ldots, v_N) \\in (\\mathcal{X} \\times \\mathbb{R}^d)^N$\n2219: 3. **Localization parameter** $\\rho \\in (0, \\infty)$\n2220: \n2221: **Uniform continuity on compact sets:** For any compact set $K \\subset \\mathcal{X} \\times (\\mathcal{X} \\times \\mathbb{R}^d)^N \\times (0, \\infty)$, the map:\n2222: $$\n2223: (x_i, S, \\rho) \\mapsto \\nabla^3 V_{\\text{fit}}[f_k, \\rho](x_i)\n2224: $$\n2225: "
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-continuity-third-derivatives",
      "title": null,
      "start_line": 2227,
      "end_line": 2279,
      "header_lines": [
        2228
      ],
      "content_start": 2230,
      "content_end": 2278,
      "content": "2230: :label: proof-thm-continuity-third-derivatives\n2231: \n2232: **Step 1: Composition theorem for continuity.**\n2233: \n2234: The fitness potential is $V_{\\text{fit}} = g_A \\circ Z_\\rho$. By the chain rule, $\\nabla^3 V_{\\text{fit}}$ is a composition of:\n2235: 1. Third derivative operator $\\nabla^3$\n2236: 2. Rescale function $g_A$ and its derivatives $g'_A, g''_A, g'''_A$\n2237: 3. Z-score $Z_\\rho$ and its derivatives $\\nabla Z_\\rho, \\nabla^2 Z_\\rho, \\nabla^3 Z_\\rho$\n2238: \n2239: Each component is continuous:\n2240: \n2241: **Component 1: Kernel continuity.**\n2242: The Gaussian kernel $K_\\rho(x, x')$ is $C^\\infty$ in $(x, x', \\rho)$ for $\\rho > 0$. Thus all derivatives $\\nabla^m_x K_\\rho$ are continuous.\n2243: \n2244: **Component 2: Weight continuity.**\n2245: The weights $w_{ij}(\\rho) = K_\\rho(x_i, x_j) / \\sum_\\ell K_\\rho(x_i, x_\\ell)$ are quotients of continuous positive functions, hence continuous in $(x_i, \\{x_j\\}_{j \\in A_k}, \\rho)$.\n2246: \n2247: **Component 3: Moment continuity.**\n2248: The localized mean $\\mu_\\rho^{(i)}$ and variance $V_\\rho^{(i)}$ are weighted sums (continuous functions) of continuous weights and continuous measurement values. Thus continuous.\n2249: \n2250: **Component 4: Patched function continuity.**\n2251: The regularized standard deviation $\\sigma\\'_{\\text{reg}}(V)$ is $C^3$ by Assumption {prf:ref}`assump-c3-patch`, hence its first and second derivatives are continuous.\n2252: \n2253: **Component 5: Z-score continuity.**\n2254: The Z-score $Z_\\rho = (d(x_i) - \\mu_\\rho^{(i)}) / \\sigma\\'_{\\text{reg}}(V_\\rho^{(i)})$ is a quotient of continuous functions with positive denominator ($\\sigma\\'_{\\text{reg}} \\ge \\sigma\\'_{\\min} > 0$), hence continuous.\n2255: \n2256: **Component 6: Rescale function continuity.**\n2257: The rescale function $g_A$ is $C^3$ by Assumption {prf:ref}`assump-c3-rescale`, so $g_A, g'_A, g''_A, g'''_A$ are all continuous.\n2258: \n2259: **Step 2: Apply composition theorem.**\n2260: \n2261: The third derivative $\\nabla^3 V_{\\text{fit}}$ is given by the chain rule formula (Theorem {prf:ref}`thm-c3-regularity`):\n2262: $$\n2263: \\nabla^3 V_{\\text{fit}} = g'''_A(Z_\\rho) \\cdot (\\nabla Z_\\rho)^3 + 3 g''_A(Z_\\rho) \\cdot \\nabla Z_\\rho \\cdot \\nabla^2 Z_\\rho + g'_A(Z_\\rho) \\cdot \\nabla^3 Z_\\rho\n2264: $$\n2265: \n2266: Each term is a product/composition of continuous functions:\n2267: - $g'''_A(Z_\\rho(\\cdot))$: Continuous (composition of continuous functions)\n2268: - $\\nabla Z_\\rho(\\cdot)$: Continuous (by Step 1)\n2269: - $\\nabla^2 Z_\\rho(\\cdot)$: Continuous (differentiation of continuous function)\n2270: - $\\nabla^3 Z_\\rho(\\cdot)$: Continuous (differentiation of continuous function)\n2271: \n2272: Therefore $\\nabla^3 V_{\\text{fit}}$ is continuous as a function of $(x_i, S, \\rho)$.\n2273: \n2274: **Step 3: Uniform continuity on compact sets.**\n2275: \n2276: Since $\\mathcal{X}$ is compact and $(\\mathcal{X} \\times \\mathbb{R}^d)^N$ is locally compact (with appropriate topology), any compact subset $K$ is:\n2277: 1. Bounded in all coordinates\n2278: 2. Closed",
      "metadata": {
        "label": "proof-thm-continuity-third-derivatives"
      },
      "section": "## 11. Continuity of Third Derivatives",
      "raw_directive": "2227: :::\n2228: \n2229: :::{prf:proof}\n2230: :label: proof-thm-continuity-third-derivatives\n2231: \n2232: **Step 1: Composition theorem for continuity.**\n2233: \n2234: The fitness potential is $V_{\\text{fit}} = g_A \\circ Z_\\rho$. By the chain rule, $\\nabla^3 V_{\\text{fit}}$ is a composition of:\n2235: 1. Third derivative operator $\\nabla^3$\n2236: 2. Rescale function $g_A$ and its derivatives $g'_A, g''_A, g'''_A$\n2237: 3. Z-score $Z_\\rho$ and its derivatives $\\nabla Z_\\rho, \\nabla^2 Z_\\rho, \\nabla^3 Z_\\rho$\n2238: \n2239: Each component is continuous:\n2240: \n2241: **Component 1: Kernel continuity.**\n2242: The Gaussian kernel $K_\\rho(x, x')$ is $C^\\infty$ in $(x, x', \\rho)$ for $\\rho > 0$. Thus all derivatives $\\nabla^m_x K_\\rho$ are continuous.\n2243: \n2244: **Component 2: Weight continuity.**\n2245: The weights $w_{ij}(\\rho) = K_\\rho(x_i, x_j) / \\sum_\\ell K_\\rho(x_i, x_\\ell)$ are quotients of continuous positive functions, hence continuous in $(x_i, \\{x_j\\}_{j \\in A_k}, \\rho)$.\n2246: \n2247: **Component 3: Moment continuity.**\n2248: The localized mean $\\mu_\\rho^{(i)}$ and variance $V_\\rho^{(i)}$ are weighted sums (continuous functions) of continuous weights and continuous measurement values. Thus continuous.\n2249: \n2250: **Component 4: Patched function continuity.**\n2251: The regularized standard deviation $\\sigma\\'_{\\text{reg}}(V)$ is $C^3$ by Assumption {prf:ref}`assump-c3-patch`, hence its first and second derivatives are continuous.\n2252: \n2253: **Component 5: Z-score continuity.**\n2254: The Z-score $Z_\\rho = (d(x_i) - \\mu_\\rho^{(i)}) / \\sigma\\'_{\\text{reg}}(V_\\rho^{(i)})$ is a quotient of continuous functions with positive denominator ($\\sigma\\'_{\\text{reg}} \\ge \\sigma\\'_{\\min} > 0$), hence continuous.\n2255: \n2256: **Component 6: Rescale function continuity.**\n2257: The rescale function $g_A$ is $C^3$ by Assumption {prf:ref}`assump-c3-rescale`, so $g_A, g'_A, g''_A, g'''_A$ are all continuous.\n2258: \n2259: **Step 2: Apply composition theorem.**\n2260: \n2261: The third derivative $\\nabla^3 V_{\\text{fit}}$ is given by the chain rule formula (Theorem {prf:ref}`thm-c3-regularity`):\n2262: $$\n2263: \\nabla^3 V_{\\text{fit}} = g'''_A(Z_\\rho) \\cdot (\\nabla Z_\\rho)^3 + 3 g''_A(Z_\\rho) \\cdot \\nabla Z_\\rho \\cdot \\nabla^2 Z_\\rho + g'_A(Z_\\rho) \\cdot \\nabla^3 Z_\\rho\n2264: $$\n2265: \n2266: Each term is a product/composition of continuous functions:\n2267: - $g'''_A(Z_\\rho(\\cdot))$: Continuous (composition of continuous functions)\n2268: - $\\nabla Z_\\rho(\\cdot)$: Continuous (by Step 1)\n2269: - $\\nabla^2 Z_\\rho(\\cdot)$: Continuous (differentiation of continuous function)\n2270: - $\\nabla^3 Z_\\rho(\\cdot)$: Continuous (differentiation of continuous function)\n2271: \n2272: Therefore $\\nabla^3 V_{\\text{fit}}$ is continuous as a function of $(x_i, S, \\rho)$.\n2273: \n2274: **Step 3: Uniform continuity on compact sets.**\n2275: \n2276: Since $\\mathcal{X}$ is compact and $(\\mathcal{X} \\times \\mathbb{R}^d)^N$ is locally compact (with appropriate topology), any compact subset $K$ is:\n2277: 1. Bounded in all coordinates\n2278: 2. Closed\n2279: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}