{
  "chapter_index": 2,
  "section_id": "## 2. The Coupled State Space and State Differences",
  "directive_count": 6,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-single-swarm-space",
      "title": "Single-Walker and Swarm State Spaces",
      "start_line": 106,
      "end_line": 127,
      "header_lines": [
        107
      ],
      "content_start": 109,
      "content_end": 126,
      "content": "109: :label: def-single-swarm-space\n110: \n111: 1.  A **walker** is a tuple $(x, s)$, where $x \\in \\mathcal{X}$ is its position in a state space and $s \\in \\{0, 1\\}$ is its survival status. For the Euclidean Gas, this is extended to include a velocity component, making the **full state** of a single walker a tuple $(x, v, s) \\in \\mathbb{R}^d \\times \\mathbb{R}^d \\times \\{0, 1\\}$. We refer to $(x,v)$ as the **kinematic state**.\n112: \n113: 2.  A **swarm configuration**, $S$, is an N-tuple of walker states:\n114: \n115: \n116: \n117: $$\n118: S := \\left( (x_1, v_1, s_1), (x_2, v_2, s_2), \\dots, (x_N, v_N, s_N) \\right)\n119: $$\n120: \n121: 3.  The **single-swarm state space**, denoted $\\Sigma_N$, is the Cartesian product of the per-walker state spaces:\n122: \n123: \n124: \n125: $$\n126: \\Sigma_N := \\left( \\mathbb{R}^d \\times \\mathbb{R}^d \\times \\{0, 1\\} \\right)^N.",
      "metadata": {
        "label": "def-single-swarm-space"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "106: The fundamental unit of the system is the walker, and a collection of these walkers constitutes a swarm. We begin by defining their state spaces abstractly, in a manner consistent with the Fragile Gas framework.\n107: \n108: :::{prf:definition} Single-Walker and Swarm State Spaces\n109: :label: def-single-swarm-space\n110: \n111: 1.  A **walker** is a tuple $(x, s)$, where $x \\in \\mathcal{X}$ is its position in a state space and $s \\in \\{0, 1\\}$ is its survival status. For the Euclidean Gas, this is extended to include a velocity component, making the **full state** of a single walker a tuple $(x, v, s) \\in \\mathbb{R}^d \\times \\mathbb{R}^d \\times \\{0, 1\\}$. We refer to $(x,v)$ as the **kinematic state**.\n112: \n113: 2.  A **swarm configuration**, $S$, is an N-tuple of walker states:\n114: \n115: \n116: \n117: $$\n118: S := \\left( (x_1, v_1, s_1), (x_2, v_2, s_2), \\dots, (x_N, v_N, s_N) \\right)\n119: $$\n120: \n121: 3.  The **single-swarm state space**, denoted $\\Sigma_N$, is the Cartesian product of the per-walker state spaces:\n122: \n123: \n124: \n125: $$\n126: \\Sigma_N := \\left( \\mathbb{R}^d \\times \\mathbb{R}^d \\times \\{0, 1\\} \\right)^N.\n127: $$"
    },
    {
      "directive_type": "definition",
      "label": "def-coupled-state-space",
      "title": "The Coupled State Space",
      "start_line": 144,
      "end_line": 158,
      "header_lines": [
        145
      ],
      "content_start": 147,
      "content_end": 157,
      "content": "147: :label: def-coupled-state-space\n148: \n149: The **coupled state space** for the Euclidean Gas is the Cartesian product $\\Sigma_N \\times \\Sigma_N$. An element of this space is an ordered pair of swarm configurations, $(S_1, S_2)$, where:\n150: \n151: $$\n152: S_1 = \\left( (x_{1,1}, v_{1,1}, s_{1,1}), \\dots, (x_{1,N}, v_{1,N}, s_{1,N}) \\right) \\in \\Sigma_N,\n153: $$\n154: \n155: $$\n156: S_2 = \\left( (x_{2,1}, v_{2,1}, s_{2,1}), \\dots, (x_{2,N}, v_{2,N}, s_{2,N}) \\right) \\in \\Sigma_N.\n157: $$",
      "metadata": {
        "label": "def-coupled-state-space"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "144: This synchronous coupling is chosen because it is designed to minimize the distance between the two trajectories, making it the most suitable choice for proving a contraction. All expectations $\\mathbb{E}[\\cdot]$ in the subsequent analysis are taken with respect to this single, shared source of randomness.\n145: \n146: :::{prf:definition} The Coupled State Space\n147: :label: def-coupled-state-space\n148: \n149: The **coupled state space** for the Euclidean Gas is the Cartesian product $\\Sigma_N \\times \\Sigma_N$. An element of this space is an ordered pair of swarm configurations, $(S_1, S_2)$, where:\n150: \n151: $$\n152: S_1 = \\left( (x_{1,1}, v_{1,1}, s_{1,1}), \\dots, (x_{1,N}, v_{1,N}, s_{1,N}) \\right) \\in \\Sigma_N,\n153: $$\n154: \n155: $$\n156: S_2 = \\left( (x_{2,1}, v_{2,1}, s_{2,1}), \\dots, (x_{2,N}, v_{2,N}, s_{2,N}) \\right) \\in \\Sigma_N.\n157: $$\n158: "
    },
    {
      "directive_type": "definition",
      "label": "def-state-difference-vectors",
      "title": "State Difference Vectors",
      "start_line": 164,
      "end_line": 186,
      "header_lines": [
        165
      ],
      "content_start": 167,
      "content_end": 185,
      "content": "167: :label: def-state-difference-vectors\n168: \n169: For any element $(S_1, S_2) \\in \\Sigma_N \\times \\Sigma_N$, we define the **state difference vectors** for each walker index $i \\in \\{1, \\ldots, N\\}$ as follows:\n170: \n171: 1.  The **position difference vector** for walker $i$ is:\n172: \n173: \n174: \n175: $$\n176: \\Delta x_i := x_{1,i} - x_{2,i} \\in \\mathbb{R}^d\n177: $$\n178: \n179: 2.  The **velocity difference vector** for walker $i$ is:\n180: \n181: \n182: \n183: $$\n184: \\Delta v_i := v_{1,i} - v_{2,i} \\in \\mathbb{R}^d\n185: $$",
      "metadata": {
        "label": "def-state-difference-vectors"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "164: The core of the hypocoercive analysis is not the absolute state of the swarms, but the *difference* between them. We formally define the vectors that capture this relative configuration.\n165: \n166: :::{prf:definition} State Difference Vectors\n167: :label: def-state-difference-vectors\n168: \n169: For any element $(S_1, S_2) \\in \\Sigma_N \\times \\Sigma_N$, we define the **state difference vectors** for each walker index $i \\in \\{1, \\ldots, N\\}$ as follows:\n170: \n171: 1.  The **position difference vector** for walker $i$ is:\n172: \n173: \n174: \n175: $$\n176: \\Delta x_i := x_{1,i} - x_{2,i} \\in \\mathbb{R}^d\n177: $$\n178: \n179: 2.  The **velocity difference vector** for walker $i$ is:\n180: \n181: \n182: \n183: $$\n184: \\Delta v_i := v_{1,i} - v_{2,i} \\in \\mathbb{R}^d\n185: $$\n186: "
    },
    {
      "directive_type": "axiom",
      "label": "axiom-domain-regularity",
      "title": "**(Axiom EG-0): Regularity of the Domain**",
      "start_line": 196,
      "end_line": 200,
      "header_lines": [
        197
      ],
      "content_start": 199,
      "content_end": 199,
      "content": "199: :label: axiom-domain-regularity",
      "metadata": {
        "label": "axiom-domain-regularity"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "196: For the construction to be valid, we impose the following standard regularity conditions on the single-walker state space $\\mathcal{X}$.\n197: \n198: :::{prf:axiom} **(Axiom EG-0): Regularity of the Domain**\n199: :label: axiom-domain-regularity\n200: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-barrier-existence",
      "title": "Existence of a Global Smooth Barrier Function",
      "start_line": 208,
      "end_line": 215,
      "header_lines": [
        209
      ],
      "content_start": 211,
      "content_end": 214,
      "content": "211: :label: prop-barrier-existence\n212: \n213: Let $\\mathcal{X}_{\\text{valid}}$ satisfy the conditions of Axiom EG-0. Then there exists a function $\\varphi: \\mathcal{X}_{\\text{valid}} \\to \\mathbb{R}$ with the following properties:\n214: 1.  **Smoothness:** $\\varphi(x)$ is $C^{\\infty}$-smooth on $\\mathcal{X}_{\\text{valid}}$.",
      "metadata": {
        "label": "prop-barrier-existence"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "208: Under the assumption of a regular domain, we can state and prove the existence of our desired barrier function.\n209: \n210: :::{prf:proposition} Existence of a Global Smooth Barrier Function\n211: :label: prop-barrier-existence\n212: \n213: Let $\\mathcal{X}_{\\text{valid}}$ satisfy the conditions of Axiom EG-0. Then there exists a function $\\varphi: \\mathcal{X}_{\\text{valid}} \\to \\mathbb{R}$ with the following properties:\n214: 1.  **Smoothness:** $\\varphi(x)$ is $C^{\\infty}$-smooth on $\\mathcal{X}_{\\text{valid}}$.\n215: 2.  **Positivity:** $\\varphi(x)$ is strictly positive for all $x \\in \\mathcal{X}_{\\text{valid}}$."
    },
    {
      "directive_type": "proof",
      "label": "proof-prop-barrier-existence",
      "title": null,
      "start_line": 216,
      "end_line": 346,
      "header_lines": [
        217
      ],
      "content_start": 219,
      "content_end": 345,
      "content": "219: :label: proof-prop-barrier-existence\n220: \n221: **Proof.**\n222: \n223: The proof is constructive. We build the function $\\varphi(x)$ using two primary tools: the signed distance function to the boundary and a smooth cutoff function. The construction proceeds in three steps, followed by rigorous verification of all required properties.\n224: \n225: **Step 1: The Signed Distance Function.**\n226: \n227: Since $\\partial \\mathcal{X}_{\\text{valid}}$ is a $C^{\\infty}$ compact manifold without boundary embedded in $\\mathbb{R}^d$, the **Tubular Neighborhood Theorem** (see [Lee, 2013, Theorem 6.24]) guarantees the existence of an open tubular neighborhood $U \\supset \\partial \\mathcal{X}_{\\text{valid}}$ and a smooth retraction $\\pi: U \\to \\partial \\mathcal{X}_{\\text{valid}}$ such that the signed distance function\n228: \n229: $$\n230: \\rho(x) := \\begin{cases}\n231: d(x, \\partial \\mathcal{X}_{\\text{valid}}) & \\text{if } x \\in \\mathcal{X}_{\\text{valid}} \\\\\n232: -d(x, \\partial \\mathcal{X}_{\\text{valid}}) & \\text{if } x \\notin \\mathcal{X}_{\\text{valid}}\n233: \\end{cases}\n234: $$\n235: \n236: is $C^{\\infty}$-smooth on $U$. Here $d(\\cdot, \\cdot)$ denotes the Euclidean distance. For any $x \\in U \\cap \\mathcal{X}_{\\text{valid}}$, we have $\\rho(x) = \\|x - \\pi(x)\\| > 0$, and $\\nabla \\rho(x)$ is the outward-pointing unit normal vector at the closest boundary point.\n237: \n238: **Explicit construction of the tubular neighborhood width:** By compactness of $\\partial \\mathcal{X}_{\\text{valid}}$ and smoothness, there exists $\\delta_0 > 0$ such that $U := \\{x \\in \\mathbb{R}^d : d(x, \\partial \\mathcal{X}_{\\text{valid}}) < \\delta_0\\}$ is a smooth tubular neighborhood. We will use $\\delta < \\delta_0/3$ in the sequel to ensure all relevant regions lie within $U$.\n239: \n240: **Step 2: Construction of a Smooth Cutoff Function.**\n241: \n242: We require a smooth cutoff function $\\psi: \\mathbb{R} \\to [0, 1]$ with the following properties:\n243: 1. $\\psi \\in C^{\\infty}(\\mathbb{R})$\n244: 2. $\\psi(t) = 1$ for all $t \\leq 1$\n245: 3. $\\psi(t) = 0$ for all $t \\geq 2$\n246: 4. $\\psi$ is non-increasing on $\\mathbb{R}$\n247: 5. $\\psi'(t) < 0$ for all $t \\in (1, 2)$\n248: \n249: **Explicit construction:** A standard construction uses the mollifier function. Define\n250: \n251: $$\n252: \\eta(t) := \\begin{cases}\n253: \\exp\\left(-\\frac{1}{1-t^2}\\right) & \\text{if } |t| < 1 \\\\\n254: 0 & \\text{if } |t| \\geq 1\n255: \\end{cases}\n256: $$\n257: \n258: which is $C^{\\infty}$ on $\\mathbb{R}$ (see [Rudin, 1987, Theorem 1.46]). Then set\n259: \n260: $$\n261: \\psi(t) := \\frac{\\int_{t}^{\\infty} \\eta(2s - 3) \\, ds}{\\int_{-\\infty}^{\\infty} \\eta(2s - 3) \\, ds}\n262: $$\n263: \n264: This gives a smooth non-increasing function with $\\psi(t) = 1$ for $t \\leq 1$ and $\\psi(t) = 0$ for $t \\geq 2$.\n265: \n266: **Step 3: Construction of the Barrier Function.**\n267: \n268: Fix $\\delta \\in (0, \\delta_0/3)$ where $\\delta_0$ is the tubular neighborhood width from Step 1. We define $\\varphi: \\mathcal{X}_{\\text{valid}} \\to (0, \\infty)$ by\n269: \n270: $$\n271: \\varphi(x) := \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right)\n272: $$\n273: \n274: **Verification of Properties:**\n275: \n276: **Property 1: Smoothness.**\n277: \n278: We verify $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$ by analyzing the composition structure.\n279: \n280: For any $x \\in \\mathcal{X}_{\\text{valid}}$ with $\\rho(x) < 3\\delta < \\delta_0$, we have $x \\in U$, so $\\rho(x)$ is $C^{\\infty}$ near $x$. Since $\\rho(x) > 0$ for all $x \\in \\mathcal{X}_{\\text{valid}}$, the function $1/\\rho(x)$ is $C^{\\infty}$ on all of $\\mathcal{X}_{\\text{valid}}$. The composition $\\psi(\\rho(x)/\\delta)$ is $C^{\\infty}$ since both $\\psi$ and $\\rho$ are $C^{\\infty}$.\n281: \n282: For $x$ with $\\rho(x) \\geq 3\\delta$, we have $\\rho(x)/\\delta \\geq 3 > 2$, so $\\psi(\\rho(x)/\\delta) = 0$ identically in a neighborhood of $x$. Thus $\\varphi(x) = 1/\\delta$ (constant) in this region, which is trivially $C^{\\infty}$.\n283: \n284: The matching at $\\rho(x) = 3\\delta$ is smooth because $\\psi$ and all its derivatives vanish for arguments $\\geq 2$.\n285: \n286: Therefore, $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$.\n287: \n288: **Property 2: Boundary Divergence.**\n289: \n290: We must show that for any sequence $(x_n) \\subset \\mathcal{X}_{\\text{valid}}$ with $x_n \\to x_{\\infty} \\in \\partial \\mathcal{X}_{\\text{valid}}$, we have $\\varphi(x_n) \\to \\infty$.\n291: \n292: Since $x_n \\to x_{\\infty} \\in \\partial \\mathcal{X}_{\\text{valid}}$ and $x_n \\in \\mathcal{X}_{\\text{valid}}$, by continuity of the distance function, $\\rho(x_n) = d(x_n, \\partial \\mathcal{X}_{\\text{valid}}) \\to 0^{+}$.\n293: \n294: For sufficiently large $n$, we have $\\rho(x_n) < \\delta$, which implies $\\rho(x_n)/\\delta < 1$, hence $\\psi(\\rho(x_n)/\\delta) = 1$. In this regime:\n295: \n296: $$\n297: \\varphi(x_n) = \\frac{1}{\\delta} + 1 \\cdot \\left( \\frac{1}{\\rho(x_n)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\rho(x_n)}\n298: $$\n299: \n300: Since $\\rho(x_n) \\to 0^{+}$, we have $\\varphi(x_n) = 1/\\rho(x_n) \\to +\\infty$.\n301: \n302: **Property 3: Strict Positivity.**\n303: \n304: We prove $\\varphi(x) > 0$ for all $x \\in \\mathcal{X}_{\\text{valid}}$ by case analysis.\n305: \n306: *Case 1: $0 < \\rho(x) \\leq \\delta$.*\n307: Here $\\rho(x)/\\delta \\leq 1$, so $\\psi(\\rho(x)/\\delta) = 1$. Thus:\n308: \n309: $$\n310: \\varphi(x) = \\frac{1}{\\delta} + 1 \\cdot \\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\rho(x)} > 0\n311: $$\n312: \n313: since $\\rho(x) > 0$.\n314: \n315: *Case 2: $\\rho(x) \\geq 2\\delta$.*\n316: Here $\\rho(x)/\\delta \\geq 2$, so $\\psi(\\rho(x)/\\delta) = 0$. Thus:\n317: \n318: $$\n319: \\varphi(x) = \\frac{1}{\\delta} + 0 \\cdot \\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\delta} > 0\n320: $$\n321: \n322: *Case 3: $\\delta < \\rho(x) < 2\\delta$.*\n323: This is the transition region. We have $1 < \\rho(x)/\\delta < 2$, so $\\psi(\\rho(x)/\\delta) \\in (0, 1)$.\n324: \n325: Rewrite $\\varphi(x)$ by expanding:\n326: \n327: $$\n328: \\begin{aligned}\n329: \\varphi(x) &= \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) \\\\\n330: &= \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right) \\cdot \\frac{1}{\\rho(x)} - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right) \\cdot \\frac{1}{\\delta} \\\\\n331: &= \\frac{1}{\\delta}\\left(1 - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\right) + \\frac{1}{\\rho(x)} \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\n332: \\end{aligned}\n333: $$\n334: \n335: Since $\\psi(\\rho(x)/\\delta) \\in (0,1)$, we have $1 - \\psi(\\rho(x)/\\delta) \\in (0, 1) \\subset (0, \\infty)$. Thus:\n336: \n337: $$\n338: \\varphi(x) = \\underbrace{\\frac{1}{\\delta}\\left(1 - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\right)}_{> 0} + \\underbrace{\\frac{1}{\\rho(x)} \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)}_{> 0} > 0\n339: $$\n340: \n341: Both terms are strictly positive since $\\delta > 0$, $\\rho(x) > 0$, $1 - \\psi > 0$, and $\\psi > 0$ in this regime.\n342: \n343: **Conclusion:**\n344: \n345: We have constructed a function $\\varphi: \\mathcal{X}_{\\text{valid}} \\to (0, \\infty)$ satisfying all three properties: $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$, $\\varphi(x) > 0$ everywhere, and $\\varphi(x) \\to \\infty$ as $x \\to \\partial \\mathcal{X}_{\\text{valid}}$.",
      "metadata": {
        "label": "proof-prop-barrier-existence"
      },
      "section": "## 2. The Coupled State Space and State Differences",
      "raw_directive": "216: 3.  **Boundary Divergence:** $\\varphi(x) \\to \\infty$ as $x \\to \\partial \\mathcal{X}_{\\text{valid}}$.\n217: :::\n218: :::{prf:proof}\n219: :label: proof-prop-barrier-existence\n220: \n221: **Proof.**\n222: \n223: The proof is constructive. We build the function $\\varphi(x)$ using two primary tools: the signed distance function to the boundary and a smooth cutoff function. The construction proceeds in three steps, followed by rigorous verification of all required properties.\n224: \n225: **Step 1: The Signed Distance Function.**\n226: \n227: Since $\\partial \\mathcal{X}_{\\text{valid}}$ is a $C^{\\infty}$ compact manifold without boundary embedded in $\\mathbb{R}^d$, the **Tubular Neighborhood Theorem** (see [Lee, 2013, Theorem 6.24]) guarantees the existence of an open tubular neighborhood $U \\supset \\partial \\mathcal{X}_{\\text{valid}}$ and a smooth retraction $\\pi: U \\to \\partial \\mathcal{X}_{\\text{valid}}$ such that the signed distance function\n228: \n229: $$\n230: \\rho(x) := \\begin{cases}\n231: d(x, \\partial \\mathcal{X}_{\\text{valid}}) & \\text{if } x \\in \\mathcal{X}_{\\text{valid}} \\\\\n232: -d(x, \\partial \\mathcal{X}_{\\text{valid}}) & \\text{if } x \\notin \\mathcal{X}_{\\text{valid}}\n233: \\end{cases}\n234: $$\n235: \n236: is $C^{\\infty}$-smooth on $U$. Here $d(\\cdot, \\cdot)$ denotes the Euclidean distance. For any $x \\in U \\cap \\mathcal{X}_{\\text{valid}}$, we have $\\rho(x) = \\|x - \\pi(x)\\| > 0$, and $\\nabla \\rho(x)$ is the outward-pointing unit normal vector at the closest boundary point.\n237: \n238: **Explicit construction of the tubular neighborhood width:** By compactness of $\\partial \\mathcal{X}_{\\text{valid}}$ and smoothness, there exists $\\delta_0 > 0$ such that $U := \\{x \\in \\mathbb{R}^d : d(x, \\partial \\mathcal{X}_{\\text{valid}}) < \\delta_0\\}$ is a smooth tubular neighborhood. We will use $\\delta < \\delta_0/3$ in the sequel to ensure all relevant regions lie within $U$.\n239: \n240: **Step 2: Construction of a Smooth Cutoff Function.**\n241: \n242: We require a smooth cutoff function $\\psi: \\mathbb{R} \\to [0, 1]$ with the following properties:\n243: 1. $\\psi \\in C^{\\infty}(\\mathbb{R})$\n244: 2. $\\psi(t) = 1$ for all $t \\leq 1$\n245: 3. $\\psi(t) = 0$ for all $t \\geq 2$\n246: 4. $\\psi$ is non-increasing on $\\mathbb{R}$\n247: 5. $\\psi'(t) < 0$ for all $t \\in (1, 2)$\n248: \n249: **Explicit construction:** A standard construction uses the mollifier function. Define\n250: \n251: $$\n252: \\eta(t) := \\begin{cases}\n253: \\exp\\left(-\\frac{1}{1-t^2}\\right) & \\text{if } |t| < 1 \\\\\n254: 0 & \\text{if } |t| \\geq 1\n255: \\end{cases}\n256: $$\n257: \n258: which is $C^{\\infty}$ on $\\mathbb{R}$ (see [Rudin, 1987, Theorem 1.46]). Then set\n259: \n260: $$\n261: \\psi(t) := \\frac{\\int_{t}^{\\infty} \\eta(2s - 3) \\, ds}{\\int_{-\\infty}^{\\infty} \\eta(2s - 3) \\, ds}\n262: $$\n263: \n264: This gives a smooth non-increasing function with $\\psi(t) = 1$ for $t \\leq 1$ and $\\psi(t) = 0$ for $t \\geq 2$.\n265: \n266: **Step 3: Construction of the Barrier Function.**\n267: \n268: Fix $\\delta \\in (0, \\delta_0/3)$ where $\\delta_0$ is the tubular neighborhood width from Step 1. We define $\\varphi: \\mathcal{X}_{\\text{valid}} \\to (0, \\infty)$ by\n269: \n270: $$\n271: \\varphi(x) := \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right)\n272: $$\n273: \n274: **Verification of Properties:**\n275: \n276: **Property 1: Smoothness.**\n277: \n278: We verify $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$ by analyzing the composition structure.\n279: \n280: For any $x \\in \\mathcal{X}_{\\text{valid}}$ with $\\rho(x) < 3\\delta < \\delta_0$, we have $x \\in U$, so $\\rho(x)$ is $C^{\\infty}$ near $x$. Since $\\rho(x) > 0$ for all $x \\in \\mathcal{X}_{\\text{valid}}$, the function $1/\\rho(x)$ is $C^{\\infty}$ on all of $\\mathcal{X}_{\\text{valid}}$. The composition $\\psi(\\rho(x)/\\delta)$ is $C^{\\infty}$ since both $\\psi$ and $\\rho$ are $C^{\\infty}$.\n281: \n282: For $x$ with $\\rho(x) \\geq 3\\delta$, we have $\\rho(x)/\\delta \\geq 3 > 2$, so $\\psi(\\rho(x)/\\delta) = 0$ identically in a neighborhood of $x$. Thus $\\varphi(x) = 1/\\delta$ (constant) in this region, which is trivially $C^{\\infty}$.\n283: \n284: The matching at $\\rho(x) = 3\\delta$ is smooth because $\\psi$ and all its derivatives vanish for arguments $\\geq 2$.\n285: \n286: Therefore, $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$.\n287: \n288: **Property 2: Boundary Divergence.**\n289: \n290: We must show that for any sequence $(x_n) \\subset \\mathcal{X}_{\\text{valid}}$ with $x_n \\to x_{\\infty} \\in \\partial \\mathcal{X}_{\\text{valid}}$, we have $\\varphi(x_n) \\to \\infty$.\n291: \n292: Since $x_n \\to x_{\\infty} \\in \\partial \\mathcal{X}_{\\text{valid}}$ and $x_n \\in \\mathcal{X}_{\\text{valid}}$, by continuity of the distance function, $\\rho(x_n) = d(x_n, \\partial \\mathcal{X}_{\\text{valid}}) \\to 0^{+}$.\n293: \n294: For sufficiently large $n$, we have $\\rho(x_n) < \\delta$, which implies $\\rho(x_n)/\\delta < 1$, hence $\\psi(\\rho(x_n)/\\delta) = 1$. In this regime:\n295: \n296: $$\n297: \\varphi(x_n) = \\frac{1}{\\delta} + 1 \\cdot \\left( \\frac{1}{\\rho(x_n)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\rho(x_n)}\n298: $$\n299: \n300: Since $\\rho(x_n) \\to 0^{+}$, we have $\\varphi(x_n) = 1/\\rho(x_n) \\to +\\infty$.\n301: \n302: **Property 3: Strict Positivity.**\n303: \n304: We prove $\\varphi(x) > 0$ for all $x \\in \\mathcal{X}_{\\text{valid}}$ by case analysis.\n305: \n306: *Case 1: $0 < \\rho(x) \\leq \\delta$.*\n307: Here $\\rho(x)/\\delta \\leq 1$, so $\\psi(\\rho(x)/\\delta) = 1$. Thus:\n308: \n309: $$\n310: \\varphi(x) = \\frac{1}{\\delta} + 1 \\cdot \\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\rho(x)} > 0\n311: $$\n312: \n313: since $\\rho(x) > 0$.\n314: \n315: *Case 2: $\\rho(x) \\geq 2\\delta$.*\n316: Here $\\rho(x)/\\delta \\geq 2$, so $\\psi(\\rho(x)/\\delta) = 0$. Thus:\n317: \n318: $$\n319: \\varphi(x) = \\frac{1}{\\delta} + 0 \\cdot \\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) = \\frac{1}{\\delta} > 0\n320: $$\n321: \n322: *Case 3: $\\delta < \\rho(x) < 2\\delta$.*\n323: This is the transition region. We have $1 < \\rho(x)/\\delta < 2$, so $\\psi(\\rho(x)/\\delta) \\in (0, 1)$.\n324: \n325: Rewrite $\\varphi(x)$ by expanding:\n326: \n327: $$\n328: \\begin{aligned}\n329: \\varphi(x) &= \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\left( \\frac{1}{\\rho(x)} - \\frac{1}{\\delta} \\right) \\\\\n330: &= \\frac{1}{\\delta} + \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right) \\cdot \\frac{1}{\\rho(x)} - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right) \\cdot \\frac{1}{\\delta} \\\\\n331: &= \\frac{1}{\\delta}\\left(1 - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\right) + \\frac{1}{\\rho(x)} \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\n332: \\end{aligned}\n333: $$\n334: \n335: Since $\\psi(\\rho(x)/\\delta) \\in (0,1)$, we have $1 - \\psi(\\rho(x)/\\delta) \\in (0, 1) \\subset (0, \\infty)$. Thus:\n336: \n337: $$\n338: \\varphi(x) = \\underbrace{\\frac{1}{\\delta}\\left(1 - \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)\\right)}_{> 0} + \\underbrace{\\frac{1}{\\rho(x)} \\psi\\left(\\frac{\\rho(x)}{\\delta}\\right)}_{> 0} > 0\n339: $$\n340: \n341: Both terms are strictly positive since $\\delta > 0$, $\\rho(x) > 0$, $1 - \\psi > 0$, and $\\psi > 0$ in this regime.\n342: \n343: **Conclusion:**\n344: \n345: We have constructed a function $\\varphi: \\mathcal{X}_{\\text{valid}} \\to (0, \\infty)$ satisfying all three properties: $\\varphi \\in C^{\\infty}(\\mathcal{X}_{\\text{valid}})$, $\\varphi(x) > 0$ everywhere, and $\\varphi(x) \\to \\infty$ as $x \\to \\partial \\mathcal{X}_{\\text{valid}}$.\n346: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}