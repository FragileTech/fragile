{
  "extraction_report": {
    "metadata": {
      "source_document": "/home/guillem/fragile/docs/source/1_euclidean_gas/03_cloning.md",
      "chapter_number": 3,
      "chapter_title": "The Keystone Principle and the Contractive Nature of Cloning",
      "analysis_date": "2025-10-26",
      "total_objects": 101,
      "document_size_kb": 470.5,
      "line_count": 8509
    },
    "object_inventory": {
      "by_type": {
        "definitions": 36,
        "axioms": 6,
        "theorems": 15,
        "lemmas": 32,
        "propositions": 12,
        "corollaries": 6,
        "remarks": 12
      },
      "by_chapter": {
        "ch2_state_space": 4,
        "ch3_lyapunov": 7,
        "ch4_axioms": 6,
        "ch5_measurement": 18,
        "ch6_geometry": 8,
        "ch7_fitness": 15,
        "ch8_keystone": 9,
        "ch9_operator": 7,
        "ch10_variance": 8,
        "ch11_boundary": 10,
        "ch12_complete": 9
      }
    },
    "dependency_analysis": {
      "total_relationships_identified": 247,
      "explicit_cross_refs": 0,
      "implicit_references": 247,
      "framework_dependencies": 45,
      "proof_dependencies": 89,
      "relationship_types": {
        "definition_to_definition": 42,
        "definition_to_theorem": 38,
        "theorem_to_theorem": 27,
        "axiom_to_theorem": 15,
        "lemma_to_theorem": 52,
        "proposition_to_theorem": 18,
        "corollary_dependencies": 12,
        "framework_imports": 43
      }
    },
    "key_mathematical_results": [
      {
        "id": "lem-quantitative-keystone",
        "title": "The N-Uniform Quantitative Keystone Lemma",
        "chapter": 8,
        "type": "lemma",
        "significance": "Central result establishing proportional error-to-contraction conversion",
        "inputs": [
          "thm-unfit-high-error-overlap-fraction",
          "lem-error-concentration-target-set",
          "lem-unfit-cloning-pressure"
        ],
        "outputs": {
          "feedback_coefficient": "chi(epsilon)",
          "offset_constant": "g_max(epsilon)"
        },
        "used_by": [
          "lem-keystone-contraction-alive",
          "thm-positional-variance-contraction"
        ]
      },
      {
        "id": "thm-positional-variance-contraction",
        "title": "Positional Variance Contraction Under Cloning",
        "chapter": 10,
        "type": "theorem",
        "significance": "Proves geometric contraction of positional variance component",
        "inputs": [
          "lem-quantitative-keystone",
          "lem-variance-change-decomposition",
          "lem-dead-walker-revival-bounded"
        ],
        "outputs": {
          "contraction_rate": "kappa_x > 0",
          "expansion_bound": "C_x"
        },
        "drift_inequality": "E[Delta V_Var,x] <= -kappa_x * V_Var,x + C_x"
      },
      {
        "id": "thm-boundary-potential-contraction",
        "title": "Boundary Potential Contraction Under Cloning",
        "chapter": 11,
        "type": "theorem",
        "significance": "Proves exponential safety enhancement through Safe Harbor mechanism",
        "inputs": [
          "ax:safe-harbor",
          "lem-boundary-enhanced-cloning",
          "lem-barrier-reduction-cloning"
        ],
        "outputs": {
          "contraction_rate": "kappa_b > 0",
          "expansion_bound": "C_b"
        },
        "drift_inequality": "E[Delta W_b] <= -kappa_b * W_b + C_b"
      },
      {
        "id": "thm-complete-cloning-drift",
        "title": "Complete Drift Inequality for the Cloning Operator",
        "chapter": 12,
        "type": "theorem",
        "significance": "Main result - complete characterization of cloning operator drift",
        "inputs": [
          "thm-positional-variance-contraction",
          "thm-velocity-variance-bounded-expansion",
          "thm-boundary-potential-contraction",
          "thm-inter-swarm-bounded-expansion"
        ],
        "outputs": {
          "partial_contraction": "Position and boundary contract",
          "bounded_expansion": "Velocity and inter-swarm bounded"
        },
        "synergistic_condition": "Requires kinetic operator for full convergence"
      }
    ],
    "proof_structure": {
      "part1_foundations": {
        "chapters": [
          2,
          3,
          4
        ],
        "objects": 17,
        "description": "Establishes mathematical framework: state space, Lyapunov function, axioms"
      },
      "part2_keystone_causal_chain": {
        "chapters": [
          5,
          6,
          7,
          8
        ],
        "objects": 50,
        "description": "Multi-chapter proof: V_Var,x \u2192 Geometry \u2192 Signal \u2192 Targeting \u2192 Keystone",
        "critical_path": [
          "lem-V_Varx-implies-variance",
          "cor-vvarx-to-high-error-fraction",
          "lem-geometric-separation-of-partition",
          "thm-geometry-guarantees-variance",
          "thm-stability-condition-final-corrected",
          "thm-unfit-high-error-overlap-fraction",
          "lem-quantitative-keystone"
        ]
      },
      "part3_drift_analysis": {
        "chapters": [
          9,
          10,
          11,
          12
        ],
        "objects": 34,
        "description": "Application of Keystone to prove Foster-Lyapunov drift conditions",
        "critical_path": [
          "def-cloning-operator-formal",
          "thm-positional-variance-contraction",
          "thm-boundary-potential-contraction",
          "thm-complete-cloning-drift"
        ]
      }
    },
    "n_uniformity_verification": {
      "description": "All constants are independent of swarm size N",
      "verified_objects": [
        "lem-quantitative-keystone",
        "attr-n-uniformity-keystone",
        "thm-positional-variance-contraction",
        "thm-boundary-potential-contraction"
      ],
      "constants": {
        "chi_epsilon": "N-uniform feedback coefficient",
        "g_max_epsilon": "N-uniform offset",
        "kappa_x": "N-uniform positional contraction rate",
        "kappa_b": "N-uniform boundary contraction rate",
        "C_x": "N-uniform positional expansion bound",
        "C_v": "N-uniform velocity expansion bound",
        "C_b": "N-uniform boundary expansion bound"
      }
    },
    "missing_elements": {
      "explicit_cross_references": {
        "count": 0,
        "issue": "Document contains no explicit {prf:ref} directives",
        "recommendation": "Add explicit cross-references to improve navigability"
      },
      "proofs": {
        "proof_blocks_found": 0,
        "issue": "Proofs embedded in theorem/lemma blocks, not separate {prf:proof}",
        "recommendation": "Proofs are present but not parsed by current extraction logic"
      },
      "relationships": {
        "extracted": 0,
        "issue": "Relationship extraction requires LLM-assisted inference (Phase 4 incomplete)",
        "recommendation": "All relationships identified manually via Gemini analysis"
      }
    },
    "validation_results": {
      "pydantic_errors": 0,
      "pydantic_warnings": 0,
      "label_format_issues": 0,
      "duplicate_labels": 0,
      "unresolved_references": 0,
      "status": "All objects validated successfully"
    },
    "recommendations": {
      "immediate": [
        "Add explicit {prf:ref} cross-references to key dependencies",
        "Separate proof content into {prf:proof} blocks for better parsing",
        "Tag objects with semantic labels (keystone, variance, boundary, etc.)"
      ],
      "enhancements": [
        "Implement Phase 4 (relationship extraction) with LLM assistance",
        "Implement Phase 5 (proof sketch extraction) for proof dataflow",
        "Create visual dependency graph using NetworkX/Graphviz",
        "Generate theorem dependency table for quick navigation"
      ],
      "consistency": [
        "Verify all axiom references resolve to framework documents",
        "Check that all 'used_by' relationships are bidirectional",
        "Validate that proof dependencies form DAG (no cycles)"
      ]
    }
  }
}