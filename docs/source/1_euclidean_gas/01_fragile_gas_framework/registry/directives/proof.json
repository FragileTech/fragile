{
  "document_id": "01_fragile_gas_framework",
  "stage": "directives",
  "directive_type": "proof",
  "generated_at": "2025-11-12T08:56:17.005935+00:00",
  "count": 87,
  "items": [
    {
      "directive_type": "proof",
      "label": "proof-lem-borel-image-of-the-projected-swarm-space",
      "title": null,
      "start_line": 475,
      "end_line": 480,
      "header_lines": [
        476
      ],
      "content_start": 477,
      "content_end": 479,
      "content": "477: :::{prf:proof}\n478: :label: proof-lem-borel-image-of-the-projected-swarm-space\n479: Write $\\mathcal X=\\bigcup_m K_m$ with $K_m$ compact. Then $\\varphi(\\mathcal X)=\\bigcup_m \\varphi(K_m)$ is $F_\\sigma$, hence Borel. Products and intersections with Borel sets are Borel; the status constraints are Borel in $\\{0,1\\}^N$. Hence the claim.",
      "metadata": {
        "label": "proof-lem-borel-image-of-the-projected-swarm-space"
      },
      "section": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters",
      "references": [],
      "raw_directive": "475: :::\n476: \n477: :::{prf:proof}\n478: :label: proof-lem-borel-image-of-the-projected-swarm-space\n479: Write $\\mathcal X=\\bigcup_m K_m$ with $K_m$ compact. Then $\\varphi(\\mathcal X)=\\bigcup_m \\varphi(K_m)$ is $F_\\sigma$, hence Borel. Products and intersections with Borel sets are Borel; the status constraints are Borel in $\\{0,1\\}^N$. Hence the claim.\n480: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 2,
        "chapter_file": "chapter_2.json",
        "section_id": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-revival-guarantee",
      "title": null,
      "start_line": 637,
      "end_line": 648,
      "header_lines": [
        638
      ],
      "content_start": 639,
      "content_end": 647,
      "content": "639: :::{prf:proof}\n640: :label: proof-thm-revival-guarantee\n641: Let $j\\in\\mathcal A(\\mathcal S)$ be any alive companion. By construction of the fitness potential with rescale floor $\\eta$ and weights $(\\alpha,\\beta)$, we have $V_{\\text{fit},j} \\ge \\eta^{\\alpha+\\beta}$. The cloning score of a dead walker $i$ satisfies the lower bound\n642: \n643: $$\n644: S_i \\;\\ge\\; \\frac{V_{\\text{fit},j}}{\\varepsilon_{\\text{clone}}} \\;\\ge\\; \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}}}.\n645: $$\n646: \n647: By the stated constraint, $\\eta^{\\alpha+\\beta}/\\varepsilon_{\\text{clone}} > p_{\\max}$, hence deterministically $S_i>p_{\\max}$. Since $T_{\\text{clone}}\\in[0,p_{\\max}]$, we have $S_i>T_{\\text{clone}}$ for every threshold draw, so $i$ is cloned with probability one. When $|\\mathcal A(\\mathcal S)|=1$, the companion of every dead walker is the unique alive index by [](#def-companion-selection-measure), and the same bound applies. This proves the claim.",
      "metadata": {
        "label": "proof-thm-revival-guarantee"
      },
      "section": "## 3. Axiomatic Foundations: A Parametric Debugging Framework",
      "references": [],
      "raw_directive": "637: This mean‑square continuity result is for the $k\\ge 2$ regime. The $k=1$ discontinuity is handled by the single‑survivor revival mechanism in §16, after which analysis resumes with $k\\ge 2$.\n638: ```\n639: :::{prf:proof}\n640: :label: proof-thm-revival-guarantee\n641: Let $j\\in\\mathcal A(\\mathcal S)$ be any alive companion. By construction of the fitness potential with rescale floor $\\eta$ and weights $(\\alpha,\\beta)$, we have $V_{\\text{fit},j} \\ge \\eta^{\\alpha+\\beta}$. The cloning score of a dead walker $i$ satisfies the lower bound\n642: \n643: $$\n644: S_i \\;\\ge\\; \\frac{V_{\\text{fit},j}}{\\varepsilon_{\\text{clone}}} \\;\\ge\\; \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}}}.\n645: $$\n646: \n647: By the stated constraint, $\\eta^{\\alpha+\\beta}/\\varepsilon_{\\text{clone}} > p_{\\max}$, hence deterministically $S_i>p_{\\max}$. Since $T_{\\text{clone}}\\in[0,p_{\\max}]$, we have $S_i>T_{\\text{clone}}$ for every threshold draw, so $i$ is cloned with probability one. When $|\\mathcal A(\\mathcal S)|=1$, the companion of every dead walker is the unique alive index by [](#def-companion-selection-measure), and the same bound applies. This proves the claim.\n648: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 3,
        "chapter_file": "chapter_3.json",
        "section_id": "## 3. Axiomatic Foundations: A Parametric Debugging Framework"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-validation-of-the-uniform-ball-measure",
      "title": null,
      "start_line": 1167,
      "end_line": 1181,
      "header_lines": [
        1168
      ],
      "content_start": 1169,
      "content_end": 1180,
      "content": "1169: :label: proof-lem-validation-of-the-uniform-ball-measure\n1170: **Proof.**\n1171: 1.  **Axiom of Bounded Second Moment of Perturbation ([](#def-axiom-bounded-second-moment-perturbation)):** A sample $x'$ is drawn from the ball $B(x, \\sigma)$. The displacement is, by definition, $d_{\\mathcal{X}}(x', x) \\le \\sigma$. The expected squared projected displacement is therefore bounded:\n1172: $$\n1173:     \\mathbb{E}_{x' \\sim \\mathcal{P}_\\sigma(x, \\cdot)} \\left[ d_{\\mathcal{Y}}(\\varphi(x'), \\varphi(x))^2 \\right] \\le L_\\varphi^2 \\sigma^2\n1174: $$\n1175: This bound holds for all $x \\in \\mathcal{X}$, so the supremum is also bounded. The axiom is satisfied.\n1176: 2.  **Axiom of Boundary Regularity ([](#axiom-boundary-regularity)):** Let $\\mathbb{1}_{\\text{invalid}}(x')$ be the indicator function for the invalid set. The death probability is the convolution of this indicator function with the indicator function of the ball:\n1177: $$\n1178:     P(s_{\\text{out}}=0 | x) = \\frac{1}{\\text{Volume}(B(x, \\sigma))} \\int_{B(x, \\sigma)} \\mathbb{1}_{\\text{invalid}}(x') dx' = \\frac{\\text{Volume}(\\mathcal{X}_{\\mathrm{invalid}} \\cap B(x, \\sigma))}{\\text{Volume}(B(x, \\sigma))}\n1179: $$\n1180: The function $f(x) = \\text{Volume}(\\mathcal{X}_{\\mathrm{invalid}} \\cap B(x, \\sigma))$ measures the volume of the intersection of a fixed set with a moving ball. As long as the boundary of $\\mathcal{X}_{\\mathrm{invalid}}$ is not pathological (e.g., is a Lipschitz submanifold), this function is continuous. For a small displacement of the ball's center, the change in the intersection volume is proportional to the surface area of the boundary segment that enters or leaves the ball. This geometric relationship ensures the function is locally Lipschitz, which implies it is also Hölder continuous with an exponent of 1. Thus, the axiom is satisfied.",
      "metadata": {
        "label": "proof-lem-validation-of-the-uniform-ball-measure"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [],
      "raw_directive": "1167: \n1168: :::{prf:proof}\n1169: :label: proof-lem-validation-of-the-uniform-ball-measure\n1170: **Proof.**\n1171: 1.  **Axiom of Bounded Second Moment of Perturbation ([](#def-axiom-bounded-second-moment-perturbation)):** A sample $x'$ is drawn from the ball $B(x, \\sigma)$. The displacement is, by definition, $d_{\\mathcal{X}}(x', x) \\le \\sigma$. The expected squared projected displacement is therefore bounded:\n1172: $$\n1173:     \\mathbb{E}_{x' \\sim \\mathcal{P}_\\sigma(x, \\cdot)} \\left[ d_{\\mathcal{Y}}(\\varphi(x'), \\varphi(x))^2 \\right] \\le L_\\varphi^2 \\sigma^2\n1174: $$\n1175: This bound holds for all $x \\in \\mathcal{X}$, so the supremum is also bounded. The axiom is satisfied.\n1176: 2.  **Axiom of Boundary Regularity ([](#axiom-boundary-regularity)):** Let $\\mathbb{1}_{\\text{invalid}}(x')$ be the indicator function for the invalid set. The death probability is the convolution of this indicator function with the indicator function of the ball:\n1177: $$\n1178:     P(s_{\\text{out}}=0 | x) = \\frac{1}{\\text{Volume}(B(x, \\sigma))} \\int_{B(x, \\sigma)} \\mathbb{1}_{\\text{invalid}}(x') dx' = \\frac{\\text{Volume}(\\mathcal{X}_{\\mathrm{invalid}} \\cap B(x, \\sigma))}{\\text{Volume}(B(x, \\sigma))}\n1179: $$\n1180: The function $f(x) = \\text{Volume}(\\mathcal{X}_{\\mathrm{invalid}} \\cap B(x, \\sigma))$ measures the volume of the intersection of a fixed set with a moving ball. As long as the boundary of $\\mathcal{X}_{\\mathrm{invalid}}$ is not pathological (e.g., is a Lipschitz submanifold), this function is continuous. For a small displacement of the ball's center, the change in the intersection volume is proportional to the surface area of the boundary segment that enters or leaves the ball. This geometric relationship ensures the function is locally Lipschitz, which implies it is also Hölder continuous with an exponent of 1. Thus, the axiom is satisfied.\n1181: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "rem-projection-choice",
      "title": null,
      "start_line": 1199,
      "end_line": 1205,
      "header_lines": [
        1200,
        1203
      ],
      "content_start": 1201,
      "content_end": 1204,
      "content": "1201: :label: proof-lem-boundary-uniform-ball\n1202: Write $P_\\sigma= (\\chi_E * K_\\sigma)$ with $K_\\sigma= \\mathbb 1_{B_\\sigma}/\\mathrm{Vol}(B_\\sigma)$. Approximate $K_\\sigma$ in $W^{1,1}$ by smooth mollifiers $\\{K_\\sigma^{(\\varepsilon)}\\}$ with $\\|\\nabla K_\\sigma^{(\\varepsilon)}\\|_1\\le C_d/\\sigma$. For $f\\in BV$, $\\nabla(f*K)=(Df)*K$ and $\\|\\nabla(f*K)\\|_\\infty\\le \\|Df\\|(\\mathbb R^d)\\,\\|\\nabla K\\|_1$. Taking $f=\\chi_E$ gives a Lipschitz bound $\\le C_d\\,\\mathrm{Per}(E)/\\sigma$ for $\\chi_E*K_\\sigma^{(\\varepsilon)}$. Passing to the $\\varepsilon\\to 0$ limit yields the stated bound. The projection to algorithmic space introduces the $L_\\varphi$ factor.\n1203: :::{prf:remark} Projection choice\n1204: :label: rem-projection-choice",
      "metadata": {
        "label": "rem-projection-choice"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [],
      "raw_directive": "1199: :::\n1200: :::{prf:proof}\n1201: :label: proof-lem-boundary-uniform-ball\n1202: Write $P_\\sigma= (\\chi_E * K_\\sigma)$ with $K_\\sigma= \\mathbb 1_{B_\\sigma}/\\mathrm{Vol}(B_\\sigma)$. Approximate $K_\\sigma$ in $W^{1,1}$ by smooth mollifiers $\\{K_\\sigma^{(\\varepsilon)}\\}$ with $\\|\\nabla K_\\sigma^{(\\varepsilon)}\\|_1\\le C_d/\\sigma$. For $f\\in BV$, $\\nabla(f*K)=(Df)*K$ and $\\|\\nabla(f*K)\\|_\\infty\\le \\|Df\\|(\\mathbb R^d)\\,\\|\\nabla K\\|_1$. Taking $f=\\chi_E$ gives a Lipschitz bound $\\le C_d\\,\\mathrm{Per}(E)/\\sigma$ for $\\chi_E*K_\\sigma^{(\\varepsilon)}$. Passing to the $\\varepsilon\\to 0$ limit yields the stated bound. The projection to algorithmic space introduces the $L_\\varphi$ factor.\n1203: :::{prf:remark} Projection choice\n1204: :label: rem-projection-choice\n1205: In this document we take $\\varphi=\\mathrm{Id}$ so that $L_\\varphi=1$ and no perimeter distortion arises from projection. If a nontrivial projection is used, insert the BV/coarea bound for $\\mathrm{Per}(\\varphi(E))$ with the appropriate distortion factor.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-boundary-heat-kernel",
      "title": null,
      "start_line": 1219,
      "end_line": 1223,
      "header_lines": [
        1220
      ],
      "content_start": 1221,
      "content_end": 1222,
      "content": "1221: :label: proof-lem-boundary-heat-kernel\n1222: As above, $P_\\sigma=\\chi_E * p_{\\sigma^2}$ and $\\nabla(\\chi_E * p_{\\sigma^2})=(D\\chi_E)*p_{\\sigma^2}$. Since $\\|\\nabla p_{\\sigma^2}\\|_1\\asymp 1/\\sigma$, convolution with the BV measure $D\\chi_E$ yields a Lipschitz bound $\\lesssim (\\mathrm{Per}(E)/\\sigma)$. The projection factor $L_\\varphi$ carries distances to the algorithmic space.",
      "metadata": {
        "label": "proof-lem-boundary-heat-kernel"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [],
      "raw_directive": "1219: :::\n1220: :::{prf:proof}\n1221: :label: proof-lem-boundary-heat-kernel\n1222: As above, $P_\\sigma=\\chi_E * p_{\\sigma^2}$ and $\\nabla(\\chi_E * p_{\\sigma^2})=(D\\chi_E)*p_{\\sigma^2}$. Since $\\|\\nabla p_{\\sigma^2}\\|_1\\asymp 1/\\sigma$, convolution with the BV measure $D\\chi_E$ yields a Lipschitz bound $\\lesssim (\\mathrm{Per}(E)/\\sigma)$. The projection factor $L_\\varphi$ carries distances to the algorithmic space.\n1223: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-empirical-moments-lipschitz",
      "title": null,
      "start_line": 1343,
      "end_line": 1354,
      "header_lines": [
        1344
      ],
      "content_start": 1346,
      "content_end": 1353,
      "content": "1346: \n1347: Gradients are $\\nabla\\mu = (1/k)\\,\\mathbf 1$ and $\\nabla m_2 = (2/k)\\,(v_1,\\dots,v_k)$. Thus\n1348: \n1349: $$\n1350: \\|\\nabla\\mu\\|_2 = \\frac{\\sqrt{k}}{k} = \\frac{1}{\\sqrt{k}},\\qquad \\|\\nabla m_2\\|_2 = \\frac{2}{k}\\,\\|\\mathbf v\\|_2\\;\\le\\; \\frac{2}{k}\\,\\sqrt{k}\\,V_{\\max}\\;=\\; \\frac{2V_{\\max}}{\\sqrt{k}}.\n1351: $$\n1352: \n1353: Lipschitz constants equal the suprema of these gradient norms, giving the stated bounds.",
      "metadata": {
        "label": "proof-lem-empirical-moments-lipschitz"
      },
      "section": "## 7. Swarm Measuring",
      "references": [],
      "raw_directive": "1343: :::\n1344: :::{prf:proof}\n1345: :label: proof-lem-empirical-moments-lipschitz\n1346: \n1347: Gradients are $\\nabla\\mu = (1/k)\\,\\mathbf 1$ and $\\nabla m_2 = (2/k)\\,(v_1,\\dots,v_k)$. Thus\n1348: \n1349: $$\n1350: \\|\\nabla\\mu\\|_2 = \\frac{\\sqrt{k}}{k} = \\frac{1}{\\sqrt{k}},\\qquad \\|\\nabla m_2\\|_2 = \\frac{2}{k}\\,\\|\\mathbf v\\|_2\\;\\le\\; \\frac{2}{k}\\,\\sqrt{k}\\,V_{\\max}\\;=\\; \\frac{2V_{\\max}}{\\sqrt{k}}.\n1351: $$\n1352: \n1353: Lipschitz constants equal the suprema of these gradient norms, giving the stated bounds.\n1354: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 7,
        "chapter_file": "chapter_7.json",
        "section_id": "## 7. Swarm Measuring"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-empirical-aggregator-properties",
      "title": null,
      "start_line": 1391,
      "end_line": 1435,
      "header_lines": [
        1392
      ],
      "content_start": 1394,
      "content_end": 1434,
      "content": "1394: \n1395: **Proof.**\n1396: Let $k = |\\mathcal{A}(\\mathcal{S})|$, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, and $k_2 = |\\mathcal{A}(\\mathcal{S}_2)|$. Let the raw values be bounded by $|v_i| \\le V_{\\max}$.\n1397: 1.  **Value Continuity:**\n1398:     We bound the change in moments for a fixed swarm $\\mathcal{S}$ of size $k$ and two value vectors $\\mathbf{v}_1, \\mathbf{v}_2$.\n1399:     *   **Mean:** By the Cauchy-Schwarz inequality:\n1400: \n1401: $$\n1402:         |\\mu_1 - \\mu_2| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i}) \\right| \\le \\frac{1}{k} \\sqrt{k} \\sqrt{\\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i})^2} = k^{-1/2} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n1403:         $$\n1404: Thus, $L_{\\mu,M}(\\mathcal{S}) = k^{-1/2}$.\n1405:     *   **Second Moment:**\n1406: \n1407: $$\n1408:         |m_{2,1} - m_{2,2}| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i}^2 - v_{2,i}^2) \\right| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i})(v_{1,i} + v_{2,i}) \\right|\n1409: $$\n1410: The term $|v_{1,i} + v_{2,i}| \\le 2V_{\\max}$. Applying Cauchy-Schwarz:\n1411: $$\n1412:         \\le \\frac{1}{k} \\sqrt{\\sum (v_{1,i} - v_{2,i})^2} \\sqrt{\\sum (v_{1,i} + v_{2,i})^2} \\le \\frac{1}{k} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2 \\sqrt{k(2V_{\\max})^2} = 2V_{\\max} k^{-1/2} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n1413: $$\n1414: Thus, $L_{m_2,M}(\\mathcal{S}) \\le 2V_{\\max} k^{-1/2}$.\n1415: 2.  **Structural Continuity:**\n1416:     We bound the change in moments for a fixed value vector $\\mathbf{v}$ and two swarms $\\mathcal{S}_1, \\mathcal{S}_2$. Let $n_c = \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2 = |\\mathcal{A}_1 \\Delta \\mathcal{A}_2|$. We decompose the error by adding and subtracting the intermediate term $\\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i$.\n1417:     *   **Mean:**\n1418: $$\n1419:         |\\mu_1 - \\mu_2| = \\left| \\frac{1}{k_1}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_2} v_i \\right| \\le \\left|\\frac{1}{k_1}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i \\right| + \\left|\\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_2} v_i \\right|\n1420: $$\n1421: The first term is bounded by $\\left|\\frac{1}{k_1} - \\frac{1}{k_2}\\right| |\\sum_{\\mathcal{A}_1} v_i| \\le \\frac{|k_2 - k_1|}{k_1 k_2} (k_1 V_{\\max}) = \\frac{|k_2 - k_1|}{k_2}V_{\\max}$.\n1422:         The second term is $\\frac{1}{k_2}|\\sum_{i \\in \\mathcal{A}_1 \\setminus \\mathcal{A}_2} v_i - \\sum_{i \\in \\mathcal{A}_2 \\setminus \\mathcal{A}_1} v_i| \\le \\frac{V_{\\max}}{k_2}|\\mathcal{A}_1 \\Delta \\mathcal{A}_2|$.\n1423:         Since $|k_2 - k_1| \\le n_c$ and $|\\mathcal{A}_1 \\Delta \\mathcal{A}_2| = n_c$, the sum is bounded by $\\frac{2V_{\\max}}{k_2} n_c$.\n1424:         Thus, $L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\le \\frac{2V_{\\max}}{k_2}$.\n1425:     *   **Second Moment:** The derivation is identical, replacing $v_i$ with $v_i^2$ and the bound $V_{\\max}$ with $V_{\\max}^2$. This yields $L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\le \\frac{2V_{\\max}^2}{k_2}$.\n1426: 3.  **Axiom of Bounded Deviation from Aggregated Variance ($\\kappa_{\\text{var}}$):**\n1427:     The axiom requires $\\sum_{i \\in \\mathcal{A}} (v_i - \\mu)^2 \\le \\kappa_{\\text{var}} \\cdot k \\cdot \\text{Var}[M]$. For the empirical aggregator, $\\mu$ is the sample mean and $\\text{Var}[M]$ is the sample variance $\\frac{1}{k}\\sum_{i \\in \\mathcal{A}} (v_i - \\mu)^2$. The axiom becomes an identity for $\\kappa_{\\text{var}} = 1$.\n1428: 4.  **Axiom of Bounded Variance Production ($\\kappa_{\\text{range}}$):**\n1429:     The axiom requires $\\text{Var}[M] \\le \\kappa_{\\text{range}} \\cdot V_{\\max}^2$. The sample variance is $\\frac{1}{k}\\sum v_i^2 - \\mu^2$. Since $v_i^2 \\le V_{\\max}^2$ and $\\mu^2 \\ge 0$, we have $\\text{Var}[M] \\le \\frac{1}{k}\\sum V_{\\max}^2 - \\mu^2 = V_{\\max}^2 - \\mu^2 \\le V_{\\max}^2$. The axiom is satisfied with $\\kappa_{\\text{range}} = 1$.\n1430: 5.  **Structural Growth Exponents:**\n1431:     Under the **Axiom of Bounded Relative Collapse**, $k_2 \\ge c_{\\min} k_1$. We analyze the asymptotic behavior of the structural continuity functions for large $k_1$:\n1432:     *   $L_{\\mu,S} \\propto k_2^{-1} \\le (c_{\\min}k_1)^{-1} \\propto k_1^{-1}$, implying $p_{\\mu,S} = -1$.\n1433:     *   $L_{m_2,S} \\propto k_2^{-1} \\le (c_{\\min}k_1)^{-1} \\propto k_1^{-1}$, implying $p_{m_2,S} = -1$.\n1434:     *   The worst-case exponent is $p_{\\text{worst-case}} = \\max(-1, -1) = -1$.",
      "metadata": {
        "label": "proof-lem-empirical-aggregator-properties"
      },
      "section": "## 7. Swarm Measuring",
      "references": [],
      "raw_directive": "1391: :::\n1392: :::{prf:proof}\n1393: :label: proof-lem-empirical-aggregator-properties\n1394: \n1395: **Proof.**\n1396: Let $k = |\\mathcal{A}(\\mathcal{S})|$, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, and $k_2 = |\\mathcal{A}(\\mathcal{S}_2)|$. Let the raw values be bounded by $|v_i| \\le V_{\\max}$.\n1397: 1.  **Value Continuity:**\n1398:     We bound the change in moments for a fixed swarm $\\mathcal{S}$ of size $k$ and two value vectors $\\mathbf{v}_1, \\mathbf{v}_2$.\n1399:     *   **Mean:** By the Cauchy-Schwarz inequality:\n1400: \n1401: $$\n1402:         |\\mu_1 - \\mu_2| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i}) \\right| \\le \\frac{1}{k} \\sqrt{k} \\sqrt{\\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i})^2} = k^{-1/2} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n1403:         $$\n1404: Thus, $L_{\\mu,M}(\\mathcal{S}) = k^{-1/2}$.\n1405:     *   **Second Moment:**\n1406: \n1407: $$\n1408:         |m_{2,1} - m_{2,2}| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i}^2 - v_{2,i}^2) \\right| = \\frac{1}{k} \\left| \\sum_{i \\in \\mathcal{A}} (v_{1,i} - v_{2,i})(v_{1,i} + v_{2,i}) \\right|\n1409: $$\n1410: The term $|v_{1,i} + v_{2,i}| \\le 2V_{\\max}$. Applying Cauchy-Schwarz:\n1411: $$\n1412:         \\le \\frac{1}{k} \\sqrt{\\sum (v_{1,i} - v_{2,i})^2} \\sqrt{\\sum (v_{1,i} + v_{2,i})^2} \\le \\frac{1}{k} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2 \\sqrt{k(2V_{\\max})^2} = 2V_{\\max} k^{-1/2} \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n1413: $$\n1414: Thus, $L_{m_2,M}(\\mathcal{S}) \\le 2V_{\\max} k^{-1/2}$.\n1415: 2.  **Structural Continuity:**\n1416:     We bound the change in moments for a fixed value vector $\\mathbf{v}$ and two swarms $\\mathcal{S}_1, \\mathcal{S}_2$. Let $n_c = \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2 = |\\mathcal{A}_1 \\Delta \\mathcal{A}_2|$. We decompose the error by adding and subtracting the intermediate term $\\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i$.\n1417:     *   **Mean:**\n1418: $$\n1419:         |\\mu_1 - \\mu_2| = \\left| \\frac{1}{k_1}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_2} v_i \\right| \\le \\left|\\frac{1}{k_1}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i \\right| + \\left|\\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_1} v_i - \\frac{1}{k_2}\\sum_{i \\in \\mathcal{A}_2} v_i \\right|\n1420: $$\n1421: The first term is bounded by $\\left|\\frac{1}{k_1} - \\frac{1}{k_2}\\right| |\\sum_{\\mathcal{A}_1} v_i| \\le \\frac{|k_2 - k_1|}{k_1 k_2} (k_1 V_{\\max}) = \\frac{|k_2 - k_1|}{k_2}V_{\\max}$.\n1422:         The second term is $\\frac{1}{k_2}|\\sum_{i \\in \\mathcal{A}_1 \\setminus \\mathcal{A}_2} v_i - \\sum_{i \\in \\mathcal{A}_2 \\setminus \\mathcal{A}_1} v_i| \\le \\frac{V_{\\max}}{k_2}|\\mathcal{A}_1 \\Delta \\mathcal{A}_2|$.\n1423:         Since $|k_2 - k_1| \\le n_c$ and $|\\mathcal{A}_1 \\Delta \\mathcal{A}_2| = n_c$, the sum is bounded by $\\frac{2V_{\\max}}{k_2} n_c$.\n1424:         Thus, $L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\le \\frac{2V_{\\max}}{k_2}$.\n1425:     *   **Second Moment:** The derivation is identical, replacing $v_i$ with $v_i^2$ and the bound $V_{\\max}$ with $V_{\\max}^2$. This yields $L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\le \\frac{2V_{\\max}^2}{k_2}$.\n1426: 3.  **Axiom of Bounded Deviation from Aggregated Variance ($\\kappa_{\\text{var}}$):**\n1427:     The axiom requires $\\sum_{i \\in \\mathcal{A}} (v_i - \\mu)^2 \\le \\kappa_{\\text{var}} \\cdot k \\cdot \\text{Var}[M]$. For the empirical aggregator, $\\mu$ is the sample mean and $\\text{Var}[M]$ is the sample variance $\\frac{1}{k}\\sum_{i \\in \\mathcal{A}} (v_i - \\mu)^2$. The axiom becomes an identity for $\\kappa_{\\text{var}} = 1$.\n1428: 4.  **Axiom of Bounded Variance Production ($\\kappa_{\\text{range}}$):**\n1429:     The axiom requires $\\text{Var}[M] \\le \\kappa_{\\text{range}} \\cdot V_{\\max}^2$. The sample variance is $\\frac{1}{k}\\sum v_i^2 - \\mu^2$. Since $v_i^2 \\le V_{\\max}^2$ and $\\mu^2 \\ge 0$, we have $\\text{Var}[M] \\le \\frac{1}{k}\\sum V_{\\max}^2 - \\mu^2 = V_{\\max}^2 - \\mu^2 \\le V_{\\max}^2$. The axiom is satisfied with $\\kappa_{\\text{range}} = 1$.\n1430: 5.  **Structural Growth Exponents:**\n1431:     Under the **Axiom of Bounded Relative Collapse**, $k_2 \\ge c_{\\min} k_1$. We analyze the asymptotic behavior of the structural continuity functions for large $k_1$:\n1432:     *   $L_{\\mu,S} \\propto k_2^{-1} \\le (c_{\\min}k_1)^{-1} \\propto k_1^{-1}$, implying $p_{\\mu,S} = -1$.\n1433:     *   $L_{m_2,S} \\propto k_2^{-1} \\le (c_{\\min}k_1)^{-1} \\propto k_1^{-1}$, implying $p_{m_2,S} = -1$.\n1434:     *   The worst-case exponent is $p_{\\text{worst-case}} = \\max(-1, -1) = -1$.\n1435: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 7,
        "chapter_file": "chapter_7.json",
        "section_id": "## 7. Swarm Measuring"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-set-difference-bound",
      "title": null,
      "start_line": 1540,
      "end_line": 1557,
      "header_lines": [
        1541
      ],
      "content_start": 1542,
      "content_end": 1556,
      "content": "1542: :label: proof-lem-set-difference-bound\n1543: **Proof.**\n1544: 1.  **Isolate the Difference in Sums:** Factoring out the common normalization constant $1/|S_1|$, we need to bound $\\frac{1}{|S_1|} \\left| \\sum_{j \\in S_1} f_j - \\sum_{j \\in S_2} f_j \\right|$.\n1545: 2.  **Decompose the Sums:** We partition the sums over disjoint regions: $S_1 = (S_1 \\setminus S_2) \\cup (S_1 \\cap S_2)$ and $S_2 = (S_2 \\setminus S_1) \\cup (S_1 \\cap S_2)$. The difference of sums becomes:\n1546: $$\n1547:     \\left( \\sum_{j \\in S_1 \\setminus S_2} f_j + \\sum_{j \\in S_1 \\cap S_2} f_j \\right) - \\left( \\sum_{j \\in S_2 \\setminus S_1} f_j + \\sum_{j \\in S_1 \\cap S_2} f_j \\right) = \\sum_{j \\in S_1 \\setminus S_2} f_j - \\sum_{j \\in S_2 \\setminus S_1} f_j\n1548: $$\n1549: 3.  **Apply Bounds:** By the triangle inequality and the uniform bound $|f_j| \\le M_f$:\n1550: $$\n1551:     \\left| \\sum_{j \\in S_1 \\setminus S_2} f_j - \\sum_{j \\in S_2 \\setminus S_1} f_j \\right| \\le \\sum_{j \\in S_1 \\setminus S_2} |f_j| + \\sum_{j \\in S_2 \\setminus S_1} |f_j| \\le M_f |S_1 \\setminus S_2| + M_f |S_2 \\setminus S_1|\n1552: $$\n1553: 4.  **Relate to Symmetric Difference:** By definition, $|S_1 \\setminus S_2| + |S_2 \\setminus S_1| = |S_1 \\Delta S_2|$. Combining this with the previous steps gives the final bound:\n1554: $$\n1555:     \\frac{1}{|S_1|} \\left| \\dots \\right| \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2|\n1556: $$",
      "metadata": {
        "label": "proof-lem-set-difference-bound"
      },
      "section": "## 8. Companion Selection",
      "references": [],
      "raw_directive": "1540: :::\n1541: :::{prf:proof}\n1542: :label: proof-lem-set-difference-bound\n1543: **Proof.**\n1544: 1.  **Isolate the Difference in Sums:** Factoring out the common normalization constant $1/|S_1|$, we need to bound $\\frac{1}{|S_1|} \\left| \\sum_{j \\in S_1} f_j - \\sum_{j \\in S_2} f_j \\right|$.\n1545: 2.  **Decompose the Sums:** We partition the sums over disjoint regions: $S_1 = (S_1 \\setminus S_2) \\cup (S_1 \\cap S_2)$ and $S_2 = (S_2 \\setminus S_1) \\cup (S_1 \\cap S_2)$. The difference of sums becomes:\n1546: $$\n1547:     \\left( \\sum_{j \\in S_1 \\setminus S_2} f_j + \\sum_{j \\in S_1 \\cap S_2} f_j \\right) - \\left( \\sum_{j \\in S_2 \\setminus S_1} f_j + \\sum_{j \\in S_1 \\cap S_2} f_j \\right) = \\sum_{j \\in S_1 \\setminus S_2} f_j - \\sum_{j \\in S_2 \\setminus S_1} f_j\n1548: $$\n1549: 3.  **Apply Bounds:** By the triangle inequality and the uniform bound $|f_j| \\le M_f$:\n1550: $$\n1551:     \\left| \\sum_{j \\in S_1 \\setminus S_2} f_j - \\sum_{j \\in S_2 \\setminus S_1} f_j \\right| \\le \\sum_{j \\in S_1 \\setminus S_2} |f_j| + \\sum_{j \\in S_2 \\setminus S_1} |f_j| \\le M_f |S_1 \\setminus S_2| + M_f |S_2 \\setminus S_1|\n1552: $$\n1553: 4.  **Relate to Symmetric Difference:** By definition, $|S_1 \\setminus S_2| + |S_2 \\setminus S_1| = |S_1 \\Delta S_2|$. Combining this with the previous steps gives the final bound:\n1554: $$\n1555:     \\frac{1}{|S_1|} \\left| \\dots \\right| \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2|\n1556: $$\n1557: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-normalization-difference-bound",
      "title": null,
      "start_line": 1572,
      "end_line": 1585,
      "header_lines": [
        1573
      ],
      "content_start": 1574,
      "content_end": 1584,
      "content": "1574: :label: proof-lem-normalization-difference-bound\n1575: **Proof.**\n1576: 1.  **Factor out the Common Sum:** The expression is $\\left| \\frac{1}{|S_1|} - \\frac{1}{|S_2|} \\right| \\left| \\sum_{j \\in S_2} f_j \\right|$.\n1577: 2.  **Bound the Sum:** Using the triangle inequality, $\\left| \\sum_{j \\in S_2} f_j \\right| \\le \\sum_{j \\in S_2} |f_j| \\le |S_2| \\cdot M_f$.\n1578: 3.  **Combine and Finalize:** Substituting the bound on the sum gives:\n1579: $$\n1580: \n1581:     \\left| \\frac{|S_2| - |S_1|}{|S_1| |S_2|} \\right| \\cdot \\left( |S_2| \\cdot M_f \\right) = \\frac{\\big||S_2| - |S_1|\\big|}{|S_1| |S_2|} \\cdot |S_2| M_f = \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big|\n1582: \n1583: \n1584: $$",
      "metadata": {
        "label": "proof-lem-normalization-difference-bound"
      },
      "section": "## 8. Companion Selection",
      "references": [],
      "raw_directive": "1572: :::\n1573: :::{prf:proof}\n1574: :label: proof-lem-normalization-difference-bound\n1575: **Proof.**\n1576: 1.  **Factor out the Common Sum:** The expression is $\\left| \\frac{1}{|S_1|} - \\frac{1}{|S_2|} \\right| \\left| \\sum_{j \\in S_2} f_j \\right|$.\n1577: 2.  **Bound the Sum:** Using the triangle inequality, $\\left| \\sum_{j \\in S_2} f_j \\right| \\le \\sum_{j \\in S_2} |f_j| \\le |S_2| \\cdot M_f$.\n1578: 3.  **Combine and Finalize:** Substituting the bound on the sum gives:\n1579: $$\n1580: \n1581:     \\left| \\frac{|S_2| - |S_1|}{|S_1| |S_2|} \\right| \\cdot \\left( |S_2| \\cdot M_f \\right) = \\frac{\\big||S_2| - |S_1|\\big|}{|S_1| |S_2|} \\cdot |S_2| M_f = \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big|\n1582: \n1583: \n1584: $$\n1585: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-total-error-status-bound",
      "title": null,
      "start_line": 1599,
      "end_line": 1625,
      "header_lines": [
        1600
      ],
      "content_start": 1601,
      "content_end": 1624,
      "content": "1601: :label: proof-thm-total-error-status-bound\n1602: **Proof.**\n1603: 1.  **Decompose the Total Error:** We introduce an intermediate term and apply the triangle inequality:\n1604: $$\n1605: \n1606:     E \\le \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_1} f_j - \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j \\right| + \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j - \\frac{1}{|S_2|} \\sum_{j \\in S_2} f_j \\right|\n1607: \n1608: \n1609: $$\n1610: 2.  **Substitute Proven Bounds:** We substitute the results from {prf:ref}`lem-set-difference-bound` and {prf:ref}`lem-normalization-difference-bound`:\n1611: $$\n1612: \n1613:     E \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2| + \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big| = \\frac{M_f}{|S_1|} \\left( |S_1 \\Delta S_2| + \\big||S_1| - |S_2|\\big| \\right)\n1614: \n1615: \n1616: $$\n1617: 3.  **Relate Set Metrics to Status Changes:** A change in a potential companion's status is what drives changes in the support set $S_i$. A single status change for a walker $j$ can change the size of the symmetric difference $|S_1 \\Delta S_2|$ by at most one, and the difference in set sizes $||S_1| - |S_2||$ by at most one. Therefore, both of these set-based metrics are bounded by the total number of status changes among the set of potential companions. This local count is, in turn, bounded by the total number of status changes in the entire swarm, $n_c = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$. Thus, we have $|S_1 \\Delta S_2| \\le n_c$ and $||S_1| - |S_2|| \\leq n_c$.\n1618: 4.  **Substitute and Finalize:** We substitute these two bounds into the inequality from step 2:\n1619: $$\n1620: \n1621:     E \\le \\frac{M_f}{|S_1|} \\left( n_c + n_c \\right) = \\frac{2 M_f}{|S_1|} \\cdot n_c\n1622: \n1623: \n1624: $$",
      "metadata": {
        "label": "proof-thm-total-error-status-bound"
      },
      "section": "## 8. Companion Selection",
      "references": [
        "lem-set-difference-bound",
        "lem-normalization-difference-bound"
      ],
      "raw_directive": "1599: :::\n1600: :::{prf:proof}\n1601: :label: proof-thm-total-error-status-bound\n1602: **Proof.**\n1603: 1.  **Decompose the Total Error:** We introduce an intermediate term and apply the triangle inequality:\n1604: $$\n1605: \n1606:     E \\le \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_1} f_j - \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j \\right| + \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j - \\frac{1}{|S_2|} \\sum_{j \\in S_2} f_j \\right|\n1607: \n1608: \n1609: $$\n1610: 2.  **Substitute Proven Bounds:** We substitute the results from {prf:ref}`lem-set-difference-bound` and {prf:ref}`lem-normalization-difference-bound`:\n1611: $$\n1612: \n1613:     E \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2| + \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big| = \\frac{M_f}{|S_1|} \\left( |S_1 \\Delta S_2| + \\big||S_1| - |S_2|\\big| \\right)\n1614: \n1615: \n1616: $$\n1617: 3.  **Relate Set Metrics to Status Changes:** A change in a potential companion's status is what drives changes in the support set $S_i$. A single status change for a walker $j$ can change the size of the symmetric difference $|S_1 \\Delta S_2|$ by at most one, and the difference in set sizes $||S_1| - |S_2||$ by at most one. Therefore, both of these set-based metrics are bounded by the total number of status changes among the set of potential companions. This local count is, in turn, bounded by the total number of status changes in the entire swarm, $n_c = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$. Thus, we have $|S_1 \\Delta S_2| \\le n_c$ and $||S_1| - |S_2|| \\leq n_c$.\n1618: 4.  **Substitute and Finalize:** We substitute these two bounds into the inequality from step 2:\n1619: $$\n1620: \n1621:     E \\le \\frac{M_f}{|S_1|} \\left( n_c + n_c \\right) = \\frac{2 M_f}{|S_1|} \\cdot n_c\n1622: \n1623: \n1624: $$\n1625: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cubic-patch-uniqueness",
      "title": null,
      "start_line": 1711,
      "end_line": 1754,
      "header_lines": [
        1712
      ],
      "content_start": 1713,
      "content_end": 1753,
      "content": "1713: :label: proof-lem-cubic-patch-uniqueness\n1714: **Proof.**\n1715: Let the generic cubic polynomial be $P(z) = az³ + bz² + cz + d$, and its derivative be $P'(z) = 3az² + 2bz + c$. The four boundary conditions are defined at the endpoints of the interval, $z₀ = z_max - 1$ and $z₁ = z_max$. Let the required values and derivatives at these points be:\n1716: *   $y₀ = P(z₀) = log(z_max) + 1$\n1717: *   $y'₀ = P'(z₀) = 1/z_max$\n1718: *   $y₁ = P(z₁) = log(1 + z_max) + 1$\n1719: *   $y'₁ = P'(z₁) = 0$\n1720: 1.  **Formulate as a System of Linear Equations:**\n1721:     The four boundary conditions create a system of four linear equations for the four unknown coefficients $(a, b, c, d)$:\n1722:     1.  $a z₀³ + b z₀² + c z₀ + d = y₀$\n1723:     2.  $3a z₀² + 2b z₀ + c + 0d = y'₀$\n1724:     3.  $a z₁³ + b z₁² + c z₁ + d = y₁$\n1725:     4.  $3a z₁² + 2b z₁ + c + 0d = y'₁$\n1726: 2.  **Represent as a Matrix Equation:**\n1727:     This system can be written in the matrix form $M * **x** = **y**$, where $**x** = [a, b, c, d]ᵀ$:\n1728: $$\n1729: \n1730:     \\begin{pmatrix}\n1731:     z₀³ & z₀² & z₀ & 1 \\\\\n1732:     3z₀² & 2z₀ & 1 & 0 \\\\\n1733:     z₁³ & z₁² & z₁ & 1 \\\\\n1734:     3z₁² & 2z₁ & 1 & 0\n1735:     \\end{pmatrix}\n1736:     \\begin{pmatrix} a \\\\ b \\\\ c \\\\ d \\end{pmatrix}\n1737:     =\n1738:     \\begin{pmatrix} y₀ \\\\ y'₀ \\\\ y₁ \\\\ y'₁ \\end{pmatrix}\n1739: \n1740: \n1741: $$\n1742: 3.  **Prove Uniqueness of the Solution:**\n1743:     A unique solution for the coefficients $(a, b, c, d)$ exists if and only if the determinant of the coefficient matrix $M$ is non-zero. The matrix $M$ is a confluent Vandermonde matrix. Its determinant has a known closed-form solution:\n1744: $$\n1745: \n1746:     \\det(M) = (z₁ - z₀)⁴\n1747: \n1748: \n1749: $$\n1750: From the problem definition, $z₁ - z₀ = z_max - (z_max - 1) = 1$.\n1751:     Therefore, $det(M) = 1⁴ = 1$.\n1752: 4.  **Conclusion:**\n1753:     Since the determinant of the coefficient matrix is $1$, it is non-zero. This guarantees that the matrix is invertible and the system of linear equations has exactly one unique solution for $(a, b, c, d)$. Consequently, the cubic polynomial $P(z)$ that satisfies the four boundary conditions not only exists but is also unique for any valid choice of $z_max$.",
      "metadata": {
        "label": "proof-lem-cubic-patch-uniqueness"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1711: :::\n1712: :::{prf:proof}\n1713: :label: proof-lem-cubic-patch-uniqueness\n1714: **Proof.**\n1715: Let the generic cubic polynomial be $P(z) = az³ + bz² + cz + d$, and its derivative be $P'(z) = 3az² + 2bz + c$. The four boundary conditions are defined at the endpoints of the interval, $z₀ = z_max - 1$ and $z₁ = z_max$. Let the required values and derivatives at these points be:\n1716: *   $y₀ = P(z₀) = log(z_max) + 1$\n1717: *   $y'₀ = P'(z₀) = 1/z_max$\n1718: *   $y₁ = P(z₁) = log(1 + z_max) + 1$\n1719: *   $y'₁ = P'(z₁) = 0$\n1720: 1.  **Formulate as a System of Linear Equations:**\n1721:     The four boundary conditions create a system of four linear equations for the four unknown coefficients $(a, b, c, d)$:\n1722:     1.  $a z₀³ + b z₀² + c z₀ + d = y₀$\n1723:     2.  $3a z₀² + 2b z₀ + c + 0d = y'₀$\n1724:     3.  $a z₁³ + b z₁² + c z₁ + d = y₁$\n1725:     4.  $3a z₁² + 2b z₁ + c + 0d = y'₁$\n1726: 2.  **Represent as a Matrix Equation:**\n1727:     This system can be written in the matrix form $M * **x** = **y**$, where $**x** = [a, b, c, d]ᵀ$:\n1728: $$\n1729: \n1730:     \\begin{pmatrix}\n1731:     z₀³ & z₀² & z₀ & 1 \\\\\n1732:     3z₀² & 2z₀ & 1 & 0 \\\\\n1733:     z₁³ & z₁² & z₁ & 1 \\\\\n1734:     3z₁² & 2z₁ & 1 & 0\n1735:     \\end{pmatrix}\n1736:     \\begin{pmatrix} a \\\\ b \\\\ c \\\\ d \\end{pmatrix}\n1737:     =\n1738:     \\begin{pmatrix} y₀ \\\\ y'₀ \\\\ y₁ \\\\ y'₁ \\end{pmatrix}\n1739: \n1740: \n1741: $$\n1742: 3.  **Prove Uniqueness of the Solution:**\n1743:     A unique solution for the coefficients $(a, b, c, d)$ exists if and only if the determinant of the coefficient matrix $M$ is non-zero. The matrix $M$ is a confluent Vandermonde matrix. Its determinant has a known closed-form solution:\n1744: $$\n1745: \n1746:     \\det(M) = (z₁ - z₀)⁴\n1747: \n1748: \n1749: $$\n1750: From the problem definition, $z₁ - z₀ = z_max - (z_max - 1) = 1$.\n1751:     Therefore, $det(M) = 1⁴ = 1$.\n1752: 4.  **Conclusion:**\n1753:     Since the determinant of the coefficient matrix is $1$, it is non-zero. This guarantees that the matrix is invertible and the system of linear equations has exactly one unique solution for $(a, b, c, d)$. Consequently, the cubic polynomial $P(z)$ that satisfies the four boundary conditions not only exists but is also unique for any valid choice of $z_max$.\n1754: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cubic-patch-coefficients",
      "title": null,
      "start_line": 1771,
      "end_line": 1809,
      "header_lines": [
        1772
      ],
      "content_start": 1773,
      "content_end": 1808,
      "content": "1773: :label: proof-lem-cubic-patch-coefficients\n1774: **Proof.**\n1775: Let the interval be $[z_0, z_1]$, where $z_0 = z_{\\max}-1$ and $z_1 = z_{\\max}$. The four boundary conditions from [](#def-asymmetric-rescale-function) are:\n1776: *   $y_0 = P(z_0) = \\log(z_{\\max}) + 1$\n1777: *   $y'_0 = P'(z_0) = 1/z_{\\max}$\n1778: *   $y_1 = P(z_1) = \\log(1 + z_{\\max}) + 1$\n1779: *   $y'_1 = P'(z_1) = 0$\n1780: We define the polynomial $Q(s)$ for $s = z-z_0 \\in [0, 1]$. Its derivative is $Q'(s) = 3As^2 + 2Bs + C$. The boundary conditions are transformed into conditions on $Q(s)$ at $s=0$ and $s=1$.\n1781: 1.  **Condition at $s=0$:**\n1782:     *   The value at the start of the interval must match: $Q(0) = y_0$.\n1783:         $A(0)^3 + B(0)^2 + C(0) + D = y_0 \\implies D = y_0 = \\log(z_{\\max}) + 1$.\n1784:     *   The derivative at the start must also match. Note that by the chain rule, $P'(z) = \\frac{d}{dz}Q(z-z_0) = Q'(z-z_0)$.\n1785:         $Q'(0) = y'_0 \\implies 3A(0)^2 + 2B(0) + C = y'_0 \\implies C = y'_0 = \\frac{1}{z_{\\max}}$.\n1786: 2.  **Condition at $s=1$:**\n1787:     *   The value at the end of the interval must match: $Q(1) = y_1$.\n1788:         $A(1)^3 + B(1)^2 + C(1) + D = y_1 \\implies A + B + C + D = y_1$.\n1789:     *   The derivative at the end must match: $Q'(1) = y'_1$.\n1790:         $3A(1)^2 + 2B(1) + C = y'_1 \\implies 3A + 2B + C = y'_1$.\n1791: 3.  **Solve the System for A and B:**\n1792:     We now have a system of two linear equations for the two remaining unknown coefficients, $A$ and $B$.\n1793:     *   From the value condition at $s=1$: $A + B = y_1 - D - C = y_1 - y_0 - y'_0$.\n1794:     *   From the derivative condition at $s=1$: $3A + 2B = y'_1 - C = y'_1 - y'_0$.\n1795:     Let's define the change in value, $\\Delta y = y_1 - y_0 = \\log(1+z_{\\max}) - \\log(z_{\\max}) = \\log(1+1/z_{\\max})$. The system becomes:\n1796:     1. $A + B = \\Delta y - y'_0$\n1797:     2. $3A + 2B = y'_1 - y'_0$\n1798:     Multiply the first equation by 2:\n1799:     $2A + 2B = 2\\Delta y - 2y'_0$\n1800:     Subtract this from the second equation to solve for $A$:\n1801:     $A = (y'_1 - y'_0) - (2\\Delta y - 2y'_0) = y'_1 + y'_0 - 2\\Delta y$\n1802:     Substitute the known values ($y'_1=0, y'_0=1/z_{\\max}, \\Delta y=\\log(1+1/z_{\\max}))$:\n1803:     $A = 0 + \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1804:     Now, solve for $B$ using the first equation:\n1805:     $B = (\\Delta y - y'_0) - A = (\\Delta y - y'_0) - (y'_1 + y'_0 - 2\\Delta y) = 3\\Delta y - 2y'_0 - y'_1$\n1806:     Substitute the known values:\n1807:     $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}} - 0$\n1808:     The expressions for $A, B, C, D$ match those stated in the lemma. This completes the proof.",
      "metadata": {
        "label": "proof-lem-cubic-patch-coefficients"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1771: :::\n1772: :::{prf:proof}\n1773: :label: proof-lem-cubic-patch-coefficients\n1774: **Proof.**\n1775: Let the interval be $[z_0, z_1]$, where $z_0 = z_{\\max}-1$ and $z_1 = z_{\\max}$. The four boundary conditions from [](#def-asymmetric-rescale-function) are:\n1776: *   $y_0 = P(z_0) = \\log(z_{\\max}) + 1$\n1777: *   $y'_0 = P'(z_0) = 1/z_{\\max}$\n1778: *   $y_1 = P(z_1) = \\log(1 + z_{\\max}) + 1$\n1779: *   $y'_1 = P'(z_1) = 0$\n1780: We define the polynomial $Q(s)$ for $s = z-z_0 \\in [0, 1]$. Its derivative is $Q'(s) = 3As^2 + 2Bs + C$. The boundary conditions are transformed into conditions on $Q(s)$ at $s=0$ and $s=1$.\n1781: 1.  **Condition at $s=0$:**\n1782:     *   The value at the start of the interval must match: $Q(0) = y_0$.\n1783:         $A(0)^3 + B(0)^2 + C(0) + D = y_0 \\implies D = y_0 = \\log(z_{\\max}) + 1$.\n1784:     *   The derivative at the start must also match. Note that by the chain rule, $P'(z) = \\frac{d}{dz}Q(z-z_0) = Q'(z-z_0)$.\n1785:         $Q'(0) = y'_0 \\implies 3A(0)^2 + 2B(0) + C = y'_0 \\implies C = y'_0 = \\frac{1}{z_{\\max}}$.\n1786: 2.  **Condition at $s=1$:**\n1787:     *   The value at the end of the interval must match: $Q(1) = y_1$.\n1788:         $A(1)^3 + B(1)^2 + C(1) + D = y_1 \\implies A + B + C + D = y_1$.\n1789:     *   The derivative at the end must match: $Q'(1) = y'_1$.\n1790:         $3A(1)^2 + 2B(1) + C = y'_1 \\implies 3A + 2B + C = y'_1$.\n1791: 3.  **Solve the System for A and B:**\n1792:     We now have a system of two linear equations for the two remaining unknown coefficients, $A$ and $B$.\n1793:     *   From the value condition at $s=1$: $A + B = y_1 - D - C = y_1 - y_0 - y'_0$.\n1794:     *   From the derivative condition at $s=1$: $3A + 2B = y'_1 - C = y'_1 - y'_0$.\n1795:     Let's define the change in value, $\\Delta y = y_1 - y_0 = \\log(1+z_{\\max}) - \\log(z_{\\max}) = \\log(1+1/z_{\\max})$. The system becomes:\n1796:     1. $A + B = \\Delta y - y'_0$\n1797:     2. $3A + 2B = y'_1 - y'_0$\n1798:     Multiply the first equation by 2:\n1799:     $2A + 2B = 2\\Delta y - 2y'_0$\n1800:     Subtract this from the second equation to solve for $A$:\n1801:     $A = (y'_1 - y'_0) - (2\\Delta y - 2y'_0) = y'_1 + y'_0 - 2\\Delta y$\n1802:     Substitute the known values ($y'_1=0, y'_0=1/z_{\\max}, \\Delta y=\\log(1+1/z_{\\max}))$:\n1803:     $A = 0 + \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1804:     Now, solve for $B$ using the first equation:\n1805:     $B = (\\Delta y - y'_0) - A = (\\Delta y - y'_0) - (y'_1 + y'_0 - 2\\Delta y) = 3\\Delta y - 2y'_0 - y'_1$\n1806:     Substitute the known values:\n1807:     $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}} - 0$\n1808:     The expressions for $A, B, C, D$ match those stated in the lemma. This completes the proof.\n1809: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cubic-patch-derivative",
      "title": null,
      "start_line": 1821,
      "end_line": 1848,
      "header_lines": [
        1822
      ],
      "content_start": 1823,
      "content_end": 1847,
      "content": "1823: :label: proof-lem-cubic-patch-derivative\n1824: **Proof.**\n1825: The proof is a direct substitution of the coefficients found in [](#lem-cubic-patch-coefficients) into the general form for the derivative of a cubic polynomial expressed in the normalized coordinate system.\n1826: 1.  **Recall the Polynomial and its Derivative:**\n1827:     From [](#lem-cubic-patch-coefficients), the polynomial patch is expressed as $Q(s) = As^3 + Bs^2 + Cs + D$ for $s \\in [0, 1]$. Its derivative with respect to $s$ is:\n1828: $$\n1829: \n1830:     Q'(s) = 3As^2 + 2Bs + C\n1831: \n1832: \n1833: $$\n1834: By the chain rule, $P'(z) = Q'(s)$.\n1835: 2.  **Substitute the Explicit Coefficients:**\n1836:     We substitute the explicit expressions for the coefficients $A, B,$ and $C$ as determined in [](#lem-cubic-patch-coefficients):\n1837:     *   $A = \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1838:     *   $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}$\n1839:     *   $C = \\frac{1}{z_{\\max}}$\n1840:     Substituting these into the expression for $Q'(s)$ yields:\n1841: $$\n1842: \n1843:     P'(z(s)) = 3\\left(\\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}\\right)s + \\frac{1}{z_{\\max}}\n1844: \n1845: \n1846: $$\n1847: This provides the exact analytical form of the derivative on the interval of interest.",
      "metadata": {
        "label": "proof-lem-cubic-patch-derivative"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1821: :::\n1822: :::{prf:proof}\n1823: :label: proof-lem-cubic-patch-derivative\n1824: **Proof.**\n1825: The proof is a direct substitution of the coefficients found in [](#lem-cubic-patch-coefficients) into the general form for the derivative of a cubic polynomial expressed in the normalized coordinate system.\n1826: 1.  **Recall the Polynomial and its Derivative:**\n1827:     From [](#lem-cubic-patch-coefficients), the polynomial patch is expressed as $Q(s) = As^3 + Bs^2 + Cs + D$ for $s \\in [0, 1]$. Its derivative with respect to $s$ is:\n1828: $$\n1829: \n1830:     Q'(s) = 3As^2 + 2Bs + C\n1831: \n1832: \n1833: $$\n1834: By the chain rule, $P'(z) = Q'(s)$.\n1835: 2.  **Substitute the Explicit Coefficients:**\n1836:     We substitute the explicit expressions for the coefficients $A, B,$ and $C$ as determined in [](#lem-cubic-patch-coefficients):\n1837:     *   $A = \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1838:     *   $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}$\n1839:     *   $C = \\frac{1}{z_{\\max}}$\n1840:     Substituting these into the expression for $Q'(s)$ yields:\n1841: $$\n1842: \n1843:     P'(z(s)) = 3\\left(\\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}\\right)s + \\frac{1}{z_{\\max}}\n1844: \n1845: \n1846: $$\n1847: This provides the exact analytical form of the derivative on the interval of interest.\n1848: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-polynomial-patch-monotonicity",
      "title": null,
      "start_line": 1854,
      "end_line": 1858,
      "header_lines": [
        1855
      ],
      "content_start": 1856,
      "content_end": 1857,
      "content": "1856: :label: proof-lem-polynomial-patch-monotonicity\n1857: By Fritsch–Carlson/Hyman sufficient conditions for monotone cubic Hermite interpolation, it suffices that $m_0,m_1\\ge 0$ and $m_0, m_1 \\le 3\\Delta$ on the interval. Here $m_1=0$ and $m_0=1/z_{\\max}>0$. Moreover, for all $z_{\\max}>1$, $1/z_{\\max} \\le 1 < 3\\log(1+1/z_{\\max})=3\\Delta$. Thus $0\\le m_0,m_1\\le 3\\Delta$, and the interpolant is monotone on $[z_0,z_1]$ by the cited criterion.",
      "metadata": {
        "label": "proof-lem-polynomial-patch-monotonicity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1854: :::\n1855: :::{prf:proof}\n1856: :label: proof-lem-polynomial-patch-monotonicity\n1857: By Fritsch–Carlson/Hyman sufficient conditions for monotone cubic Hermite interpolation, it suffices that $m_0,m_1\\ge 0$ and $m_0, m_1 \\le 3\\Delta$ on the interval. Here $m_1=0$ and $m_0=1/z_{\\max}>0$. Moreover, for all $z_{\\max}>1$, $1/z_{\\max} \\le 1 < 3\\log(1+1/z_{\\max})=3\\Delta$. Thus $0\\le m_0,m_1\\le 3\\Delta$, and the interpolant is monotone on $[z_0,z_1]$ by the cited criterion.\n1858: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cubic-patch-derivative-bounds",
      "title": null,
      "start_line": 1879,
      "end_line": 1939,
      "header_lines": [
        1880
      ],
      "content_start": 1881,
      "content_end": 1938,
      "content": "1881: :label: proof-lem-cubic-patch-derivative-bounds\n1882: **Proof.**\n1883: The proof proceeds by analyzing the function $q(s, x) = P'(z(s))$ for $s \\in [0, 1]$ and $x = 1/z_{\\max} \\in (0, 1)$.\n1884: 1.  **Non-Negativity (Monotonicity):**\n1885:     As formally established in [](#lem-polynomial-patch-monotonicity), the polynomial patch $P(z)$ is monotonically non-decreasing. Since the function is proven to be monotonic, its first derivative must be non-negative. Therefore, we have $P'(z(s)) \\ge 0$ for all $s \\in [0, 1]$. The minimum value is 0, achieved at the boundary $s=1$.\n1886: 2.  **Analysis for the Upper Bound:**\n1887:     To find the maximum value of $P'(z(s))$, we must find the supremum of the function $q(s, x)$ over its two-dimensional domain $s \\in [0,1], x \\in (0, 1)$. From [](#lem-cubic-patch-derivative), the function can be expressed in terms of $s$ and $x$:\n1888: $$\n1889: \n1890:     q(s, x) = 3\\left(x - 2\\log\\left(1 + x\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + x\\right) - 2x\\right)s + x\n1891: \n1892: \n1893: $$\n1894: *   **Dependence on $x = 1/z_{\\max}$:** We first analyze the partial derivative of $q$ with respect to $x$ to determine where its maximum is located.\n1895: $$\n1896: \n1897:         \\frac{\\partial q}{\\partial x} = (3s^2 - 4s + 1) + \\frac{6s - 6s^2}{1+x} = (3s-1)(s-1) + \\frac{6s(1-s)}{1+x}\n1898: \n1899: \n1900: $$\n1901: We factor out the non-negative term $(1-s)$:\n1902: $$\n1903: \n1904:         \\frac{\\partial q}{\\partial x} = -(1-s)(3s-1) + \\frac{6s(1-s)}{1+x} = (1-s)\\left[ -(3s-1) + \\frac{6s}{1+x} \\right] = (1-s)\\left[ 1 - 3s + \\frac{6s}{1+x} \\right]\n1905: \n1906: \n1907: $$\n1908: Let the term in the brackets be $T(s,x) = 1 - 3s + \\frac{6s}{1+x}$. Since $x \\in (0, 1)$, we have $1+x \\in (1,2)$, which implies that the coefficient of $s$, $\\frac{6}{1+x}$, is in the range $(3, 6)$. The derivative of $T$ with respect to $s$ is $\\frac{\\partial T}{\\partial s} = -3 + \\frac{6}{1+x} > 0$. Thus, for any fixed $x$, $T(s,x)$ is monotonically increasing in $s$. Its minimum value on the interval $s \\in [0,1]$ must occur at $s=0$, which gives $T(0,x)=1$. Since the term $T(s,x)$ is always greater than or equal to 1, and the factor $(1-s)$ is non-negative on the domain, the entire partial derivative is non-negative: $\\frac{\\partial q}{\\partial x} \\ge 0$. This proves that for any fixed $s$, the function $q(s,x)$ is monotonically increasing with $x$.\n1909:     *   **Finding the Supremum:** Because $q(s,x)$ is increasing in $x$, its supremum over the domain must occur at the boundary where $x \\to 1$ (which corresponds to $z_{\\max} \\to 1^+$). We therefore analyze the function in this limit:\n1910: $$\n1911: \n1912:         q_{sup}(s) = \\lim_{x \\to 1} q(s,x) = (6s(1-s))\\log(2) + (3s-1)(s-1)\n1913: \n1914: \n1915: $$\n1916: This is a quadratic function of $s$:\n1917: $$\n1918: \n1919:         q_{sup}(s) = (3 - 6\\log(2))s^2 + (6\\log(2) - 4)s + 1\n1920: \n1921: \n1922: $$\n1923: *   **Maximize the Bounding Quadratic:** This is a downward-opening parabola, as its leading coefficient $(3 - 6\\log(2)) \\approx -1.15$ is negative. Its maximum value occurs at its vertex, $s_v = \\frac{-(6\\log(2)-4)}{2(3-6\\log(2))} = \\frac{4-6\\log(2)}{6-12\\log(2)} \\approx 0.068$. Since this vertex lies within the interval $[0,1]$, the maximum of the function is the value at this vertex. The value of a quadratic $as^2+bs+c$ at its vertex $s_v = -b/(2a)$ is given by $c - b^2/(4a)$.\n1924: $$\n1925: \n1926:         \\max_s q_{sup}(s) = 1 - \\frac{(6\\log(2)-4)^2}{4(3-6\\log(2))} = 1 - \\frac{4(3\\log(2)-2)^2}{12(1-2\\log(2))} = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)}\n1927: \n1928: \n1929: $$\n1930: Substituting the approximate values gives:\n1931: $$\n1932: \n1933:         L_P = 1 + \\frac{(2.079 - 2)^2}{3(1.386 - 1)} \\approx 1 + \\frac{0.00624}{1.158} \\approx 1.0054\n1934: \n1935: \n1936: $$\n1937: 3.  **Conclusion:**\n1938:     The derivative of the polynomial patch is bounded below by 0 and its supremum is the constant $L_P \\approx 1.0054$. Therefore, $0 \\le P'(z(s)) \\le L_P$. This proves the derivative is uniformly bounded on its domain.",
      "metadata": {
        "label": "proof-lem-cubic-patch-derivative-bounds"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1879: :::\n1880: :::{prf:proof}\n1881: :label: proof-lem-cubic-patch-derivative-bounds\n1882: **Proof.**\n1883: The proof proceeds by analyzing the function $q(s, x) = P'(z(s))$ for $s \\in [0, 1]$ and $x = 1/z_{\\max} \\in (0, 1)$.\n1884: 1.  **Non-Negativity (Monotonicity):**\n1885:     As formally established in [](#lem-polynomial-patch-monotonicity), the polynomial patch $P(z)$ is monotonically non-decreasing. Since the function is proven to be monotonic, its first derivative must be non-negative. Therefore, we have $P'(z(s)) \\ge 0$ for all $s \\in [0, 1]$. The minimum value is 0, achieved at the boundary $s=1$.\n1886: 2.  **Analysis for the Upper Bound:**\n1887:     To find the maximum value of $P'(z(s))$, we must find the supremum of the function $q(s, x)$ over its two-dimensional domain $s \\in [0,1], x \\in (0, 1)$. From [](#lem-cubic-patch-derivative), the function can be expressed in terms of $s$ and $x$:\n1888: $$\n1889: \n1890:     q(s, x) = 3\\left(x - 2\\log\\left(1 + x\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + x\\right) - 2x\\right)s + x\n1891: \n1892: \n1893: $$\n1894: *   **Dependence on $x = 1/z_{\\max}$:** We first analyze the partial derivative of $q$ with respect to $x$ to determine where its maximum is located.\n1895: $$\n1896: \n1897:         \\frac{\\partial q}{\\partial x} = (3s^2 - 4s + 1) + \\frac{6s - 6s^2}{1+x} = (3s-1)(s-1) + \\frac{6s(1-s)}{1+x}\n1898: \n1899: \n1900: $$\n1901: We factor out the non-negative term $(1-s)$:\n1902: $$\n1903: \n1904:         \\frac{\\partial q}{\\partial x} = -(1-s)(3s-1) + \\frac{6s(1-s)}{1+x} = (1-s)\\left[ -(3s-1) + \\frac{6s}{1+x} \\right] = (1-s)\\left[ 1 - 3s + \\frac{6s}{1+x} \\right]\n1905: \n1906: \n1907: $$\n1908: Let the term in the brackets be $T(s,x) = 1 - 3s + \\frac{6s}{1+x}$. Since $x \\in (0, 1)$, we have $1+x \\in (1,2)$, which implies that the coefficient of $s$, $\\frac{6}{1+x}$, is in the range $(3, 6)$. The derivative of $T$ with respect to $s$ is $\\frac{\\partial T}{\\partial s} = -3 + \\frac{6}{1+x} > 0$. Thus, for any fixed $x$, $T(s,x)$ is monotonically increasing in $s$. Its minimum value on the interval $s \\in [0,1]$ must occur at $s=0$, which gives $T(0,x)=1$. Since the term $T(s,x)$ is always greater than or equal to 1, and the factor $(1-s)$ is non-negative on the domain, the entire partial derivative is non-negative: $\\frac{\\partial q}{\\partial x} \\ge 0$. This proves that for any fixed $s$, the function $q(s,x)$ is monotonically increasing with $x$.\n1909:     *   **Finding the Supremum:** Because $q(s,x)$ is increasing in $x$, its supremum over the domain must occur at the boundary where $x \\to 1$ (which corresponds to $z_{\\max} \\to 1^+$). We therefore analyze the function in this limit:\n1910: $$\n1911: \n1912:         q_{sup}(s) = \\lim_{x \\to 1} q(s,x) = (6s(1-s))\\log(2) + (3s-1)(s-1)\n1913: \n1914: \n1915: $$\n1916: This is a quadratic function of $s$:\n1917: $$\n1918: \n1919:         q_{sup}(s) = (3 - 6\\log(2))s^2 + (6\\log(2) - 4)s + 1\n1920: \n1921: \n1922: $$\n1923: *   **Maximize the Bounding Quadratic:** This is a downward-opening parabola, as its leading coefficient $(3 - 6\\log(2)) \\approx -1.15$ is negative. Its maximum value occurs at its vertex, $s_v = \\frac{-(6\\log(2)-4)}{2(3-6\\log(2))} = \\frac{4-6\\log(2)}{6-12\\log(2)} \\approx 0.068$. Since this vertex lies within the interval $[0,1]$, the maximum of the function is the value at this vertex. The value of a quadratic $as^2+bs+c$ at its vertex $s_v = -b/(2a)$ is given by $c - b^2/(4a)$.\n1924: $$\n1925: \n1926:         \\max_s q_{sup}(s) = 1 - \\frac{(6\\log(2)-4)^2}{4(3-6\\log(2))} = 1 - \\frac{4(3\\log(2)-2)^2}{12(1-2\\log(2))} = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)}\n1927: \n1928: \n1929: $$\n1930: Substituting the approximate values gives:\n1931: $$\n1932: \n1933:         L_P = 1 + \\frac{(2.079 - 2)^2}{3(1.386 - 1)} \\approx 1 + \\frac{0.00624}{1.158} \\approx 1.0054\n1934: \n1935: \n1936: $$\n1937: 3.  **Conclusion:**\n1938:     The derivative of the polynomial patch is bounded below by 0 and its supremum is the constant $L_P \\approx 1.0054$. Therefore, $0 \\le P'(z(s)) \\le L_P$. This proves the derivative is uniformly bounded on its domain.\n1939: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-rescale-monotonicity",
      "title": null,
      "start_line": 1946,
      "end_line": 1982,
      "header_lines": [
        1947
      ],
      "content_start": 1948,
      "content_end": 1981,
      "content": "1948: :label: proof-lem-rescale-monotonicity\n1949: **Proof.**\n1950: To prove that $g_A(z)$ is monotonically non-decreasing, we must show that its first derivative, $g'_A(z)$, is non-negative for all $z ∈ ℝ$. We have already established in [](#lem-rescale-monotonicity) that $g_A(z)$ is $C¹$, so its derivative is well-defined and continuous everywhere. We now analyze the sign of $g'_A(z)$ on each of the four segments of its piecewise definition.\n1951: 1.  **For $z ≤ 0$:**\n1952:     The function is $g_A(z) = \\exp(z)$. The derivative is:\n1953: $$\n1954: \n1955:     g'_A(z) = \\exp(z)\n1956: \n1957: \n1958: $$\n1959: The exponential function is strictly positive for all real inputs. Thus, $g'_A(z) > 0$ on this interval.\n1960: 2.  **For $0 < z < z_{\\max} - 1$:**\n1961:     The function is $g_A(z) = \\log(1 + z) + 1$. The derivative is:\n1962: $$\n1963: \n1964:     g'_A(z) = \\frac{1}{1 + z}\n1965: \n1966: \n1967: $$\n1968: Since $z > 0$ for this interval, the denominator $1 + z$ is always strictly greater than 1. Therefore, $g'_A(z) > 0$ on this interval.\n1969: 3.  **For $z_{\\max} - 1 ≤ z ≤ z_{\\max}$:**\n1970:     The function is the cubic polynomial patch $g_A(z) = P(z)$. As formally proven in [](#lem-cubic-patch-derivative-bounds), its derivative $P'(z)$ is non-negative on this interval. Therefore, $g'_A(z) = P'(z) ≥ 0$ on this interval.\n1971: 4.  **For $z > z_{\\max}$:**\n1972:     The function is the constant $g_A(z) = \\log(1 + z_{\\max}) + 1$. The derivative is:\n1973: $$\n1974: \n1975:     g'_A(z) = 0\n1976: \n1977: \n1978: $$\n1979: The derivative is non-negative on this interval.\n1980: 5.  **Conclusion:**\n1981:     We have shown that $g'_A(z) ≥ 0$ for all $z ∈ ℝ$. Since the derivative is non-negative everywhere, the function $g_A(z)$ is monotonically non-decreasing across its entire domain.",
      "metadata": {
        "label": "proof-lem-rescale-monotonicity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1946: :::\n1947: :::{prf:proof}\n1948: :label: proof-lem-rescale-monotonicity\n1949: **Proof.**\n1950: To prove that $g_A(z)$ is monotonically non-decreasing, we must show that its first derivative, $g'_A(z)$, is non-negative for all $z ∈ ℝ$. We have already established in [](#lem-rescale-monotonicity) that $g_A(z)$ is $C¹$, so its derivative is well-defined and continuous everywhere. We now analyze the sign of $g'_A(z)$ on each of the four segments of its piecewise definition.\n1951: 1.  **For $z ≤ 0$:**\n1952:     The function is $g_A(z) = \\exp(z)$. The derivative is:\n1953: $$\n1954: \n1955:     g'_A(z) = \\exp(z)\n1956: \n1957: \n1958: $$\n1959: The exponential function is strictly positive for all real inputs. Thus, $g'_A(z) > 0$ on this interval.\n1960: 2.  **For $0 < z < z_{\\max} - 1$:**\n1961:     The function is $g_A(z) = \\log(1 + z) + 1$. The derivative is:\n1962: $$\n1963: \n1964:     g'_A(z) = \\frac{1}{1 + z}\n1965: \n1966: \n1967: $$\n1968: Since $z > 0$ for this interval, the denominator $1 + z$ is always strictly greater than 1. Therefore, $g'_A(z) > 0$ on this interval.\n1969: 3.  **For $z_{\\max} - 1 ≤ z ≤ z_{\\max}$:**\n1970:     The function is the cubic polynomial patch $g_A(z) = P(z)$. As formally proven in [](#lem-cubic-patch-derivative-bounds), its derivative $P'(z)$ is non-negative on this interval. Therefore, $g'_A(z) = P'(z) ≥ 0$ on this interval.\n1971: 4.  **For $z > z_{\\max}$:**\n1972:     The function is the constant $g_A(z) = \\log(1 + z_{\\max}) + 1$. The derivative is:\n1973: $$\n1974: \n1975:     g'_A(z) = 0\n1976: \n1977: \n1978: $$\n1979: The derivative is non-negative on this interval.\n1980: 5.  **Conclusion:**\n1981:     We have shown that $g'_A(z) ≥ 0$ for all $z ∈ ℝ$. Since the derivative is non-negative everywhere, the function $g_A(z)$ is monotonically non-decreasing across its entire domain.\n1982: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-rescale-function-lipschitz",
      "title": null,
      "start_line": 1998,
      "end_line": 2008,
      "header_lines": [
        1999
      ],
      "content_start": 2000,
      "content_end": 2007,
      "content": "2000: :label: proof-thm-rescale-function-lipschitz\n2001: **Proof.**\n2002: A function that is continuously differentiable on $\\mathbb{R}$ is globally Lipschitz if the absolute value of its first derivative is uniformly bounded. We analyze each segment of $g_A$:\n2003: 1.  **$z \\le 0$:** $g'_A(z) = \\exp(z)$, whose supremum on $(-\\infty, 0]$ is $1$.\n2004: 2.  **$0 < z < z_{\\max} - 1$:** $g'_A(z) = 1/(1+z)$, whose supremum on this interval is $1$ (as $z \\to 0^+$).\n2005: 3.  **$z_{\\max}-1 \\le z \\le z_{\\max}$:** $g'_A(z) = P'(z)$; by [](#lem-cubic-patch-derivative-bounds), $0 \\le P'(z) \\le L_P$.\n2006: 4.  **$z > z_{\\max}$:** $g'_A(z) = 0$.\n2007: Taking the supremum over segments yields $L_{g_A} = \\max\\{1, 1, L_P, 0\\} = L_P$, completing the proof.",
      "metadata": {
        "label": "proof-thm-rescale-function-lipschitz"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1998: :::\n1999: :::{prf:proof}\n2000: :label: proof-thm-rescale-function-lipschitz\n2001: **Proof.**\n2002: A function that is continuously differentiable on $\\mathbb{R}$ is globally Lipschitz if the absolute value of its first derivative is uniformly bounded. We analyze each segment of $g_A$:\n2003: 1.  **$z \\le 0$:** $g'_A(z) = \\exp(z)$, whose supremum on $(-\\infty, 0]$ is $1$.\n2004: 2.  **$0 < z < z_{\\max} - 1$:** $g'_A(z) = 1/(1+z)$, whose supremum on this interval is $1$ (as $z \\to 0^+$).\n2005: 3.  **$z_{\\max}-1 \\le z \\le z_{\\max}$:** $g'_A(z) = P'(z)$; by [](#lem-cubic-patch-derivative-bounds), $0 \\le P'(z) \\le L_P$.\n2006: 4.  **$z > z_{\\max}$:** $g'_A(z) = 0$.\n2007: Taking the supremum over segments yields $L_{g_A} = \\max\\{1, 1, L_P, 0\\} = L_P$, completing the proof.\n2008: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-lipschitz-bound-for-the-variance-functional",
      "title": null,
      "start_line": 2043,
      "end_line": 2059,
      "header_lines": [
        2044
      ],
      "content_start": 2045,
      "content_end": 2058,
      "content": "2045: :label: proof-lem-lipschitz-bound-for-the-variance-functional\n2046: By the triangle inequality,\n2047: $$\n2048: \n2049: \\big|\\,\\mathrm{Var}(\\mathbf v_1)-\\mathrm{Var}(\\mathbf v_2)\\,\\big|\\;\\le\\; |m_2(\\mathbf v_1)-m_2(\\mathbf v_2)|\\; +\\; |\\mu(\\mathbf v_1)^2-\\mu(\\mathbf v_2)^2|.\n2050: \n2051: $$\n2052: The first term is bounded by $L_{m_2,M}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2$. For the second, factor the difference of squares:\n2053: $$\n2054: \n2055: |\\mu(\\mathbf v_1)^2-\\mu(\\mathbf v_2)^2|\\;=\\; |\\mu(\\mathbf v_1)+\\mu(\\mathbf v_2)|\\,\\cdot\\,|\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|.\n2056: \n2057: $$\n2058: With $|\\mu(\\mathbf v_j)|\\le V_{\\max}$, we have $|\\mu(\\mathbf v_1)+\\mu(\\mathbf v_2)|\\le 2 V_{\\max}$, while $|\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|\\le L_{\\mu,M}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2$. Combine to obtain the stated bound.",
      "metadata": {
        "label": "proof-lem-lipschitz-bound-for-the-variance-functional"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "2043: :::\n2044: :::{prf:proof}\n2045: :label: proof-lem-lipschitz-bound-for-the-variance-functional\n2046: By the triangle inequality,\n2047: $$\n2048: \n2049: \\big|\\,\\mathrm{Var}(\\mathbf v_1)-\\mathrm{Var}(\\mathbf v_2)\\,\\big|\\;\\le\\; |m_2(\\mathbf v_1)-m_2(\\mathbf v_2)|\\; +\\; |\\mu(\\mathbf v_1)^2-\\mu(\\mathbf v_2)^2|.\n2050: \n2051: $$\n2052: The first term is bounded by $L_{m_2,M}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2$. For the second, factor the difference of squares:\n2053: $$\n2054: \n2055: |\\mu(\\mathbf v_1)^2-\\mu(\\mathbf v_2)^2|\\;=\\; |\\mu(\\mathbf v_1)+\\mu(\\mathbf v_2)|\\,\\cdot\\,|\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|.\n2056: \n2057: $$\n2058: With $|\\mu(\\mathbf v_j)|\\le V_{\\max}$, we have $|\\mu(\\mathbf v_1)+\\mu(\\mathbf v_2)|\\le 2 V_{\\max}$, while $|\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|\\le L_{\\mu,M}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2$. Combine to obtain the stated bound.\n2059: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-cor-closed-form-lipschitz-composite",
      "title": null,
      "start_line": 2087,
      "end_line": 2091,
      "header_lines": [
        2088
      ],
      "content_start": 2089,
      "content_end": 2090,
      "content": "2089: :label: proof-cor-closed-form-lipschitz-composite\n2090: Combine the bound on $L_{\\sigma\\'_{\\text{reg}}\\circ\\mathrm{Var}}$ with the Lipschitz constant for $g_A$ from [](#thm-rescale-function-lipschitz) and apply the chain rule.",
      "metadata": {
        "label": "proof-cor-closed-form-lipschitz-composite"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "2087: :::\n2088: :::{prf:proof}\n2089: :label: proof-cor-closed-form-lipschitz-composite\n2090: Combine the bound on $L_{\\sigma\\'_{\\text{reg}}\\circ\\mathrm{Var}}$ with the Lipschitz constant for $g_A$ from [](#thm-rescale-function-lipschitz) and apply the chain rule.\n2091: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-canonical-logistic-validity",
      "title": null,
      "start_line": 2110,
      "end_line": 2123,
      "header_lines": [
        2111
      ],
      "content_start": 2112,
      "content_end": 2122,
      "content": "2112: :label: proof-thm-canonical-logistic-validity\n2113: **Proof.**\n2114: The proof consists of verifying each of the four axiomatic conditions, which was previously done in $02_relativistic_gas.md$ and is consolidated here.\n2115: 1.  **$C^1$ Smoothness:** The function is a composition of the exponential function, addition, and division. As the denominator is always non-zero, the function is infinitely differentiable ($C^\\infty$) and therefore $C^1$.\n2116: 2.  **Monotonicity:** The first derivative is $g'_A(z) = 2e^{-z} / (1+e^{-z})^2$. Since $e^{-z} > 0$ and the denominator is a squared real number, $g'_A(z) > 0$ for all $z$. The function is strictly increasing, which satisfies the axiom.\n2117: 3.  **Uniform Boundedness:** We analyze the limits:\n2118:     *   As $z \\to \\infty$, $e^{-z} \\to 0$, so $g_A(z) \\to 2 / (1+0) = 2$.\n2119:     *   As $z \\to -\\infty$, $e^{-z} \\to \\infty$, so $g_A(z) \\to 0$.\n2120:     The range is the open interval $(0, 2)$. The function is uniformly bounded with $g_{A,\\max} = 2$.\n2121: 4.  **Global Lipschitz Continuity:** As proven previously, the derivative $g'_A(z)$ has a global maximum at $z=0$, where its value is $g'_A(0) = \\frac{1}{2}$. The derivative is uniformly bounded by this value. The function is therefore globally Lipschitz with constant $L_{g_A} = \\frac{1}{2}$.\n2122: Since all four conditions are met, the Canonical Logistic Rescale Function is a valid instantiation.",
      "metadata": {
        "label": "proof-thm-canonical-logistic-validity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "2110: :::\n2111: :::{prf:proof}\n2112: :label: proof-thm-canonical-logistic-validity\n2113: **Proof.**\n2114: The proof consists of verifying each of the four axiomatic conditions, which was previously done in $02_relativistic_gas.md$ and is consolidated here.\n2115: 1.  **$C^1$ Smoothness:** The function is a composition of the exponential function, addition, and division. As the denominator is always non-zero, the function is infinitely differentiable ($C^\\infty$) and therefore $C^1$.\n2116: 2.  **Monotonicity:** The first derivative is $g'_A(z) = 2e^{-z} / (1+e^{-z})^2$. Since $e^{-z} > 0$ and the denominator is a squared real number, $g'_A(z) > 0$ for all $z$. The function is strictly increasing, which satisfies the axiom.\n2117: 3.  **Uniform Boundedness:** We analyze the limits:\n2118:     *   As $z \\to \\infty$, $e^{-z} \\to 0$, so $g_A(z) \\to 2 / (1+0) = 2$.\n2119:     *   As $z \\to -\\infty$, $e^{-z} \\to \\infty$, so $g_A(z) \\to 0$.\n2120:     The range is the open interval $(0, 2)$. The function is uniformly bounded with $g_{A,\\max} = 2$.\n2121: 4.  **Global Lipschitz Continuity:** As proven previously, the derivative $g'_A(z)$ has a global maximum at $z=0$, where its value is $g'_A(0) = \\frac{1}{2}$. The derivative is uniformly bounded by this value. The function is therefore globally Lipschitz with constant $L_{g_A} = \\frac{1}{2}$.\n2122: Since all four conditions are met, the Canonical Logistic Rescale Function is a valid instantiation.\n2123: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-positional-error",
      "title": null,
      "start_line": 2201,
      "end_line": 2232,
      "header_lines": [
        2202
      ],
      "content_start": 2203,
      "content_end": 2231,
      "content": "2203: :label: proof-lem-single-walker-positional-error\n2204: **Proof.**\n2205: Let $\\Delta_{\\text{pos},i}$ denote the absolute error term we wish to bound.\n2206: 1.  **Apply Linearity of Expectation:**\n2207:     We combine the two terms into a single expectation.\n2208: $$\n2209: \n2210:     \\Delta_{\\text{pos},i} = \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|\n2211: \n2212: \n2213: $$\n2214: 2.  **Move the Absolute Value Inside the Expectation:**\n2215:     Using Jensen's inequality, $|\\mathbb{E}[X]| \\le \\mathbb{E}[|X|]$, we move the absolute value inside, which provides an upper bound:\n2216: $$\n2217: \n2218:     \\Delta_{\\text{pos},i} \\le \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\right]\n2219: \n2220: \n2221: $$\n2222: 3.  **Apply the Reverse Triangle Inequality:**\n2223:     The term inside the expectation is the absolute difference between two distance values. We apply the **reverse triangle inequality**, which states that for any points $a,b,c,d$ in a metric space $(M,d)$, $|d(a,b) - d(c,d)| \\le d(a,c) + d(b,d)$. Applying this to the Euclidean algorithmic distance $d_{\\text{alg}}$ yields:\n2224: $$\n2225: \n2226:     \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + d_{\\text{alg}}(x_{1,c}, x_{2,c})\n2227: \n2228: \n2229: $$\n2230: 4.  **Finalize the Bound:**\n2231:     We substitute this inequality back into the expression from Step 2. By linearity of expectation, the first term, $d_{\\text{alg}}(x_{1,i}, x_{2,i})$, is a constant with respect to the expectation over the companion index $c$. This gives the final bound.",
      "metadata": {
        "label": "proof-lem-single-walker-positional-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2201: :::\n2202: :::{prf:proof}\n2203: :label: proof-lem-single-walker-positional-error\n2204: **Proof.**\n2205: Let $\\Delta_{\\text{pos},i}$ denote the absolute error term we wish to bound.\n2206: 1.  **Apply Linearity of Expectation:**\n2207:     We combine the two terms into a single expectation.\n2208: $$\n2209: \n2210:     \\Delta_{\\text{pos},i} = \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|\n2211: \n2212: \n2213: $$\n2214: 2.  **Move the Absolute Value Inside the Expectation:**\n2215:     Using Jensen's inequality, $|\\mathbb{E}[X]| \\le \\mathbb{E}[|X|]$, we move the absolute value inside, which provides an upper bound:\n2216: $$\n2217: \n2218:     \\Delta_{\\text{pos},i} \\le \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\right]\n2219: \n2220: \n2221: $$\n2222: 3.  **Apply the Reverse Triangle Inequality:**\n2223:     The term inside the expectation is the absolute difference between two distance values. We apply the **reverse triangle inequality**, which states that for any points $a,b,c,d$ in a metric space $(M,d)$, $|d(a,b) - d(c,d)| \\le d(a,c) + d(b,d)$. Applying this to the Euclidean algorithmic distance $d_{\\text{alg}}$ yields:\n2224: $$\n2225: \n2226:     \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + d_{\\text{alg}}(x_{1,c}, x_{2,c})\n2227: \n2228: \n2229: $$\n2230: 4.  **Finalize the Bound:**\n2231:     We substitute this inequality back into the expression from Step 2. By linearity of expectation, the first term, $d_{\\text{alg}}(x_{1,i}, x_{2,i})$, is a constant with respect to the expectation over the companion index $c$. This gives the final bound.\n2232: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-structural-error",
      "title": null,
      "start_line": 2245,
      "end_line": 2264,
      "header_lines": [
        2246
      ],
      "content_start": 2247,
      "content_end": 2263,
      "content": "2247: :label: proof-lem-single-walker-structural-error\n2248: **Proof.**\n2249: This result is a direct application of the [](#thm-total-error-status-bound).\n2250: 1.  **Identify the Function and Bound:**\n2251:     Let the function being evaluated be $f(c) := d_{\\text{alg}}(x_{2,i}, x_{2,c})$. This function measures the distance from walker $i$ to a potential companion $c$. The distance in the algorithmic space is, by definition, bounded by the space's diameter, $D_{\\mathcal{Y}}$. Therefore, we have a uniform bound $M_f = D_{\\mathcal{Y}}$.\n2252: 2.  **Identify the Support Sets:**\n2253:     Let $S_1 = \\mathbb{C}_i(\\mathcal{S}_1)$ and $S_2 = \\mathbb{C}_i(\\mathcal{S}_2)$ be the companion support sets for walker $i$ in the two swarms. Since walker $i$ is alive in $\\mathcal{S}_1$ and the precondition states $k_1 \\ge 2$, the initial support set is $S_1 = \\mathcal{A}_1 \\setminus \\{i\\}$, and its size is $|S_1| = k_1 - 1 > 0$.\n2254: 3.  **Apply [](#thm-total-error-status-bound):**\n2255:     [](#thm-total-error-status-bound) provides a general bound for the change in expectation due to a change in the support set:\n2256: $$\n2257: \n2258:     \\text{Error} \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n2259: \n2260: \n2261: $$\n2262: 4.  **Substitute and Finalize:**\n2263:     We substitute our specific function bound $M_f = D_{\\mathcal{Y}}$ and the support set size $|S_1| = k_1 - 1$ into the general formula. This immediately yields the stated bound.",
      "metadata": {
        "label": "proof-lem-single-walker-structural-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2245: :::\n2246: :::{prf:proof}\n2247: :label: proof-lem-single-walker-structural-error\n2248: **Proof.**\n2249: This result is a direct application of the [](#thm-total-error-status-bound).\n2250: 1.  **Identify the Function and Bound:**\n2251:     Let the function being evaluated be $f(c) := d_{\\text{alg}}(x_{2,i}, x_{2,c})$. This function measures the distance from walker $i$ to a potential companion $c$. The distance in the algorithmic space is, by definition, bounded by the space's diameter, $D_{\\mathcal{Y}}$. Therefore, we have a uniform bound $M_f = D_{\\mathcal{Y}}$.\n2252: 2.  **Identify the Support Sets:**\n2253:     Let $S_1 = \\mathbb{C}_i(\\mathcal{S}_1)$ and $S_2 = \\mathbb{C}_i(\\mathcal{S}_2)$ be the companion support sets for walker $i$ in the two swarms. Since walker $i$ is alive in $\\mathcal{S}_1$ and the precondition states $k_1 \\ge 2$, the initial support set is $S_1 = \\mathcal{A}_1 \\setminus \\{i\\}$, and its size is $|S_1| = k_1 - 1 > 0$.\n2254: 3.  **Apply [](#thm-total-error-status-bound):**\n2255:     [](#thm-total-error-status-bound) provides a general bound for the change in expectation due to a change in the support set:\n2256: $$\n2257: \n2258:     \\text{Error} \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n2259: \n2260: \n2261: $$\n2262: 4.  **Substitute and Finalize:**\n2263:     We substitute our specific function bound $M_f = D_{\\mathcal{Y}}$ and the support set size $|S_1| = k_1 - 1$ into the general formula. This immediately yields the stated bound.\n2264: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-own-status-error",
      "title": null,
      "start_line": 2275,
      "end_line": 2283,
      "header_lines": [
        2276
      ],
      "content_start": 2277,
      "content_end": 2282,
      "content": "2277: :label: proof-lem-single-walker-own-status-error\n2278: **Proof.**\n2279: The proof considers the two possible cases for a status change.\n2280: 1.  **Case 1: Walker Dies ($s_{1,i}=1 \\to s_{2,i}=0$)**: The expected distance in state $\\mathcal{S}_1$ is $\\mathbb{E}[d_i(\\mathcal{S}_1)]$, which must lie in the interval $[0, D_{\\mathcal{Y}}]$. The expected distance in state $\\mathcal{S}_2$ is defined to be $\\mathbb{E}[d_i(\\mathcal{S}_2)] = 0$. The absolute difference is therefore $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - 0| \\le D_{\\mathcal{Y}}$.\n2281: 2.  **Case 2: Walker is Revived ($s_{1,i}=0 \\to s_{2,i}=1$)**: The logic is symmetric. $\\mathbb{E}[d_i(\\mathcal{S}_1)] = 0$ and $\\mathbb{E}[d_i(\\mathcal{S}_2)] \\in [0, D_{\\mathcal{Y}}]$. The absolute difference is again bounded by $D_{\\mathcal{Y}}$.\n2282: In both cases, the bound holds.",
      "metadata": {
        "label": "proof-lem-single-walker-own-status-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2275: :::\n2276: :::{prf:proof}\n2277: :label: proof-lem-single-walker-own-status-error\n2278: **Proof.**\n2279: The proof considers the two possible cases for a status change.\n2280: 1.  **Case 1: Walker Dies ($s_{1,i}=1 \\to s_{2,i}=0$)**: The expected distance in state $\\mathcal{S}_1$ is $\\mathbb{E}[d_i(\\mathcal{S}_1)]$, which must lie in the interval $[0, D_{\\mathcal{Y}}]$. The expected distance in state $\\mathcal{S}_2$ is defined to be $\\mathbb{E}[d_i(\\mathcal{S}_2)] = 0$. The absolute difference is therefore $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - 0| \\le D_{\\mathcal{Y}}$.\n2281: 2.  **Case 2: Walker is Revived ($s_{1,i}=0 \\to s_{2,i}=1$)**: The logic is symmetric. $\\mathbb{E}[d_i(\\mathcal{S}_1)] = 0$ and $\\mathbb{E}[d_i(\\mathcal{S}_2)] \\in [0, D_{\\mathcal{Y}}]$. The absolute difference is again bounded by $D_{\\mathcal{Y}}$.\n2282: In both cases, the bound holds.\n2283: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-total-expected-distance-error-decomposition",
      "title": null,
      "start_line": 2292,
      "end_line": 2298,
      "header_lines": [
        2293
      ],
      "content_start": 2294,
      "content_end": 2297,
      "content": "2294: :label: proof-thm-total-expected-distance-error-decomposition\n2295: **Proof.**\n2296: This decomposition is an identity that follows directly from partitioning the set of all walker indices $\\{1, ..., N\\}$ into two disjoint subsets: those whose survival status is the same in both swarms, and those whose status changes. The total sum of squared errors over all walkers is simply the sum of the errors over these two partitions.\n2297: The set of walkers whose error contribution could be non-zero is the union of the alive sets, $\\mathcal{A}(\\mathcal{S}_1) \\cup \\mathcal{A}(\\mathcal{S}_2)$. We partition this set into stable walkers, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and unstable walkers, whose indices lie in the symmetric difference of the alive sets, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$. For any walker **i** that is dead in both states, its expected distance is 0 in both states, so its error contribution is 0.",
      "metadata": {
        "label": "proof-thm-total-expected-distance-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2292: $$\n2293: :::{prf:proof}\n2294: :label: proof-thm-total-expected-distance-error-decomposition\n2295: **Proof.**\n2296: This decomposition is an identity that follows directly from partitioning the set of all walker indices $\\{1, ..., N\\}$ into two disjoint subsets: those whose survival status is the same in both swarms, and those whose status changes. The total sum of squared errors over all walkers is simply the sum of the errors over these two partitions.\n2297: The set of walkers whose error contribution could be non-zero is the union of the alive sets, $\\mathcal{A}(\\mathcal{S}_1) \\cup \\mathcal{A}(\\mathcal{S}_2)$. We partition this set into stable walkers, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and unstable walkers, whose indices lie in the symmetric difference of the alive sets, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$. For any walker **i** that is dead in both states, its expected distance is 0 in both states, so its error contribution is 0.\n2298: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-squared-error-unstable",
      "title": null,
      "start_line": 2310,
      "end_line": 2317,
      "header_lines": [
        2311
      ],
      "content_start": 2312,
      "content_end": 2316,
      "content": "2312: :label: proof-lem-total-squared-error-unstable\n2313: **Proof.** For any unstable walker $i$ (i.e., $s_{1,i}\\neq s_{2,i}$), [](#lem-single-walker-own-status-error) gives\n2314: $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le D_{\\mathcal{Y}}$.\n2315: Squaring and summing over all unstable walkers yields the stated bound, since the count\n2316: $\\big|\\mathcal{A}_{\\text{unstable}}\\big| = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$.",
      "metadata": {
        "label": "proof-lem-total-squared-error-unstable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2310: :::\n2311: :::{prf:proof}\n2312: :label: proof-lem-total-squared-error-unstable\n2313: **Proof.** For any unstable walker $i$ (i.e., $s_{1,i}\\neq s_{2,i}$), [](#lem-single-walker-own-status-error) gives\n2314: $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le D_{\\mathcal{Y}}$.\n2315: Squaring and summing over all unstable walkers yields the stated bound, since the count\n2316: $\\big|\\mathcal{A}_{\\text{unstable}}\\big| = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$.\n2317: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-squared-error-stable",
      "title": null,
      "start_line": 2328,
      "end_line": 2352,
      "header_lines": [
        2329
      ],
      "content_start": 2330,
      "content_end": 2351,
      "content": "2330: :label: proof-lem-total-squared-error-stable\n2331: **Proof.**\n2332: The total error for a single stable walker is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2333: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2334: $$\n2335: \n2336: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2337: \n2338: $$\n2339: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2340: $$\n2341: \n2342: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2343: \n2344: $$\n2345: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2346: $$\n2347: \n2348: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2349: \n2350: $$\n2351: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.",
      "metadata": {
        "label": "proof-lem-total-squared-error-stable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2328: :::\n2329: :::{prf:proof}\n2330: :label: proof-lem-total-squared-error-stable\n2331: **Proof.**\n2332: The total error for a single stable walker is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2333: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2334: $$\n2335: \n2336: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2337: \n2338: $$\n2339: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2340: $$\n2341: \n2342: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2343: \n2344: $$\n2345: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2346: $$\n2347: \n2348: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2349: \n2350: $$\n2351: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.\n2352: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-walker-error-decomposition",
      "title": null,
      "start_line": 2362,
      "end_line": 2374,
      "header_lines": [
        2363
      ],
      "content_start": 2364,
      "content_end": 2373,
      "content": "2364: :label: proof-lem-sub-stable-walker-error-decomposition\n2365: **Proof.**\n2366: 1.  **Decompose Single-Walker Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2367: $$\n2368: \n2369: |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2370: \n2371: $$\n2372: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2373: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.",
      "metadata": {
        "label": "proof-lem-sub-stable-walker-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2362: $$\n2363: :::{prf:proof}\n2364: :label: proof-lem-sub-stable-walker-error-decomposition\n2365: **Proof.**\n2366: 1.  **Decompose Single-Walker Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2367: $$\n2368: \n2369: |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2370: \n2371: $$\n2372: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2373: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.\n2374: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-positional-error-bound",
      "title": null,
      "start_line": 2383,
      "end_line": 2430,
      "header_lines": [
        2384
      ],
      "content_start": 2385,
      "content_end": 2429,
      "content": "2385: :label: proof-lem-sub-stable-positional-error-bound\n2386: **Proof.**\n2387: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2388: $$\n2389: \n2390: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2391: \n2392: $$\n2393: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2394: $$\n2395: \n2396: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2397: \n2398: $$\n2399: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2400: $$\n2401: \n2402: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2403: \n2404: $$\n2405: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2406: $$\n2407: \n2408: 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{|\\mathcal{A}_1 \\setminus \\{i\\}|} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right)\n2409: \n2410: $$\n2411: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. The normalization factor is $\\frac{1}{k_1-1}$. Therefore, the double summation is bounded by:\n2412: $$\n2413: \n2414: \\le \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\le \\frac{2|\\mathcal{A}_{\\text{stable}}|}{k_1 - 1} \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2415: \n2416: $$\n2417: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, and for $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$, the entire second term from Step 3 is bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2418: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2419: $$\n2420: \n2421: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2422: \n2423: $$\n2424: Both sums can be bounded by the sum over all $N$ walkers, which is the definition of $\\Delta_{\\text{pos}}^2$:\n2425: $$\n2426: \n2427: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2428: \n2429: $$",
      "metadata": {
        "label": "proof-lem-sub-stable-positional-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2383: $$\n2384: :::{prf:proof}\n2385: :label: proof-lem-sub-stable-positional-error-bound\n2386: **Proof.**\n2387: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2388: $$\n2389: \n2390: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2391: \n2392: $$\n2393: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2394: $$\n2395: \n2396: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2397: \n2398: $$\n2399: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2400: $$\n2401: \n2402: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2403: \n2404: $$\n2405: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2406: $$\n2407: \n2408: 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{|\\mathcal{A}_1 \\setminus \\{i\\}|} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right)\n2409: \n2410: $$\n2411: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. The normalization factor is $\\frac{1}{k_1-1}$. Therefore, the double summation is bounded by:\n2412: $$\n2413: \n2414: \\le \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\le \\frac{2|\\mathcal{A}_{\\text{stable}}|}{k_1 - 1} \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2415: \n2416: $$\n2417: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, and for $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$, the entire second term from Step 3 is bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2418: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2419: $$\n2420: \n2421: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2422: \n2423: $$\n2424: Both sums can be bounded by the sum over all $N$ walkers, which is the definition of $\\Delta_{\\text{pos}}^2$:\n2425: $$\n2426: \n2427: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2428: \n2429: $$\n2430: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-structural-error-bound",
      "title": null,
      "start_line": 2440,
      "end_line": 2464,
      "header_lines": [
        2441
      ],
      "content_start": 2442,
      "content_end": 2463,
      "content": "2442: :label: proof-lem-sub-stable-structural-error-bound\n2443: **Proof.**\n2444: The proof proceeds by taking the established bound for the structural error of a single stable walker and summing its square over all stable walkers.\n2445: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). The bound is:\n2446: $$\n2447: \n2448: |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n2449: \n2450: $$\n2451: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2452: $$\n2453: \n2454: (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2455: \n2456: $$\n2457: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2461: \n2462: $$\n2463: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, we arrive at the final bound stated in the sub-lemma.",
      "metadata": {
        "label": "proof-lem-sub-stable-structural-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2440: $$\n2441: :::{prf:proof}\n2442: :label: proof-lem-sub-stable-structural-error-bound\n2443: **Proof.**\n2444: The proof proceeds by taking the established bound for the structural error of a single stable walker and summing its square over all stable walkers.\n2445: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). The bound is:\n2446: $$\n2447: \n2448: |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n2449: \n2450: $$\n2451: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2452: $$\n2453: \n2454: (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2455: \n2456: $$\n2457: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2461: \n2462: $$\n2463: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, we arrive at the final bound stated in the sub-lemma.\n2464: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2408",
      "title": null,
      "start_line": 2466,
      "end_line": 2479,
      "header_lines": [
        2467
      ],
      "content_start": 2468,
      "content_end": 2478,
      "content": "2468: :label: proof-line-2408\n2469: **Proof.**\n2470: 1.  **Analyze a Single Unstable Walker:** Let $i$ be an unstable walker, meaning its status $s_i$ changes. From [](#lem-single-walker-own-status-error), the absolute error in its expected distance is bounded by $D_{\\mathcal{Y}}$. Therefore, the squared error for any single unstable walker is bounded by $D_{\\mathcal{Y}}^2$.\n2471: 2.  **Sum Over All Unstable Walkers:** The set of unstable walkers, $\\mathcal{A}_{\\text{unstable}}$, is precisely the set of indices where $s_{1,i} \\neq s_{2,i}$. The number of walkers in this set is $|\\mathcal{A}_{\\text{unstable}}| = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$, since $(s_{1,j} - s_{2,j})^2$ is 1 if the status changes and 0 otherwise.\n2472: 3.  **Combine and Finalize:** The total squared error from unstable walkers is the sum of their individual squared errors. Since each is bounded by $D_{\\mathcal{Y}}^2$, the total sum is bounded by the number of such walkers multiplied by this bound:\n2473: $$\n2474: \n2475:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\dots|^2 \\le |\\mathcal{A}_{\\text{unstable}}| \\cdot D_{\\mathcal{Y}}^2 = D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2\n2476: \n2477: \n2478: $$",
      "metadata": {
        "label": "proof-line-2408"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2466: #### 10.2.5 Lemma: Bound on the Total Squared Error for Unstable Walkers\n2467: :::{prf:proof}\n2468: :label: proof-line-2408\n2469: **Proof.**\n2470: 1.  **Analyze a Single Unstable Walker:** Let $i$ be an unstable walker, meaning its status $s_i$ changes. From [](#lem-single-walker-own-status-error), the absolute error in its expected distance is bounded by $D_{\\mathcal{Y}}$. Therefore, the squared error for any single unstable walker is bounded by $D_{\\mathcal{Y}}^2$.\n2471: 2.  **Sum Over All Unstable Walkers:** The set of unstable walkers, $\\mathcal{A}_{\\text{unstable}}$, is precisely the set of indices where $s_{1,i} \\neq s_{2,i}$. The number of walkers in this set is $|\\mathcal{A}_{\\text{unstable}}| = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$, since $(s_{1,j} - s_{2,j})^2$ is 1 if the status changes and 0 otherwise.\n2472: 3.  **Combine and Finalize:** The total squared error from unstable walkers is the sum of their individual squared errors. Since each is bounded by $D_{\\mathcal{Y}}^2$, the total sum is bounded by the number of such walkers multiplied by this bound:\n2473: $$\n2474: \n2475:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\dots|^2 \\le |\\mathcal{A}_{\\text{unstable}}| \\cdot D_{\\mathcal{Y}}^2 = D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2\n2476: \n2477: \n2478: $$\n2479: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2422",
      "title": null,
      "start_line": 2481,
      "end_line": 2508,
      "header_lines": [
        2482
      ],
      "content_start": 2483,
      "content_end": 2507,
      "content": "2483: :label: proof-line-2422\n2484: **Proof.**\n2485: The total error for a single stable walker is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2486: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2487: $$\n2488: \n2489:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2490: \n2491: \n2492: $$\n2493: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2494: $$\n2495: \n2496:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2497: \n2498: \n2499: $$\n2500: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2501: $$\n2502: \n2503:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2504: \n2505: \n2506: $$\n2507: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.",
      "metadata": {
        "label": "proof-line-2422"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2481: #### 10.2.6 Lemma: Bound on the Total Squared Error for Stable Walkers\n2482: :::{prf:proof}\n2483: :label: proof-line-2422\n2484: **Proof.**\n2485: The total error for a single stable walker is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2486: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2487: $$\n2488: \n2489:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2490: \n2491: \n2492: $$\n2493: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2494: $$\n2495: \n2496:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2497: \n2498: \n2499: $$\n2500: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2501: $$\n2502: \n2503:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2504: \n2505: \n2506: $$\n2507: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.\n2508: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2450",
      "title": null,
      "start_line": 2510,
      "end_line": 2523,
      "header_lines": [
        2511
      ],
      "content_start": 2512,
      "content_end": 2522,
      "content": "2512: :label: proof-line-2450\n2513: **Proof.**\n2514: 1.  **Decompose Single-Walker Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2515: $$\n2516: \n2517:     |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2518: \n2519: \n2520: $$\n2521: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2522: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.",
      "metadata": {
        "label": "proof-line-2450"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2510: ##### 10.2.6.1 Sub-Lemma: Decomposition of Stable Walker Error\n2511: :::{prf:proof}\n2512: :label: proof-line-2450\n2513: **Proof.**\n2514: 1.  **Decompose Single-Walker Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2515: $$\n2516: \n2517:     |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2518: \n2519: \n2520: $$\n2521: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2522: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.\n2523: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2464",
      "title": null,
      "start_line": 2525,
      "end_line": 2586,
      "header_lines": [
        2526
      ],
      "content_start": 2527,
      "content_end": 2585,
      "content": "2527: :label: proof-line-2464\n2528: **Proof.**\n2529: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2530: $$\n2531: \n2532:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2533: \n2534: \n2535: $$\n2536: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2537: $$\n2538: \n2539:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2540: \n2541: \n2542: $$\n2543: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2544: $$\n2545: \n2546:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2547: \n2548: \n2549: $$\n2550: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2551: $$\n2552: \n2553:     2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{k_1 - 1} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right) = \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2\n2554: \n2555: \n2556: $$\n2557: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. Therefore, the double summation is bounded by:\n2558: $$\n2559: \n2560:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} (\\dots)^2 \\le |\\mathcal{A}_{\\text{stable}}| \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2561: \n2562: \n2563: $$\n2564: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, the entire second term from Step 3 is bounded by:\n2565: $$\n2566: \n2567:     \\frac{2}{k_1 - 1} \\cdot k_1 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2568: \n2569: \n2570: $$\n2571: For $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$. The term is therefore bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2572: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2573: $$\n2574: \n2575:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2576: \n2577: \n2578: $$\n2579: Both sums can be bounded by the sum over all $N$ walkers, giving the final result:\n2580: $$\n2581: \n2582:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2583: \n2584: \n2585: $$",
      "metadata": {
        "label": "proof-line-2464"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2525: ##### 10.2.6.2 Sub-Lemma: Bounding the Positional Error Component\n2526: :::{prf:proof}\n2527: :label: proof-line-2464\n2528: **Proof.**\n2529: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2530: $$\n2531: \n2532:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2533: \n2534: \n2535: $$\n2536: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2537: $$\n2538: \n2539:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2540: \n2541: \n2542: $$\n2543: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2544: $$\n2545: \n2546:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2547: \n2548: \n2549: $$\n2550: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2551: $$\n2552: \n2553:     2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{k_1 - 1} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right) = \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2\n2554: \n2555: \n2556: $$\n2557: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. Therefore, the double summation is bounded by:\n2558: $$\n2559: \n2560:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} (\\dots)^2 \\le |\\mathcal{A}_{\\text{stable}}| \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2561: \n2562: \n2563: $$\n2564: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, the entire second term from Step 3 is bounded by:\n2565: $$\n2566: \n2567:     \\frac{2}{k_1 - 1} \\cdot k_1 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2568: \n2569: \n2570: $$\n2571: For $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$. The term is therefore bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2572: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2573: $$\n2574: \n2575:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2576: \n2577: \n2578: $$\n2579: Both sums can be bounded by the sum over all $N$ walkers, giving the final result:\n2580: $$\n2581: \n2582:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2583: \n2584: \n2585: $$\n2586: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2526",
      "title": null,
      "start_line": 2588,
      "end_line": 2621,
      "header_lines": [
        2589
      ],
      "content_start": 2590,
      "content_end": 2620,
      "content": "2590: :label: proof-line-2526\n2591: **Proof.**\n2592: The proof proceeds by taking the established bound for the structural error of a single stable walker and summing its square over all stable walkers in the set $\\mathcal{A}_{\\text{stable}}$.\n2593: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). Let $n_c = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$ be the total number of status changes. The bound from [](#lem-single-walker-structural-error) is:\n2594: $$\n2595: \n2596:     |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2597: \n2598: \n2599: $$\n2600: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2601: $$\n2602: \n2603:     (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2604: \n2605: \n2606: $$\n2607: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker and does not depend on the index $i$, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2608: $$\n2609: \n2610:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2611: \n2612: \n2613: $$\n2614: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, and substituting the definition of $n_c^2$, we arrive at the final bound stated in the sub-lemma.\n2615: $$\n2616: \n2617:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2 = \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2618: \n2619: \n2620: $$",
      "metadata": {
        "label": "proof-line-2526"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2588: ##### 10.2.6.3 Sub-Lemma: Bounding the Structural Error Component for Stable Walkers\n2589: :::{prf:proof}\n2590: :label: proof-line-2526\n2591: **Proof.**\n2592: The proof proceeds by taking the established bound for the structural error of a single stable walker and summing its square over all stable walkers in the set $\\mathcal{A}_{\\text{stable}}$.\n2593: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). Let $n_c = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$ be the total number of status changes. The bound from [](#lem-single-walker-structural-error) is:\n2594: $$\n2595: \n2596:     |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2597: \n2598: \n2599: $$\n2600: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2601: $$\n2602: \n2603:     (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2604: \n2605: \n2606: $$\n2607: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker and does not depend on the index $i$, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2608: $$\n2609: \n2610:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2611: \n2612: \n2613: $$\n2614: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, and substituting the definition of $n_c^2$, we arrive at the final bound stated in the sub-lemma.\n2615: $$\n2616: \n2617:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2 = \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2618: \n2619: \n2620: $$\n2621: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-raw-distance-bound",
      "title": null,
      "start_line": 2638,
      "end_line": 2648,
      "header_lines": [
        2639
      ],
      "content_start": 2640,
      "content_end": 2647,
      "content": "2640: :label: proof-thm-expected-raw-distance-bound\n2641: **Proof.**\n2642: The proof is a direct consequence of decomposing the total error and applying the bounds established in the preceding lemmas.\n2643: 1.  **Decomposition of Total Error:** Following [](#thm-total-expected-distance-error-decomposition), the total squared error is the sum of the error from the set of stable walkers ($E^2_{\\text{stable}}$) and the set of unstable walkers ($E^2_{\\text{unstable}}$).\n2644: 2.  **Bound Error Components:**\n2645:     *   The error from unstable walkers, $E^2_{\\text{unstable}}$, is bounded by [](#lem-total-squared-error-unstable): $E^2_{\\text{unstable}} \\le D_{\\mathcal{Y}}^2 \\cdot n_c$.\n2646:     *   The error from stable walkers, $E^2_{\\text{stable}}$, is bounded by [](#lem-total-squared-error-stable): $E^2_{\\text{stable}} \\le 12 \\cdot \\Delta_{\\text{pos}}^2 + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2$.\n2647: 3.  **Combine Bounds:** Summing the two bounds gives the final inequality. This theorem recasts that result by explicitly naming the coefficients for each displacement component, formalizing the bound for use in subsequent proofs.",
      "metadata": {
        "label": "proof-thm-expected-raw-distance-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2638: :::\n2639: :::{prf:proof}\n2640: :label: proof-thm-expected-raw-distance-bound\n2641: **Proof.**\n2642: The proof is a direct consequence of decomposing the total error and applying the bounds established in the preceding lemmas.\n2643: 1.  **Decomposition of Total Error:** Following [](#thm-total-expected-distance-error-decomposition), the total squared error is the sum of the error from the set of stable walkers ($E^2_{\\text{stable}}$) and the set of unstable walkers ($E^2_{\\text{unstable}}$).\n2644: 2.  **Bound Error Components:**\n2645:     *   The error from unstable walkers, $E^2_{\\text{unstable}}$, is bounded by [](#lem-total-squared-error-unstable): $E^2_{\\text{unstable}} \\le D_{\\mathcal{Y}}^2 \\cdot n_c$.\n2646:     *   The error from stable walkers, $E^2_{\\text{stable}}$, is bounded by [](#lem-total-squared-error-stable): $E^2_{\\text{stable}} \\le 12 \\cdot \\Delta_{\\text{pos}}^2 + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2$.\n2647: 3.  **Combine Bounds:** Summing the two bounds gives the final inequality. This theorem recasts that result by explicitly naming the coefficients for each displacement component, formalizing the bound for use in subsequent proofs.\n2648: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-raw-distance-k1",
      "title": null,
      "start_line": 2667,
      "end_line": 2688,
      "header_lines": [
        2668
      ],
      "content_start": 2669,
      "content_end": 2687,
      "content": "2669: :label: proof-thm-expected-raw-distance-k1\n2670: **Proof.**\n2671: The proof follows directly from the definitions of the Raw Value Operator for distance and the Companion Selection Measure for the $k=1$ case. Let $\\mathcal{S}$ be a swarm with $|\\mathcal{A}(\\mathcal{S})| = 1$, and let the single survivor be walker $j$.\n2672: 1.  **Expected Distance for the Survivor (Walker **j**):**\n2673:     *   From the **Companion Selection Measure ([](#def-companion-selection-measure))**, if a walker is the only one alive, it is its own companion. Thus, the companion index is deterministically $c(j) = j$.\n2674:     *   The expected distance for walker $j$ is the expectation over a single outcome:\n2675: $$\n2676: \n2677:         \\mathbb{E}[d_j(\\mathcal{S})] = d_{\\text{alg}}(x_j, x_j) = 0\n2678: \n2679: \n2680: $$\n2681: This holds because $d_{\\text{alg}}$ is a metric, for which the distance from a point to itself is zero.\n2682: 2.  **Expected Distance for Dead Walkers (all **i ≠ j**):**\n2683:     *   From the definition of the **Raw Value Operator ([](#def-raw-value-operator))**, the raw value for any walker that is not in the alive set is deterministically zero.\n2684:     *   Therefore, for any dead walker $i \\in \\mathcal{D}(\\mathcal{S})$, its expected distance is $\\mathbb{E}[d_i(\\mathcal{S})] = 0$.\n2685: 3.  **Conclusion:**\n2686:     Since the expected distance is zero for the single alive walker and for all dead walkers, every component of the N-dimensional vector $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ is zero. This proves that the vector is deterministically the zero vector when $k=1$.\n2687:     The implication for continuity follows directly. For a transition from $\\mathcal{S}_1$ ($k_1 \\ge 2$) to $\\mathcal{S}_2$ ($k_2=1$), the change is $\\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbf{0} \\|_2^2$, which is not described by a continuous function of the displacement between the states but represents a discrete jump. This special case is handled by the revival dynamics of the algorithm rather than the continuity framework.",
      "metadata": {
        "label": "proof-thm-expected-raw-distance-k1"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2667: :::\n2668: :::{prf:proof}\n2669: :label: proof-thm-expected-raw-distance-k1\n2670: **Proof.**\n2671: The proof follows directly from the definitions of the Raw Value Operator for distance and the Companion Selection Measure for the $k=1$ case. Let $\\mathcal{S}$ be a swarm with $|\\mathcal{A}(\\mathcal{S})| = 1$, and let the single survivor be walker $j$.\n2672: 1.  **Expected Distance for the Survivor (Walker **j**):**\n2673:     *   From the **Companion Selection Measure ([](#def-companion-selection-measure))**, if a walker is the only one alive, it is its own companion. Thus, the companion index is deterministically $c(j) = j$.\n2674:     *   The expected distance for walker $j$ is the expectation over a single outcome:\n2675: $$\n2676: \n2677:         \\mathbb{E}[d_j(\\mathcal{S})] = d_{\\text{alg}}(x_j, x_j) = 0\n2678: \n2679: \n2680: $$\n2681: This holds because $d_{\\text{alg}}$ is a metric, for which the distance from a point to itself is zero.\n2682: 2.  **Expected Distance for Dead Walkers (all **i ≠ j**):**\n2683:     *   From the definition of the **Raw Value Operator ([](#def-raw-value-operator))**, the raw value for any walker that is not in the alive set is deterministically zero.\n2684:     *   Therefore, for any dead walker $i \\in \\mathcal{D}(\\mathcal{S})$, its expected distance is $\\mathbb{E}[d_i(\\mathcal{S})] = 0$.\n2685: 3.  **Conclusion:**\n2686:     Since the expected distance is zero for the single alive walker and for all dead walkers, every component of the N-dimensional vector $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ is zero. This proves that the vector is deterministically the zero vector when $k=1$.\n2687:     The implication for continuity follows directly. For a transition from $\\mathcal{S}_1$ ($k_1 \\ge 2$) to $\\mathcal{S}_2$ ($k_2=1$), the change is $\\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbf{0} \\|_2^2$, which is not described by a continuous function of the displacement between the states but represents a discrete jump. This special case is handled by the revival dynamics of the algorithm rather than the continuity framework.\n2688: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-distance-operator-satisfies-bounded-variance-axiom",
      "title": null,
      "start_line": 2703,
      "end_line": 2729,
      "header_lines": [
        2704
      ],
      "content_start": 2705,
      "content_end": 2728,
      "content": "2705: :label: proof-thm-distance-operator-satisfies-bounded-variance-axiom\n2706: **Proof.**\n2707: The proof proceeds by bounding the variance of each component of the N-dimensional raw distance vector.\n2708: 1.  **Decomposition of Total Variance:**\n2709:     The axiom requires a bound on $\\mathbb{E}[\\|\\mathbf{d} - \\mathbb{E}[\\mathbf{d}]\\|_2^2]$. By linearity of expectation, this is:\n2710: $$\n2711: \n2712:     \\mathbb{E}\\left[\\sum_{i=1}^N (d_i - \\mathbb{E}[d_i])^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(d_i - \\mathbb{E}[d_i])^2] = \\sum_{i=1}^N \\operatorname{Var}(d_i)\n2713: \n2714: \n2715: $$\n2716: 2.  **Bound the Variance of a Single Component:**\n2717:     We must bound the variance, $\\operatorname{Var}(d_i)$, for each walker $i$.\n2718:     *   **Case 1: Dead Walker.** If walker $i$ is dead, its raw distance is deterministically zero ($d_i=0$). Therefore, its variance is $\\operatorname{Var}(d_i) = 0$.\n2719:     *   **Case 2: Alive Walker.** If walker $i$ is alive, its raw distance $d_i$ is a random variable. By definition, any distance measurement in the algorithmic space is bounded on the interval $[0, D_{\\mathcal{Y}}]$. For any random variable $X$ bounded on an interval, its variance is bounded by $\\operatorname{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$. Since $d_i \\in [0, D_{\\mathcal{Y}}]$, we have $d_i^2 \\in [0, D_{\\mathcal{Y}}^2]$. The expectation is therefore bounded by $\\mathbb{E}[d_i^2] \\le D_{\\mathcal{Y}}^2$. Thus, for any alive walker, $\\operatorname{Var}(d_i) \\le D_{\\mathcal{Y}}^2$.\n2720: 3.  **Sum Over All Walkers:**\n2721:     The total variance is the sum of the individual variances. Since each of the $N$ terms is bounded above by $D_{\\mathcal{Y}}^2$, the sum is bounded by:\n2722: $$\n2723: \n2724:     \\sum_{i=1}^N \\operatorname{Var}(d_i) \\le N \\cdot D_{\\mathcal{Y}}^2\n2725: \n2726: \n2727: $$\n2728: This provides a uniform bound that holds for any swarm state $\\mathcal{S}$. The axiom is therefore satisfied with $\\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2$.",
      "metadata": {
        "label": "proof-thm-distance-operator-satisfies-bounded-variance-axiom"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2703: :::\n2704: :::{prf:proof}\n2705: :label: proof-thm-distance-operator-satisfies-bounded-variance-axiom\n2706: **Proof.**\n2707: The proof proceeds by bounding the variance of each component of the N-dimensional raw distance vector.\n2708: 1.  **Decomposition of Total Variance:**\n2709:     The axiom requires a bound on $\\mathbb{E}[\\|\\mathbf{d} - \\mathbb{E}[\\mathbf{d}]\\|_2^2]$. By linearity of expectation, this is:\n2710: $$\n2711: \n2712:     \\mathbb{E}\\left[\\sum_{i=1}^N (d_i - \\mathbb{E}[d_i])^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(d_i - \\mathbb{E}[d_i])^2] = \\sum_{i=1}^N \\operatorname{Var}(d_i)\n2713: \n2714: \n2715: $$\n2716: 2.  **Bound the Variance of a Single Component:**\n2717:     We must bound the variance, $\\operatorname{Var}(d_i)$, for each walker $i$.\n2718:     *   **Case 1: Dead Walker.** If walker $i$ is dead, its raw distance is deterministically zero ($d_i=0$). Therefore, its variance is $\\operatorname{Var}(d_i) = 0$.\n2719:     *   **Case 2: Alive Walker.** If walker $i$ is alive, its raw distance $d_i$ is a random variable. By definition, any distance measurement in the algorithmic space is bounded on the interval $[0, D_{\\mathcal{Y}}]$. For any random variable $X$ bounded on an interval, its variance is bounded by $\\operatorname{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$. Since $d_i \\in [0, D_{\\mathcal{Y}}]$, we have $d_i^2 \\in [0, D_{\\mathcal{Y}}^2]$. The expectation is therefore bounded by $\\mathbb{E}[d_i^2] \\le D_{\\mathcal{Y}}^2$. Thus, for any alive walker, $\\operatorname{Var}(d_i) \\le D_{\\mathcal{Y}}^2$.\n2720: 3.  **Sum Over All Walkers:**\n2721:     The total variance is the sum of the individual variances. Since each of the $N$ terms is bounded above by $D_{\\mathcal{Y}}^2$, the sum is bounded by:\n2722: $$\n2723: \n2724:     \\sum_{i=1}^N \\operatorname{Var}(d_i) \\le N \\cdot D_{\\mathcal{Y}}^2\n2725: \n2726: \n2727: $$\n2728: This provides a uniform bound that holds for any swarm state $\\mathcal{S}$. The axiom is therefore satisfied with $\\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2$.\n2729: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-distance-operator-mean-square-continuity",
      "title": null,
      "start_line": 2751,
      "end_line": 2795,
      "header_lines": [
        2752
      ],
      "content_start": 2753,
      "content_end": 2794,
      "content": "2753: :label: proof-thm-distance-operator-mean-square-continuity\n2754: **Proof.**\n2755: The proof bounds the total expected squared error by decomposing it into a stochastic variance component and a deterministic mean component. Let $\\mathbf{d}_1 = \\mathbf{d}(\\mathcal{S}_1)$ and $\\mathbf{d}_2 = \\mathbf{d}(\\mathcal{S}_2)$.\n2756: 1.  **Decomposition of Total Error:**\n2757:     We introduce the expectation vectors $\\mathbb{E}[\\mathbf{d}_1]$ and $\\mathbb{E}[\\mathbf{d}_2]$ and use the inequality $\\|A+B+C\\|_2^2 \\le 3(\\|A\\|_2^2 + \\|B\\|_2^2 + \\|C\\|_2^2)$.\n2758: $$\n2759: \n2760:     \\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2 = \\|(\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]) + (\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]) - (\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2])\\|_2^2\n2761: \n2762: \n2763: $$\n2764: $$\n2765:     \\le 3\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2 + 3\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 + 3\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2\n2766:     $$\n2767: 2.  **Take the Expectation:**\n2768:     We take the expectation of both sides. By linearity of expectation, this gives:\n2769: $$\n2770: \n2771:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2]\n2772: \n2773: \n2774: $$\n2775: 3.  **Bound the Components:**\n2776:     *   **Stochastic Variance Terms:** The first and third terms are bounded by the **Axiom of Bounded Measurement Variance**, which we have shown is satisfied by the distance operator in [](#thm-distance-operator-satisfies-bounded-variance-axiom) with $\\kappa^2_{\\text{variance}} = N D_{\\mathcal{Y}}^2$. Therefore:\n2777:         *   $\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2778:         *   $\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2779:     *   **Deterministic Mean Term:** The middle term involves the squared norm of a deterministic vector difference, so the expectation has no effect. This term is bounded by the analysis in Section 10.3. From [](#thm-distance-operator-mean-square-continuity), we have:\n2780: $$\n2781: \n2782:         \\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2\n2783: \n2784: \n2785: $$\n2786: 4.  **Combine the Bounds:**\n2787:     Substituting the bounds from Step 3 into the inequality from Step 2 yields the final result:\n2788: $$\n2789: \n2790:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3(N D_{\\mathcal{Y}}^2) + 3(\\text{Bound from Thm 10.3.2}) + 3(N D_{\\mathcal{Y}}^2)\n2791: \n2792: \n2793: $$\n2794: This simplifies to the expression for $F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ as stated in the theorem.",
      "metadata": {
        "label": "proof-thm-distance-operator-mean-square-continuity"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2751: :::\n2752: :::{prf:proof}\n2753: :label: proof-thm-distance-operator-mean-square-continuity\n2754: **Proof.**\n2755: The proof bounds the total expected squared error by decomposing it into a stochastic variance component and a deterministic mean component. Let $\\mathbf{d}_1 = \\mathbf{d}(\\mathcal{S}_1)$ and $\\mathbf{d}_2 = \\mathbf{d}(\\mathcal{S}_2)$.\n2756: 1.  **Decomposition of Total Error:**\n2757:     We introduce the expectation vectors $\\mathbb{E}[\\mathbf{d}_1]$ and $\\mathbb{E}[\\mathbf{d}_2]$ and use the inequality $\\|A+B+C\\|_2^2 \\le 3(\\|A\\|_2^2 + \\|B\\|_2^2 + \\|C\\|_2^2)$.\n2758: $$\n2759: \n2760:     \\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2 = \\|(\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]) + (\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]) - (\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2])\\|_2^2\n2761: \n2762: \n2763: $$\n2764: $$\n2765:     \\le 3\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2 + 3\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 + 3\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2\n2766:     $$\n2767: 2.  **Take the Expectation:**\n2768:     We take the expectation of both sides. By linearity of expectation, this gives:\n2769: $$\n2770: \n2771:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2]\n2772: \n2773: \n2774: $$\n2775: 3.  **Bound the Components:**\n2776:     *   **Stochastic Variance Terms:** The first and third terms are bounded by the **Axiom of Bounded Measurement Variance**, which we have shown is satisfied by the distance operator in [](#thm-distance-operator-satisfies-bounded-variance-axiom) with $\\kappa^2_{\\text{variance}} = N D_{\\mathcal{Y}}^2$. Therefore:\n2777:         *   $\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2778:         *   $\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2779:     *   **Deterministic Mean Term:** The middle term involves the squared norm of a deterministic vector difference, so the expectation has no effect. This term is bounded by the analysis in Section 10.3. From [](#thm-distance-operator-mean-square-continuity), we have:\n2780: $$\n2781: \n2782:         \\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2\n2783: \n2784: \n2785: $$\n2786: 4.  **Combine the Bounds:**\n2787:     Substituting the bounds from Step 3 into the inequality from Step 2 yields the final result:\n2788: $$\n2789: \n2790:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3(N D_{\\mathcal{Y}}^2) + 3(\\text{Bound from Thm 10.3.2}) + 3(N D_{\\mathcal{Y}}^2)\n2791: \n2792: \n2793: $$\n2794: This simplifies to the expression for $F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ as stated in the theorem.\n2795: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sigma-reg-derivative-bounds",
      "title": null,
      "start_line": 2882,
      "end_line": 2900,
      "header_lines": [
        2883
      ],
      "content_start": 2884,
      "content_end": 2899,
      "content": "2884: $$\n2885: \n2886: where $(2n-1)!! = 1 \\cdot 3 \\cdot 5 \\cdots (2n-1)$ is the double factorial.\n2887: \n2888: Referenced by {prf:ref}`def-fragile-gas-algorithm`.\n2889: :::\n2890: :::{prf:proof}\n2891: :label: proof-lem-sigma-reg-derivative-bounds\n2892: Direct computation of derivatives of $\\sigma'_{\text{reg}}(V) = (V + \\sigma'^2_{\\min})^{1/2}$:\n2893: \n2894: $$\n2895: (\\sigma'_{\text{reg}})'(V) = \n2896: rac{1}{2}(V + \\sigma'^2_{\\min})^{-1/2}\n2897: $$\n2898: \n2899: $$",
      "metadata": {
        "label": "proof-lem-sigma-reg-derivative-bounds"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2882: ight| \\le \n2883: rac{(2n-1)!!}{2^n \\sigma'^{(2n-1)}_{\\min}}\n2884: $$\n2885: \n2886: where $(2n-1)!! = 1 \\cdot 3 \\cdot 5 \\cdots (2n-1)$ is the double factorial.\n2887: \n2888: Referenced by {prf:ref}`def-fragile-gas-algorithm`.\n2889: :::\n2890: :::{prf:proof}\n2891: :label: proof-lem-sigma-reg-derivative-bounds\n2892: Direct computation of derivatives of $\\sigma'_{\text{reg}}(V) = (V + \\sigma'^2_{\\min})^{1/2}$:\n2893: \n2894: $$\n2895: (\\sigma'_{\text{reg}})'(V) = \n2896: rac{1}{2}(V + \\sigma'^2_{\\min})^{-1/2}\n2897: $$\n2898: \n2899: $$\n2900: (\\sigma'_{\text{reg}})''(V) = -",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-stats-value-continuity",
      "title": null,
      "start_line": 2926,
      "end_line": 2937,
      "header_lines": [
        2927
      ],
      "content_start": 2928,
      "content_end": 2936,
      "content": "2928: \\boxed{\n2929: L_{\\sigma',M}(\\mathcal{S}) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,M}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,M}(\\mathcal{S}) \\right)\n2930: }\n2931: $$\n2932: \n2933: and $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$ is the finite, global Lipschitz constant of the Regularized Standard Deviation Function from [](#lem-sigma-reg-derivative-bounds).\n2934: \n2935: This value continuity lemma is applied in {prf:ref}`02_euclidean_gas` for bounding standardization error with respect to reward and distance value changes.\n2936: :::",
      "metadata": {
        "label": "proof-lem-stats-value-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2926: \n2927: $$\n2928: \\boxed{\n2929: L_{\\sigma',M}(\\mathcal{S}) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,M}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,M}(\\mathcal{S}) \\right)\n2930: }\n2931: $$\n2932: \n2933: and $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$ is the finite, global Lipschitz constant of the Regularized Standard Deviation Function from [](#lem-sigma-reg-derivative-bounds).\n2934: \n2935: This value continuity lemma is applied in {prf:ref}`02_euclidean_gas` for bounding standardization error with respect to reward and distance value changes.\n2936: :::\n2937: :::{prf:proof}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-stats-structural-continuity",
      "title": null,
      "start_line": 2959,
      "end_line": 2964,
      "header_lines": [
        2960
      ],
      "content_start": 2961,
      "content_end": 2963,
      "content": "2961: \n2962: $$\n2963: \\boxed{",
      "metadata": {
        "label": "proof-lem-stats-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2959: $$\n2960: where $L_{\\mu,S}$ is the axiomatic structural continuity function for the mean from [](#def-swarm-aggregation-operator-axiomatic) (see [](#lem-empirical-aggregator-properties) for the empirical constants), and $L_{\\sigma',S}$ is the derived structural continuity function for the regularized standard deviation, given by:\n2961: \n2962: $$\n2963: \\boxed{\n2964: L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-z-score-norm-bound",
      "title": null,
      "start_line": 2979,
      "end_line": 3025,
      "header_lines": [
        2980
      ],
      "content_start": 2981,
      "content_end": 3024,
      "content": "2981: Let $\\mathbf{z}$ be the corresponding $k$-dimensional standardized vector, where each component is $z_i = (v_i - \\mu_{\\mathcal{A}}) / \\sigma'_{\\mathcal{A}}$ and the regularized standard deviation is $\\sigma'_{\\mathcal{A}} = \\sigma\\'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$ from [](#def-statistical-properties-measurement). Denote the minimal value of this map by $\\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\mathrm{std}}^2}$.\n2982: The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is strictly bounded by a constant that depends on the number of alive walkers and the global parameters:\n2983: \n2984: $$\n2985: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\varepsilon_{\\mathrm{std}}} \\right)^2\n2986: $$\n2987: \n2988: This universal bound on standardized vector norms is applied in {prf:ref}`02_euclidean_gas` for bounding the magnitude of standardized reward and distance scores in error analysis.\n2989: :::\n2990: :::{prf:proof}\n2991: :label: proof-thm-z-score-norm-bound\n2992: **Proof.**\n2993: The proof proceeds by first establishing a uniform bound on the magnitude of any single component of the standardized vector and then summing the squares of these bounds.\n2994: 1.  **Bound a Single Standardized Component:**\n2995:     The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is the sum of its squared components, $\\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2$. We first bound the absolute value of a single component, $|z_i|$.\n2996: \n2997: $$\n2998: |z_i| = \\left| \\frac{v_i - \\mu_{\\mathcal{A}}}{\\sigma'_{\\mathcal{A}}} \\right| = \\frac{|v_i - \\mu_{\\mathcal{A}}|}{|\\sigma'_{\\mathcal{A}}|}\n2999: $$\n3000: \n3001: 2.  **Bound the Numerator and Denominator:**\n3002:     *   **Numerator:** Using the triangle inequality, the numerator is bounded by the sum of the absolute values of its terms: $|v_i - \\mu_{\\mathcal{A}}| \\le |v_i| + |\\mu_{\\mathcal{A}}|$. By the problem's preconditions, the raw values are bounded by $|v_i| \\le V_{\\max}$. For any aggregation operator that is a convex combination of its inputs (such as the empirical mean), the resulting mean $\\mu_{\\mathcal{A}}$ will also be bounded by $V_{\\max}$. We assume this standard property holds, giving $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$. Therefore, the numerator is bounded by:\n3003: \n3004: $$\n3005: |v_i - \\mu_{\\mathcal{A}}| \\le V_{\\max} + V_{\\max} = 2V_{\\max}\n3006: $$\n3007: \n3008: *   **Denominator:** The regularized standard deviation obeys the floor $\\sigma'_{\\mathcal{A}} \\ge \\sigma'_{\\min\\,\\text{bound}}$ because the cubic patch is constant on $[0,\\kappa_{\\text{var,min}}]$ and nondecreasing thereafter. In particular, the denominator is strictly bounded below by this positive constant:\n3009: \n3010: $$\n3011: |\\sigma'_{\\mathcal{A}}| \\ge \\sigma'_{\\min\\,\\text{bound}}\n3012: $$\n3013: \n3014: 3.  **Combine for Component-wise Bound:**\n3015:     Combining the bounds for the numerator and denominator gives a uniform bound for the magnitude of any single standardized score:\n3016: \n3017: $$\n3018: |z_i| \\le \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\n3019: $$\n3020: \n3021: 4.  **Sum Over All Components:**\n3022:     The squared L2-norm is the sum of the squares of these components over the $k$ walkers in the alive set $\\mathcal{A}$.\n3023: \n3024: $$",
      "metadata": {
        "label": "proof-thm-z-score-norm-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2979: :label: thm-z-score-norm-bound\n2980: Let $\\mathbf{v} = (v_i)_{i \\in \\mathcal{A}}$ be a $k$-dimensional vector of raw values from an alive set $\\mathcal{A}$ of size $k=|\\mathcal{A}| \\ge 1$. The raw values are bounded such that $|v_i| \\le V_{\\max}$. Let the statistical properties $(\\mu_{\\mathcal{A}}, \\sigma'_{\\mathcal{A}})$ be calculated using any valid **Swarm Aggregation Operator** $M$ that guarantees the mean is bounded by the values, i.e., $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$.\n2981: Let $\\mathbf{z}$ be the corresponding $k$-dimensional standardized vector, where each component is $z_i = (v_i - \\mu_{\\mathcal{A}}) / \\sigma'_{\\mathcal{A}}$ and the regularized standard deviation is $\\sigma'_{\\mathcal{A}} = \\sigma\\'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$ from [](#def-statistical-properties-measurement). Denote the minimal value of this map by $\\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\mathrm{std}}^2}$.\n2982: The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is strictly bounded by a constant that depends on the number of alive walkers and the global parameters:\n2983: \n2984: $$\n2985: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\varepsilon_{\\mathrm{std}}} \\right)^2\n2986: $$\n2987: \n2988: This universal bound on standardized vector norms is applied in {prf:ref}`02_euclidean_gas` for bounding the magnitude of standardized reward and distance scores in error analysis.\n2989: :::\n2990: :::{prf:proof}\n2991: :label: proof-thm-z-score-norm-bound\n2992: **Proof.**\n2993: The proof proceeds by first establishing a uniform bound on the magnitude of any single component of the standardized vector and then summing the squares of these bounds.\n2994: 1.  **Bound a Single Standardized Component:**\n2995:     The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is the sum of its squared components, $\\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2$. We first bound the absolute value of a single component, $|z_i|$.\n2996: \n2997: $$\n2998: |z_i| = \\left| \\frac{v_i - \\mu_{\\mathcal{A}}}{\\sigma'_{\\mathcal{A}}} \\right| = \\frac{|v_i - \\mu_{\\mathcal{A}}|}{|\\sigma'_{\\mathcal{A}}|}\n2999: $$\n3000: \n3001: 2.  **Bound the Numerator and Denominator:**\n3002:     *   **Numerator:** Using the triangle inequality, the numerator is bounded by the sum of the absolute values of its terms: $|v_i - \\mu_{\\mathcal{A}}| \\le |v_i| + |\\mu_{\\mathcal{A}}|$. By the problem's preconditions, the raw values are bounded by $|v_i| \\le V_{\\max}$. For any aggregation operator that is a convex combination of its inputs (such as the empirical mean), the resulting mean $\\mu_{\\mathcal{A}}$ will also be bounded by $V_{\\max}$. We assume this standard property holds, giving $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$. Therefore, the numerator is bounded by:\n3003: \n3004: $$\n3005: |v_i - \\mu_{\\mathcal{A}}| \\le V_{\\max} + V_{\\max} = 2V_{\\max}\n3006: $$\n3007: \n3008: *   **Denominator:** The regularized standard deviation obeys the floor $\\sigma'_{\\mathcal{A}} \\ge \\sigma'_{\\min\\,\\text{bound}}$ because the cubic patch is constant on $[0,\\kappa_{\\text{var,min}}]$ and nondecreasing thereafter. In particular, the denominator is strictly bounded below by this positive constant:\n3009: \n3010: $$\n3011: |\\sigma'_{\\mathcal{A}}| \\ge \\sigma'_{\\min\\,\\text{bound}}\n3012: $$\n3013: \n3014: 3.  **Combine for Component-wise Bound:**\n3015:     Combining the bounds for the numerator and denominator gives a uniform bound for the magnitude of any single standardized score:\n3016: \n3017: $$\n3018: |z_i| \\le \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\n3019: $$\n3020: \n3021: 4.  **Sum Over All Components:**\n3022:     The squared L2-norm is the sum of the squares of these components over the $k$ walkers in the alive set $\\mathcal{A}$.\n3023: \n3024: $$\n3025: \\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2 \\le \\sum_{i \\in \\mathcal{A}} \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-asymptotic-std-dev-structural-continuity",
      "title": null,
      "start_line": 3044,
      "end_line": 3081,
      "header_lines": [
        3045
      ],
      "content_start": 3046,
      "content_end": 3080,
      "content": "3046: $$\n3047: \n3048: Then, for large $k$, the structural Lipschitz function for the standard deviation is governed by this worst-case exponent:\n3049: \n3050: $$\n3051: L_{\\sigma',S}(k) \\propto k^{p_{\\text{worst-case}}}\n3052: $$\n3053: \n3054: :::\n3055: :::{prf:proof}\n3056: :label: proof-thm-asymptotic-std-dev-structural-continuity\n3057: **Proof.**\n3058: The proof proceeds by analyzing the asymptotic form of the bound for the structural Lipschitz constant of the regularized standard deviation, $L_{\\sigma',S}$, which was established in [](#lem-stats-structural-continuity).\n3059: 1.  **Recall the Bound for $L_{\\sigma',S}$:**\n3060:     From [](#lem-stats-structural-continuity), the structural Lipschitz constant is bounded by:\n3061: \n3062: $$\n3063: L_{\\sigma',S}(\\mathcal{S}) \\le \\frac{L_{m_2,S}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S})}{2\\varepsilon_{\\mathrm{std}}}\n3064: $$\n3065: \n3066: 2.  **Analyze the Asymptotic Behavior of the Numerator:**\n3067:     We analyze the behavior of the numerator for a large number of alive walkers, $k = |\\mathcal{A}(\\mathcal{S})|$. By the axiomatic definition of the structural growth exponents ([](#def-swarm-aggregation-operator-axiomatic)), the structural Lipschitz functions have the following asymptotic forms:\n3068:     *   $L_{\\mu,S}(k) \\propto k^{p_{\\mu,S}}$\n3069:     *   $L_{m_2,S}(k) \\propto k^{p_{m_2,S}}$\n3070:     The numerator is therefore a sum of two terms with power-law growth:\n3071: \n3072: $$\n3073: L_{m_2,S}(k) + 2V_{\\max}L_{\\mu,S}(k) \\propto k^{p_{m_2,S}} + C \\cdot k^{p_{\\mu,S}}\n3074: $$\n3075: \n3076: where $C = 2V_{\\max}$ is a constant.\n3077: 3.  **Identify the Dominant Term:**\n3078:     In the limit of large $k$, the behavior of a sum of power-law terms is dominated by the term with the largest exponent. Therefore, the asymptotic behavior of the numerator is proportional to $k$ raised to the power of the maximum of the two exponents.\n3079: \n3080: $$",
      "metadata": {
        "label": "proof-thm-asymptotic-std-dev-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3044: $$\n3045: p_{\\text{worst-case}} := \\max(p_{\\mu,S}, p_{m_2,S})\n3046: $$\n3047: \n3048: Then, for large $k$, the structural Lipschitz function for the standard deviation is governed by this worst-case exponent:\n3049: \n3050: $$\n3051: L_{\\sigma',S}(k) \\propto k^{p_{\\text{worst-case}}}\n3052: $$\n3053: \n3054: :::\n3055: :::{prf:proof}\n3056: :label: proof-thm-asymptotic-std-dev-structural-continuity\n3057: **Proof.**\n3058: The proof proceeds by analyzing the asymptotic form of the bound for the structural Lipschitz constant of the regularized standard deviation, $L_{\\sigma',S}$, which was established in [](#lem-stats-structural-continuity).\n3059: 1.  **Recall the Bound for $L_{\\sigma',S}$:**\n3060:     From [](#lem-stats-structural-continuity), the structural Lipschitz constant is bounded by:\n3061: \n3062: $$\n3063: L_{\\sigma',S}(\\mathcal{S}) \\le \\frac{L_{m_2,S}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S})}{2\\varepsilon_{\\mathrm{std}}}\n3064: $$\n3065: \n3066: 2.  **Analyze the Asymptotic Behavior of the Numerator:**\n3067:     We analyze the behavior of the numerator for a large number of alive walkers, $k = |\\mathcal{A}(\\mathcal{S})|$. By the axiomatic definition of the structural growth exponents ([](#def-swarm-aggregation-operator-axiomatic)), the structural Lipschitz functions have the following asymptotic forms:\n3068:     *   $L_{\\mu,S}(k) \\propto k^{p_{\\mu,S}}$\n3069:     *   $L_{m_2,S}(k) \\propto k^{p_{m_2,S}}$\n3070:     The numerator is therefore a sum of two terms with power-law growth:\n3071: \n3072: $$\n3073: L_{m_2,S}(k) + 2V_{\\max}L_{\\mu,S}(k) \\propto k^{p_{m_2,S}} + C \\cdot k^{p_{\\mu,S}}\n3074: $$\n3075: \n3076: where $C = 2V_{\\max}$ is a constant.\n3077: 3.  **Identify the Dominant Term:**\n3078:     In the limit of large $k$, the behavior of a sum of power-law terms is dominated by the term with the largest exponent. Therefore, the asymptotic behavior of the numerator is proportional to $k$ raised to the power of the maximum of the two exponents.\n3079: \n3080: $$\n3081: \\text{Numerator}(k) \\propto k^{\\max(p_{\\mu,S}, p_{m_2,S})} = k^{p_{\\text{worst-case}}}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-standardization-operator-unified-mean-square-continuity",
      "title": null,
      "start_line": 3099,
      "end_line": 3112,
      "header_lines": [
        3100
      ],
      "content_start": 3101,
      "content_end": 3111,
      "content": "3101: :label: thm-standardization-operator-unified-mean-square-continuity\n3102: Let $S_1$ and $S_2$ be two swarm states. Let the standardization operator $z$ use a raw value operator $V$ and a swarm aggregation operator $M$. Let $z_1 = z(S_1, V, M)$ and $z_2 = z(S_2, V, M)$ be the corresponding standardized vectors resulting from the full stochastic process.\n3103: The expected squared Euclidean distance between the output vectors $z_1$ and $z_2$ is bounded by the sum of two fundamental error components:\n3104: \n3105: $$\n3106: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\le 2 \\cdot E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 2 \\cdot E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3107: $$\n3108: \n3109: where the error components are formally defined in the following sections.\n3110: :::{prf:proof}\n3111: :label: proof-thm-standardization-operator-unified-mean-square-continuity",
      "metadata": {
        "label": "proof-thm-standardization-operator-unified-mean-square-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3099: By bounding the expectation of these two components separately, we establish a unified and robust mean-square continuity bound for the entire operator.\n3100: #### 11.2.1. Theorem: Decomposition of Mean-Square Standardization Error\n3101: :label: thm-standardization-operator-unified-mean-square-continuity\n3102: Let $S_1$ and $S_2$ be two swarm states. Let the standardization operator $z$ use a raw value operator $V$ and a swarm aggregation operator $M$. Let $z_1 = z(S_1, V, M)$ and $z_2 = z(S_2, V, M)$ be the corresponding standardized vectors resulting from the full stochastic process.\n3103: The expected squared Euclidean distance between the output vectors $z_1$ and $z_2$ is bounded by the sum of two fundamental error components:\n3104: \n3105: $$\n3106: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\le 2 \\cdot E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 2 \\cdot E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3107: $$\n3108: \n3109: where the error components are formally defined in the following sections.\n3110: :::{prf:proof}\n3111: :label: proof-thm-standardization-operator-unified-mean-square-continuity\n3112: **Proof.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-3101",
      "title": null,
      "start_line": 3184,
      "end_line": 3210,
      "header_lines": [
        3185
      ],
      "content_start": 3186,
      "content_end": 3209,
      "content": "3186: \\Delta_{\\text{fluc}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3187: $$\n3188: \n3189: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3190: \n3191: $$\n3192: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3193: $$\n3194: \n3195: :::{prf:proof}\n3196: :label: proof-line-3101\n3197: **Proof.**\n3198: The proof of the decomposition is a direct algebraic manipulation.\n3199: 1.  **Start with the Definition of the Error.**\n3200:     The total error is $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2 = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}$.\n3201: 2.  **Decomposition.**\n3202:     We add and subtract terms to isolate the desired components.\n3203: \n3204: $$\n3205: \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3206: $$\n3207: \n3208: $$\n3209: = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)",
      "metadata": {
        "label": "proof-line-3101"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3184: \n3185: $$\n3186: \\Delta_{\\text{fluc}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3187: $$\n3188: \n3189: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3190: \n3191: $$\n3192: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3193: $$\n3194: \n3195: :::{prf:proof}\n3196: :label: proof-line-3101\n3197: **Proof.**\n3198: The proof of the decomposition is a direct algebraic manipulation.\n3199: 1.  **Start with the Definition of the Error.**\n3200:     The total error is $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2 = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}$.\n3201: 2.  **Decomposition.**\n3202:     We add and subtract terms to isolate the desired components.\n3203: \n3204: $$\n3205: \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3206: $$\n3207: \n3208: $$\n3209: = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3210: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-direct-value-shift-bound",
      "title": null,
      "start_line": 3220,
      "end_line": 3225,
      "header_lines": [
        3221
      ],
      "content_start": 3222,
      "content_end": 3224,
      "content": "3222: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3223: :label: lem-sub-direct-value-shift-bound\n3224: Let $\\mathcal{S}$ be a fixed swarm state. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors for the alive set. The squared Euclidean norm of the direct shift error component, $\\Delta_{\\text{direct}} = (\\mathbf{v}_1 - \\mathbf{v}_2) / \\sigma'_1$, is bounded as follows:",
      "metadata": {
        "label": "proof-lem-sub-direct-value-shift-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3220: **Q.E.D.**\n3221: :::\n3222: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3223: :label: lem-sub-direct-value-shift-bound\n3224: Let $\\mathcal{S}$ be a fixed swarm state. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors for the alive set. The squared Euclidean norm of the direct shift error component, $\\Delta_{\\text{direct}} = (\\mathbf{v}_1 - \\mathbf{v}_2) / \\sigma'_1$, is bounded as follows:\n3225: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-mean-shift-bound",
      "title": null,
      "start_line": 3235,
      "end_line": 3240,
      "header_lines": [
        3236
      ],
      "content_start": 3237,
      "content_end": 3239,
      "content": "3237: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3238: :label: lem-sub-mean-shift-bound\n3239: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors. The squared Euclidean norm of the mean shift error component, $\\Delta_{\\text{mean}} = ((\\mu_2 - \\mu_1) / \\sigma'_1) \\cdot \\mathbf{1}$, is bounded as follows:",
      "metadata": {
        "label": "proof-lem-sub-mean-shift-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3235: **Q.E.D.**\n3236: :::\n3237: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3238: :label: lem-sub-mean-shift-bound\n3239: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors. The squared Euclidean norm of the mean shift error component, $\\Delta_{\\text{mean}} = ((\\mu_2 - \\mu_1) / \\sigma'_1) \\cdot \\mathbf{1}$, is bounded as follows:\n3240: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-statistical-fluctuation-bound",
      "title": null,
      "start_line": 3250,
      "end_line": 3259,
      "header_lines": [
        3251
      ],
      "content_start": 3252,
      "content_end": 3258,
      "content": "3252: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3253: :label: lem-sub-statistical-fluctuation-bound\n3254: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors with components bounded by $V_{\\max}$. The squared Euclidean norm of the statistical fluctuation error component, $\\Delta_{\\text{fluc}} = \\mathbf{z}_2 \\cdot ((\\sigma'_2 - \\sigma'_1) / \\sigma'_1)$, is bounded as follows:\n3255: \n3256: $$\n3257: \\|\\Delta_{\\text{fluc}}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3258: $$",
      "metadata": {
        "label": "proof-lem-sub-statistical-fluctuation-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3250: **Q.E.D.**\n3251: :::\n3252: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3253: :label: lem-sub-statistical-fluctuation-bound\n3254: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors with components bounded by $V_{\\max}$. The squared Euclidean norm of the statistical fluctuation error component, $\\Delta_{\\text{fluc}} = \\mathbf{z}_2 \\cdot ((\\sigma'_2 - \\sigma'_1) / \\sigma'_1)$, is bounded as follows:\n3255: \n3256: $$\n3257: \\|\\Delta_{\\text{fluc}}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3258: $$\n3259: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-thm-standardization-value-error-mean-square",
      "title": "of {prf:ref}`thm-standardization-value-error-mean-square`",
      "start_line": 3294,
      "end_line": 3304,
      "header_lines": [
        3295
      ],
      "content_start": 3296,
      "content_end": 3303,
      "content": "3296: \n3297: $$\n3298: C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3299: $$\n3300: \n3301: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively.\n3302: :::\n3303: ##### 11.2.2.6. Proof of Theorem 11.2.2",
      "metadata": {
        "label": "proof-proof-thm-standardization-value-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3294: \n3295: 4.  **The Total Value Error Coefficient ($C_V,total(S)$):** The composite coefficient that bounds the total squared error.\n3296: \n3297: $$\n3298: C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3299: $$\n3300: \n3301: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively.\n3302: :::\n3303: ##### 11.2.2.6. Proof of Theorem 11.2.2\n3304: :label: proof-thm-standardization-value-error-mean-square",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-thm-standardization-value-error-mean-square-2",
      "title": null,
      "start_line": 3305,
      "end_line": 3332,
      "header_lines": [
        3306
      ],
      "content_start": 3307,
      "content_end": 3331,
      "content": "3307: Let $S_1$ be a fixed swarm state. Let $V$ be a raw value operator that is mean-square continuous, such that $\\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2] \\le F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ for some deterministic bounding function $F_{V,ms}$.\n3308: The expected squared value error is bounded as follows:\n3309: \n3310: $$\n3311: E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n3312: $$\n3313: \n3314: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient** from [](#def-lipschitz-value-error-coefficients).\n3315: :::\n3316: :::{prf:proof}\n3317: :label: proof-proof-thm-standardization-value-error-mean-square-2\n3318: **Proof.**\n3319: 1.  **Start with the Decomposed Error Bound.**\n3320:     From [](#sub-lem-value-error-decomposition), we have a deterministic bound on the squared error for any specific realization of $v_1$ and $v_2$:\n3321: \n3322: $$\n3323: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3324: $$\n3325: \n3326: 2.  **Substitute Deterministic Component Bounds.**\n3327:     We substitute the deterministic bounds for each component from the preceding sub-lemmas, which all relate the component error to $\\|v_1 - v_2\\|_2^2$. Factoring out this term and using the definitions from [](#def-lipschitz-value-error-coefficients) gives:\n3328: \n3329: $$\n3330: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3331: $$",
      "metadata": {
        "label": "proof-proof-thm-standardization-value-error-mean-square-2"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3305: :::{prf:proof} of {prf:ref}`thm-standardization-value-error-mean-square`\n3306: :label: proof-proof-thm-standardization-value-error-mean-square\n3307: Let $S_1$ be a fixed swarm state. Let $V$ be a raw value operator that is mean-square continuous, such that $\\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2] \\le F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ for some deterministic bounding function $F_{V,ms}$.\n3308: The expected squared value error is bounded as follows:\n3309: \n3310: $$\n3311: E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n3312: $$\n3313: \n3314: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient** from [](#def-lipschitz-value-error-coefficients).\n3315: :::\n3316: :::{prf:proof}\n3317: :label: proof-proof-thm-standardization-value-error-mean-square-2\n3318: **Proof.**\n3319: 1.  **Start with the Decomposed Error Bound.**\n3320:     From [](#sub-lem-value-error-decomposition), we have a deterministic bound on the squared error for any specific realization of $v_1$ and $v_2$:\n3321: \n3322: $$\n3323: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3324: $$\n3325: \n3326: 2.  **Substitute Deterministic Component Bounds.**\n3327:     We substitute the deterministic bounds for each component from the preceding sub-lemmas, which all relate the component error to $\\|v_1 - v_2\\|_2^2$. Factoring out this term and using the definitions from [](#def-lipschitz-value-error-coefficients) gives:\n3328: \n3329: $$\n3330: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3331: $$\n3332: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-structural-error-decomposition",
      "title": null,
      "start_line": 3358,
      "end_line": 3363,
      "header_lines": [
        3359
      ],
      "content_start": 3360,
      "content_end": 3362,
      "content": "3360: The total structural error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of two orthogonal components, and its squared norm is the sum of the squared norms of the components:\n3361: \n3362: $$",
      "metadata": {
        "label": "proof-lem-sub-structural-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3358: :label: lem-sub-structural-error-decomposition\n3359: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states with alive sets $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let $\\mathbf{z}_1 = \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v})$ and $\\mathbf{z}_2 = \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v})$ be the corresponding N-dimensional standardized vectors.\n3360: The total structural error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of two orthogonal components, and its squared norm is the sum of the squared norms of the components:\n3361: \n3362: $$\n3363: \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-direct-structural-error",
      "title": null,
      "start_line": 3372,
      "end_line": 3377,
      "header_lines": [
        3373
      ],
      "content_start": 3374,
      "content_end": 3376,
      "content": "3374: :::\n3375: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3376: :label: lem-sub-direct-structural-error",
      "metadata": {
        "label": "proof-lem-sub-direct-structural-error"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3372: The proof follows from partitioning the sum of squared errors over the N walker indices into a sum over walkers whose status changes and a sum over walkers whose status is stable. These two sets of indices are disjoint. The two corresponding error vectors therefore have disjoint support, are orthogonal, and the squared norm of their sum is the sum of their squared norms.\n3373: **Q.E.D.**\n3374: :::\n3375: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3376: :label: lem-sub-direct-structural-error\n3377: Let $\\mathbf{v}$ be a fixed raw value vector with components bounded by $V_{\\max}$. The squared Euclidean norm of the direct structural error component, $\\|\\Delta_{\\text{direct}}\\|^2$, is bounded by the number of status changes $n_c$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-indirect-structural-error",
      "title": null,
      "start_line": 3387,
      "end_line": 3398,
      "header_lines": [
        3388
      ],
      "content_start": 3389,
      "content_end": 3397,
      "content": "3389: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3390: :label: lem-sub-indirect-structural-error\n3391: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The squared Euclidean norm of the indirect structural error component, $\\|\\Delta_{\\text{indirect}}\\|^2$, is bounded as follows:\n3392: \n3393: $$\n3394: \\|\\Delta_{\\text{indirect}}\\|_2^2 \\le C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3395: $$\n3396: \n3397: where $C_{S,indirect}$ is the **Total Indirect Structural Error Coefficient**.",
      "metadata": {
        "label": "proof-lem-sub-indirect-structural-error"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3387: **Q.E.D.**\n3388: :::\n3389: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3390: :label: lem-sub-indirect-structural-error\n3391: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The squared Euclidean norm of the indirect structural error component, $\\|\\Delta_{\\text{indirect}}\\|^2$, is bounded as follows:\n3392: \n3393: $$\n3394: \\|\\Delta_{\\text{indirect}}\\|_2^2 \\le C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3395: $$\n3396: \n3397: where $C_{S,indirect}$ is the **Total Indirect Structural Error Coefficient**.\n3398: :::{prf:proof}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-deterministic-error-decomposition",
      "title": null,
      "start_line": 3485,
      "end_line": 3498,
      "header_lines": [
        3486
      ],
      "content_start": 3487,
      "content_end": 3497,
      "content": "3487:     $$\n3488: 2.  **The Squared Structural Error ($E_S^2$):** The deterministic squared error arising from the change in the swarm's structure (from $S_1$ to $S_2$) while using the fixed raw value vector $v_2$.\n3489: $$\n3490: \n3491:     E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2\n3492: \n3493: \n3494: $$\n3495: :::\n3496: :::{prf:proof}\n3497: :label: proof-thm-deterministic-error-decomposition",
      "metadata": {
        "label": "proof-thm-deterministic-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3485: $$\n3486:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_1, M) - \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) \\|_2^2\n3487:     $$\n3488: 2.  **The Squared Structural Error ($E_S^2$):** The deterministic squared error arising from the change in the swarm's structure (from $S_1$ to $S_2$) while using the fixed raw value vector $v_2$.\n3489: $$\n3490: \n3491:     E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2\n3492: \n3493: \n3494: $$\n3495: :::\n3496: :::{prf:proof}\n3497: :label: proof-thm-deterministic-error-decomposition\n3498: **Proof.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-3447",
      "title": null,
      "start_line": 3540,
      "end_line": 3568,
      "header_lines": [
        3541
      ],
      "content_start": 3542,
      "content_end": 3567,
      "content": "3542: \n3543: $$\n3544: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3545: $$\n3546: \n3547: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{denom}}\\|_2^2 \\right)\n3548: \n3549: $$\n3550: :::\n3551: :::{prf:proof}\n3552: :label: proof-line-3447\n3553: **Proof.**\n3554: The proof of the decomposition is a direct algebraic manipulation.\n3555: 1.  **Start with the Definition of the Error.**\n3556:     The total error is $\\Deltaz = z_1 - z_2 = (v_1 - \\mu_1) / \\sigma'_1 - (v_2 - \\mu_2) / \\sigma'_2$.\n3557: 2.  **Decomposition.**\n3558:     We add and subtract terms to isolate the desired components.\n3559: $$\n3560: \n3561:     \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3562: \n3563: \n3564: $$\n3565: $$\n3566:     = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3567:     $$",
      "metadata": {
        "label": "proof-line-3447"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3540:     \\Delta_{\\text{denom}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3541: \n3542: \n3543: $$\n3544: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3545: $$\n3546: \n3547: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{denom}}\\|_2^2 \\right)\n3548: \n3549: $$\n3550: :::\n3551: :::{prf:proof}\n3552: :label: proof-line-3447\n3553: **Proof.**\n3554: The proof of the decomposition is a direct algebraic manipulation.\n3555: 1.  **Start with the Definition of the Error.**\n3556:     The total error is $\\Deltaz = z_1 - z_2 = (v_1 - \\mu_1) / \\sigma'_1 - (v_2 - \\mu_2) / \\sigma'_2$.\n3557: 2.  **Decomposition.**\n3558:     We add and subtract terms to isolate the desired components.\n3559: $$\n3560: \n3561:     \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3562: \n3563: \n3564: $$\n3565: $$\n3566:     = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3567:     $$\n3568: The final term can be rewritten by factoring out $(v_2 - \\mu_2)$:",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-lipschitz-value-error-bound",
      "title": null,
      "start_line": 3581,
      "end_line": 3610,
      "header_lines": [
        3582
      ],
      "content_start": 3583,
      "content_end": 3609,
      "content": "3583: :label: thm-lipschitz-value-error-bound\n3584: Let **S** be a fixed swarm state. Let $v_1$ and $v_2$ be two raw value vectors. The squared value error, $E_V^2(S; v_1, v_2) = \\|z(S, v_1, M) - z(S, v_2, M)\\|_2^2$, is deterministically bounded as follows:\n3585: $$\n3586: \n3587: E_{V}^2(\\mathcal{S}; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3588: \n3589: $$\n3590: where $C_{V,total}(S)$ is the **Total Value Error Coefficient**, a deterministic, finite constant that depends on the state **S** but not on the raw value vectors, as formally defined in the subsequent section.\n3591: :::\n3592: :::{prf:proof}\n3593: :label: proof-thm-lipschitz-value-error-bound\n3594: **Proof.**\n3595: The proof proceeds by bounding the squared L2-norm of each of the three components from the algebraic decomposition in [](#sub-lem-lipschitz-value-error-decomposition) and then summing them.\n3596: 1.  **Bound the Direct Shift Component ($\\Delta_{\\text{direct}}$):**\n3597:     The squared norm is $\\|(v_1 - v_2) / \\sigma'_1\\|_2^2 = (1/(\\sigma'_1)^2)\\|v_1 - v_2\\|_2^2$. From the definition of the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)), the denominator $\\sigma'_1$ is always bounded below by $\\sigma'_{\\min\\,\\text{bound}}$. Therefore, $1/(\\sigma'_1)^2 \\le 1/\\sigma'^2_{\\min\\,\\text{bound}}$. This gives:\n3598: $$\n3599: \n3600:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3601: \n3602: \n3603: $$\n3604: 2.  **Bound the Mean Shift Component ($\\Delta_mean$):**\n3605:     The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. Using the axiomatic value continuity of the mean ($|\\mu_2 - \\mu_1| \\leq L_{\\mu,M}(S) \\|v_1 - v_2\\|_2$), this is bounded by:\n3606: $$\n3607: \n3608:     \\|\\Delta_{\\text{mean}}\\|_2^2 \\le \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3609: ",
      "metadata": {
        "label": "proof-thm-lipschitz-value-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3581: With the algebraic decomposition in place, we can now establish a deterministic bound for the Squared Value Error, $E_V^2$, in terms of the squared norm of the raw value difference. This theorem demonstrates that the standardization operator is Lipschitz continuous with respect to its raw value vector input for a fixed swarm structure.\n3582: :::{prf:theorem} Bounding the Squared Value Error\n3583: :label: thm-lipschitz-value-error-bound\n3584: Let **S** be a fixed swarm state. Let $v_1$ and $v_2$ be two raw value vectors. The squared value error, $E_V^2(S; v_1, v_2) = \\|z(S, v_1, M) - z(S, v_2, M)\\|_2^2$, is deterministically bounded as follows:\n3585: $$\n3586: \n3587: E_{V}^2(\\mathcal{S}; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3588: \n3589: $$\n3590: where $C_{V,total}(S)$ is the **Total Value Error Coefficient**, a deterministic, finite constant that depends on the state **S** but not on the raw value vectors, as formally defined in the subsequent section.\n3591: :::\n3592: :::{prf:proof}\n3593: :label: proof-thm-lipschitz-value-error-bound\n3594: **Proof.**\n3595: The proof proceeds by bounding the squared L2-norm of each of the three components from the algebraic decomposition in [](#sub-lem-lipschitz-value-error-decomposition) and then summing them.\n3596: 1.  **Bound the Direct Shift Component ($\\Delta_{\\text{direct}}$):**\n3597:     The squared norm is $\\|(v_1 - v_2) / \\sigma'_1\\|_2^2 = (1/(\\sigma'_1)^2)\\|v_1 - v_2\\|_2^2$. From the definition of the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)), the denominator $\\sigma'_1$ is always bounded below by $\\sigma'_{\\min\\,\\text{bound}}$. Therefore, $1/(\\sigma'_1)^2 \\le 1/\\sigma'^2_{\\min\\,\\text{bound}}$. This gives:\n3598: $$\n3599: \n3600:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3601: \n3602: \n3603: $$\n3604: 2.  **Bound the Mean Shift Component ($\\Delta_mean$):**\n3605:     The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. Using the axiomatic value continuity of the mean ($|\\mu_2 - \\mu_1| \\leq L_{\\mu,M}(S) \\|v_1 - v_2\\|_2$), this is bounded by:\n3606: $$\n3607: \n3608:     \\|\\Delta_{\\text{mean}}\\|_2^2 \\le \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3609: \n3610: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-lipschitz-structural-error-bound",
      "title": null,
      "start_line": 3664,
      "end_line": 3693,
      "header_lines": [
        3665
      ],
      "content_start": 3666,
      "content_end": 3692,
      "content": "3666: :label: thm-lipschitz-structural-error-bound\n3667: Let **v** be a fixed raw value vector. Let $S_1$ and $S_2$ be two swarm states. The squared structural error, $E_S^2(S_1, S_2; v) = \\|z(S_1, v, M) - z(S_2, v, M)\\|_2^2$, is deterministically bounded as follows:\n3668: $$\n3669: \n3670: E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}) \\le C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3671: \n3672: $$\n3673: where $C_{S,direct}$ and $C_{S,indirect}(S_1, S_2)$ are the **Structural Error Coefficients**, which are deterministic, finite coefficients formally defined in the subsequent section. The presence of the $n_c^2$ term confirms that the error is not linearly proportional to the number of status changes.\n3674: :::\n3675: :::{prf:proof}\n3676: :label: proof-thm-lipschitz-structural-error-bound\n3677: **Proof.**\n3678: The proof proceeds by decomposing the total structural error vector $\\Deltaz = z(S_1, v) - z(S_2, v)$ into two orthogonal components: a \"direct\" error from walkers whose status changes, and an \"indirect\" error affecting walkers whose status is stable.\n3679: 1.  **Decomposition of Structural Error:** The N-dimensional error vector $\\Deltaz$ is partitioned based on walker indices. The squared norm is the sum of the squared norms over these disjoint sets:\n3680: $$\n3681: \n3682:     \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2\n3683: \n3684: \n3685: $$\n3686: *   $\\Delta_{\\text{direct}}$ has non-zero components only for indices **i** where $s_{1,i} ≠ s_{2,i}$.\n3687:     *   $\\Delta_{\\text{indirect}}$ has non-zero components only for indices **i** where $s_{1,i} = s_{2,i} = 1$.\n3688: 2.  **Bound the Direct Error Component ($\\Delta_{\\text{direct}}$):**\n3689:     This component has $n_c$ non-zero terms. For each such term **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero. The other is a valid Z-score, whose magnitude is bounded by $|z_j| \\leq 2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}}$. The squared error for this component is thus bounded by $(2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}})^2$. Summing over all $n_c$ unstable walkers gives a bound that is linear in $n_c$:\n3690: $$\n3691: \n3692:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 n_c(\\mathcal{S}_1, \\mathcal{S}_2)",
      "metadata": {
        "label": "proof-thm-lipschitz-structural-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3664: We now turn to bounding the Squared Structural Error, $E_S^2$, which arises from the change in the swarm's structure (the set of alive walkers) for a fixed raw value vector. This theorem demonstrates that the standardization operator's continuity with respect to structural changes is not strictly Lipschitz, but has a non-linear, Hölder-type component.\n3665: :::{prf:theorem} Bounding the Squared Structural Error\n3666: :label: thm-lipschitz-structural-error-bound\n3667: Let **v** be a fixed raw value vector. Let $S_1$ and $S_2$ be two swarm states. The squared structural error, $E_S^2(S_1, S_2; v) = \\|z(S_1, v, M) - z(S_2, v, M)\\|_2^2$, is deterministically bounded as follows:\n3668: $$\n3669: \n3670: E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}) \\le C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3671: \n3672: $$\n3673: where $C_{S,direct}$ and $C_{S,indirect}(S_1, S_2)$ are the **Structural Error Coefficients**, which are deterministic, finite coefficients formally defined in the subsequent section. The presence of the $n_c^2$ term confirms that the error is not linearly proportional to the number of status changes.\n3674: :::\n3675: :::{prf:proof}\n3676: :label: proof-thm-lipschitz-structural-error-bound\n3677: **Proof.**\n3678: The proof proceeds by decomposing the total structural error vector $\\Deltaz = z(S_1, v) - z(S_2, v)$ into two orthogonal components: a \"direct\" error from walkers whose status changes, and an \"indirect\" error affecting walkers whose status is stable.\n3679: 1.  **Decomposition of Structural Error:** The N-dimensional error vector $\\Deltaz$ is partitioned based on walker indices. The squared norm is the sum of the squared norms over these disjoint sets:\n3680: $$\n3681: \n3682:     \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2\n3683: \n3684: \n3685: $$\n3686: *   $\\Delta_{\\text{direct}}$ has non-zero components only for indices **i** where $s_{1,i} ≠ s_{2,i}$.\n3687:     *   $\\Delta_{\\text{indirect}}$ has non-zero components only for indices **i** where $s_{1,i} = s_{2,i} = 1$.\n3688: 2.  **Bound the Direct Error Component ($\\Delta_{\\text{direct}}$):**\n3689:     This component has $n_c$ non-zero terms. For each such term **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero. The other is a valid Z-score, whose magnitude is bounded by $|z_j| \\leq 2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}}$. The squared error for this component is thus bounded by $(2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}})^2$. Summing over all $n_c$ unstable walkers gives a bound that is linear in $n_c$:\n3690: $$\n3691: \n3692:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n3693: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-global-continuity-patched-standardization",
      "title": null,
      "start_line": 3734,
      "end_line": 3761,
      "header_lines": [
        3735
      ],
      "content_start": 3736,
      "content_end": 3760,
      "content": "3736: Let $z(\\mathcal{S}, v, M)$ be the N-Dimensional Standardization Operator using the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, and let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two corresponding N-dimensional raw value vectors.\n3737: The squared Euclidean error between the output standardized vectors, $\\|z(\\mathcal{S}_1, \\mathbf{v}_1, M) - z(\\mathcal{S}_2, \\mathbf{v}_2, M)\\|_2^2$, is deterministically bounded by a function of the swarm displacement and the raw value difference:\n3738: $$\n3739: \n3740: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2 + 2 C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + 2 C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3741: \n3742: $$\n3743: where $C_{V,\\text{total}}$, $C_{S,\\text{direct}}$, and $C_{S,\\text{indirect}}$ are the finite, deterministic coefficients defined in [](#def-lipschitz-value-error-coefficients) and [](#def-lipschitz-structural-error-coefficients).\n3744: :::\n3745: :::{prf:proof}\n3746: :label: proof-thm-global-continuity-patched-standardization\n3747: **Proof.**\n3748: The proof is a direct assembly of the bounds derived in the preceding theorems of this section.\n3749: 1.  **Decomposition of Total Error:** From [](#thm-deterministic-error-decomposition), the total squared error is bounded by the sum of the squared value error and the squared structural error:\n3750: $$\n3751: \n3752:     \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3753: \n3754: \n3755: $$\n3756: 2.  **Substitute the Value Error Bound:** From [](#thm-lipschitz-value-error-bound), the squared value error is bounded by:\n3757: $$\n3758: \n3759:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3760: ",
      "metadata": {
        "label": "proof-thm-global-continuity-patched-standardization"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3734: :::{prf:theorem} Global Continuity of the Patched Standardization Operator\n3735: :label: thm-global-continuity-patched-standardization\n3736: Let $z(\\mathcal{S}, v, M)$ be the N-Dimensional Standardization Operator using the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, and let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two corresponding N-dimensional raw value vectors.\n3737: The squared Euclidean error between the output standardized vectors, $\\|z(\\mathcal{S}_1, \\mathbf{v}_1, M) - z(\\mathcal{S}_2, \\mathbf{v}_2, M)\\|_2^2$, is deterministically bounded by a function of the swarm displacement and the raw value difference:\n3738: $$\n3739: \n3740: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2 + 2 C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + 2 C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3741: \n3742: $$\n3743: where $C_{V,\\text{total}}$, $C_{S,\\text{direct}}$, and $C_{S,\\text{indirect}}$ are the finite, deterministic coefficients defined in [](#def-lipschitz-value-error-coefficients) and [](#def-lipschitz-structural-error-coefficients).\n3744: :::\n3745: :::{prf:proof}\n3746: :label: proof-thm-global-continuity-patched-standardization\n3747: **Proof.**\n3748: The proof is a direct assembly of the bounds derived in the preceding theorems of this section.\n3749: 1.  **Decomposition of Total Error:** From [](#thm-deterministic-error-decomposition), the total squared error is bounded by the sum of the squared value error and the squared structural error:\n3750: $$\n3751: \n3752:     \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3753: \n3754: \n3755: $$\n3756: 2.  **Substitute the Value Error Bound:** From [](#thm-lipschitz-value-error-bound), the squared value error is bounded by:\n3757: $$\n3758: \n3759:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3760: \n3761: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-potential-boundedness",
      "title": null,
      "start_line": 3822,
      "end_line": 3836,
      "header_lines": [
        3823
      ],
      "content_start": 3824,
      "content_end": 3835,
      "content": "3824: $$\n3825: \n3826: 0 < V_{\\text{pot,min}} \\le V_i \\le V_{\\text{pot,max}} < \\infty\n3827: \n3828: $$\n3829: where the bounds are defined in terms of the global algorithmic parameters:\n3830: *   $V_{\\text{pot,min}} := \\eta^{\\alpha+\\beta}$\n3831: *   $V_{\\text{pot,max}} := (g_{A,\\max} + \\eta)^{\\alpha+\\beta}$\n3832: *   $g_{A,\\max} := \\log(1 + z_{\\max}) + 1$\n3833: :::{prf:proof}\n3834: :label: proof-lem-potential-boundedness\n3835: **Proof.**",
      "metadata": {
        "label": "proof-lem-potential-boundedness"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3822: :label: lem-potential-boundedness\n3823: For any alive walker $i$, its fitness potential $V_i$ is strictly positive and uniformly bounded. That is, there exist finite, state-independent constants $V_{\\text{pot,min}}$ and $V_{\\text{pot,max}}$ such that:\n3824: $$\n3825: \n3826: 0 < V_{\\text{pot,min}} \\le V_i \\le V_{\\text{pot,max}} < \\infty\n3827: \n3828: $$\n3829: where the bounds are defined in terms of the global algorithmic parameters:\n3830: *   $V_{\\text{pot,min}} := \\eta^{\\alpha+\\beta}$\n3831: *   $V_{\\text{pot,max}} := (g_{A,\\max} + \\eta)^{\\alpha+\\beta}$\n3832: *   $g_{A,\\max} := \\log(1 + z_{\\max}) + 1$\n3833: :::{prf:proof}\n3834: :label: proof-lem-potential-boundedness\n3835: **Proof.**\n3836: The proof follows from the definition of the potential function and the properties of the rescale function.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-component-potential-lipschitz",
      "title": null,
      "start_line": 3846,
      "end_line": 3867,
      "header_lines": [
        3847
      ],
      "content_start": 3848,
      "content_end": 3866,
      "content": "3848: #### 12.2.2. Lemma: Lipschitz Continuity of the Fitness Potential Function\n3849: :label: lem-component-potential-lipschitz\n3850: Let the component-wise potential function be defined as $F(z_r, z_d) := (g_A(z_d) + \\eta)^{\\beta} \\cdot (g_A(z_r) + \\eta)^{\\alpha}$. This function is Lipschitz continuous with respect to its Z-score inputs. For any two pairs of Z-scores $(z_{r1}, z_{d1})$ and $(z_{r2}, z_{d2})$:\n3851: $$\n3852: \n3853: |F(z_{r1}, z_{d1}) - F(z_{r2}, z_{d2})| \\le L_{F,r}|z_{r1} - z_{r2}| + L_{F,d}|z_{d1} - z_{d2}|\n3854: \n3855: $$\n3856: where the Lipschitz constants $L_{F,r}$ and $L_{F,d}$ are finite, state-independent constants.\n3857: :::{prf:proof}\n3858: :label: proof-lem-component-potential-lipschitz\n3859: **Proof.**\n3860: The proof proceeds by bounding the partial derivatives of $F$ with respect to its inputs, $z_r$ and $z_d$.\n3861: 1.  **Partial Derivative with respect to $z_r$:**\n3862: $$\n3863: \n3864: \\frac{\\partial F}{\\partial z_r} = (g_A(z_d) + \\eta)^{\\beta} \\cdot \\left[ \\alpha (g_A(z_r) + \\eta)^{\\alpha-1} \\cdot g'_A(z_r) \\right]\n3865: \n3866: $$",
      "metadata": {
        "label": "proof-lem-component-potential-lipschitz"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3846: **Q.E.D.**\n3847: :::\n3848: #### 12.2.2. Lemma: Lipschitz Continuity of the Fitness Potential Function\n3849: :label: lem-component-potential-lipschitz\n3850: Let the component-wise potential function be defined as $F(z_r, z_d) := (g_A(z_d) + \\eta)^{\\beta} \\cdot (g_A(z_r) + \\eta)^{\\alpha}$. This function is Lipschitz continuous with respect to its Z-score inputs. For any two pairs of Z-scores $(z_{r1}, z_{d1})$ and $(z_{r2}, z_{d2})$:\n3851: $$\n3852: \n3853: |F(z_{r1}, z_{d1}) - F(z_{r2}, z_{d2})| \\le L_{F,r}|z_{r1} - z_{r2}| + L_{F,d}|z_{d1} - z_{d2}|\n3854: \n3855: $$\n3856: where the Lipschitz constants $L_{F,r}$ and $L_{F,d}$ are finite, state-independent constants.\n3857: :::{prf:proof}\n3858: :label: proof-lem-component-potential-lipschitz\n3859: **Proof.**\n3860: The proof proceeds by bounding the partial derivatives of $F$ with respect to its inputs, $z_r$ and $z_d$.\n3861: 1.  **Partial Derivative with respect to $z_r$:**\n3862: $$\n3863: \n3864: \\frac{\\partial F}{\\partial z_r} = (g_A(z_d) + \\eta)^{\\beta} \\cdot \\left[ \\alpha (g_A(z_r) + \\eta)^{\\alpha-1} \\cdot g'_A(z_r) \\right]\n3865: \n3866: $$\n3867: We bound the absolute value of each term in this product:",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-fitness-potential-mean-square-continuity",
      "title": null,
      "start_line": 3886,
      "end_line": 3897,
      "header_lines": [
        3887
      ],
      "content_start": 3888,
      "content_end": 3896,
      "content": "3888: where the **Expected Squared Potential Error Bound**, $F_{\\text{pot}}$, is defined as:\n3889: $$\n3890: \n3891: \\boxed{\n3892: F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2) := E_{\\text{unstable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{stable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3893: }\n3894: \n3895: $$\n3896: and the two error components are the expected squared errors from the unstable and stable sets of walkers, respectively.",
      "metadata": {
        "label": "proof-thm-fitness-potential-mean-square-continuity"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3886: \n3887: $$\n3888: where the **Expected Squared Potential Error Bound**, $F_{\\text{pot}}$, is defined as:\n3889: $$\n3890: \n3891: \\boxed{\n3892: F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2) := E_{\\text{unstable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{stable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3893: }\n3894: \n3895: $$\n3896: and the two error components are the expected squared errors from the unstable and stable sets of walkers, respectively.\n3897: :::{prf:proof}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-potential-unstable-error-mean-square",
      "title": null,
      "start_line": 3910,
      "end_line": 3916,
      "header_lines": [
        3911
      ],
      "content_start": 3912,
      "content_end": 3915,
      "content": "3912: \n3913: The expected squared error component from walkers changing their survival status is bounded deterministically by the number of status changes.\n3914: \n3915: $$",
      "metadata": {
        "label": "proof-lem-sub-potential-unstable-error-mean-square"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3910: :::{prf:lemma} Bounding the Expected Error from Unstable Walkers\n3911: :label: lem-sub-potential-unstable-error-mean-square\n3912: \n3913: The expected squared error component from walkers changing their survival status is bounded deterministically by the number of status changes.\n3914: \n3915: $$\n3916: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-potential-stable-error-mean-square",
      "title": null,
      "start_line": 3928,
      "end_line": 3956,
      "header_lines": [
        3929
      ],
      "content_start": 3930,
      "content_end": 3955,
      "content": "3930: The expected squared error component from walkers that remain alive in both states ($\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$), denoted $E^2_{\\text{stable,ms}}$, is bounded in terms of the mean-square continuity of the underlying standardization pipelines.\n3931: $$\n3932: \n3933: E_{\\text{stable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le 2L_{F,r}^2 \\cdot \\mathbb{E}[\\|\\Delta\\mathbf{z}_r\\|_2^2] + 2L_{F,d}^2 \\cdot \\mathbb{E}[\\|\\Delta\\mathbf{z}_d\\|_2^2]\n3934: \n3935: $$\n3936: where:\n3937: *   $L_{F,r}$ and $L_{F,d}$ are the component-wise Lipschitz constants for the potential function from [](#lem-component-potential-lipschitz).\n3938: *   $\\mathbb{E}[\\|\\Delta\\mathbf{z}_r\\|_2^2]$ and $\\mathbb{E}[\\|\\Delta\\mathbf{z}_d\\|_2^2]$ are the total expected squared error bounds for the **reward standardization pipeline** and **distance standardization pipeline**, respectively. These bounds are given by **[](#thm-standardization-operator-unified-mean-square-continuity)**.\n3939: :::{prf:proof}\n3940: :label: proof-lem-sub-potential-stable-error-mean-square\n3941: **Proof.**\n3942: The proof proceeds by applying the Lipschitz continuity of the fitness potential function and then taking the expectation.\n3943: 1.  **Bound the Single-Walker Error:**\n3944:     For any stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, its fitness potential $V_i$ is a function of its reward Z-score $z_{r,i}$ and its distance Z-score $z_{d,i}$. From the Lipschitz continuity of the component-wise potential function ([](#lem-component-potential-lipschitz)) and the inequality $(a+b)^2 \\leq 2a^2 + 2b^2$, we can bound the squared error for this single walker:\n3945: $$\n3946: \n3947: |V_{1,i} - V_{2,i}|^2 \\le \\left(L_{F,r}|\\Delta z_{r,i}| + L_{F,d}|\\Delta z_{d,i}|\\right)^2 \\le 2L_{F,r}^2|\\Delta z_{r,i}|^2 + 2L_{F,d}^2|\\Delta z_{d,i}|^2\n3948: \n3949: $$\n3950: where $\\Delta z_{r,i}$ and $\\Delta z_{d,i}$ are the changes in the $i$-th components of the reward and distance standardized vectors, respectively.\n3951: 2.  **Sum Over All Stable Walkers:**\n3952:     The total squared error for the stable set is the sum of the individual squared errors. The sum over the stable subset is less than or equal to the sum over all $N$ walkers, which is the full squared L2-norm of the error vectors:\n3953: $$\n3954: \n3955: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2 \\le 2L_{F,r}^2 \\|\\Delta\\mathbf{z}_r\\|_2^2 + 2L_{F,d}^2 \\|\\Delta\\mathbf{z}_d\\|_2^2",
      "metadata": {
        "label": "proof-lem-sub-potential-stable-error-mean-square"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3928: #### 12.2.5. Sub-Lemma: Bounding the Expected Error from Stable Walkers\n3929: :label: lem-sub-potential-stable-error-mean-square\n3930: The expected squared error component from walkers that remain alive in both states ($\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$), denoted $E^2_{\\text{stable,ms}}$, is bounded in terms of the mean-square continuity of the underlying standardization pipelines.\n3931: $$\n3932: \n3933: E_{\\text{stable,ms}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le 2L_{F,r}^2 \\cdot \\mathbb{E}[\\|\\Delta\\mathbf{z}_r\\|_2^2] + 2L_{F,d}^2 \\cdot \\mathbb{E}[\\|\\Delta\\mathbf{z}_d\\|_2^2]\n3934: \n3935: $$\n3936: where:\n3937: *   $L_{F,r}$ and $L_{F,d}$ are the component-wise Lipschitz constants for the potential function from [](#lem-component-potential-lipschitz).\n3938: *   $\\mathbb{E}[\\|\\Delta\\mathbf{z}_r\\|_2^2]$ and $\\mathbb{E}[\\|\\Delta\\mathbf{z}_d\\|_2^2]$ are the total expected squared error bounds for the **reward standardization pipeline** and **distance standardization pipeline**, respectively. These bounds are given by **[](#thm-standardization-operator-unified-mean-square-continuity)**.\n3939: :::{prf:proof}\n3940: :label: proof-lem-sub-potential-stable-error-mean-square\n3941: **Proof.**\n3942: The proof proceeds by applying the Lipschitz continuity of the fitness potential function and then taking the expectation.\n3943: 1.  **Bound the Single-Walker Error:**\n3944:     For any stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, its fitness potential $V_i$ is a function of its reward Z-score $z_{r,i}$ and its distance Z-score $z_{d,i}$. From the Lipschitz continuity of the component-wise potential function ([](#lem-component-potential-lipschitz)) and the inequality $(a+b)^2 \\leq 2a^2 + 2b^2$, we can bound the squared error for this single walker:\n3945: $$\n3946: \n3947: |V_{1,i} - V_{2,i}|^2 \\le \\left(L_{F,r}|\\Delta z_{r,i}| + L_{F,d}|\\Delta z_{d,i}|\\right)^2 \\le 2L_{F,r}^2|\\Delta z_{r,i}|^2 + 2L_{F,d}^2|\\Delta z_{d,i}|^2\n3948: \n3949: $$\n3950: where $\\Delta z_{r,i}$ and $\\Delta z_{d,i}$ are the changes in the $i$-th components of the reward and distance standardized vectors, respectively.\n3951: 2.  **Sum Over All Stable Walkers:**\n3952:     The total squared error for the stable set is the sum of the individual squared errors. The sum over the stable subset is less than or equal to the sum over all $N$ walkers, which is the full squared L2-norm of the error vectors:\n3953: $$\n3954: \n3955: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2 \\le 2L_{F,r}^2 \\|\\Delta\\mathbf{z}_r\\|_2^2 + 2L_{F,d}^2 \\|\\Delta\\mathbf{z}_d\\|_2^2\n3956: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-deterministic-potential-continuity",
      "title": null,
      "start_line": 3972,
      "end_line": 4012,
      "header_lines": [
        3973
      ],
      "content_start": 3974,
      "content_end": 4011,
      "content": "3974: The squared Euclidean error between the output potential vectors is deterministically bounded by a function of the swarm displacement and the raw value differences:\n3975: $$\n3976: \n3977: \\|\\mathbf{V}_1 - \\mathbf{V}_2\\|_2^2 \\le F_{\\text{pot,det}}(\\mathcal{S}_1, \\mathcal{S}_2, \\mathbf{v}_{r1}, \\mathbf{v}_{r2}, \\mathbf{v}_{d1}, \\mathbf{v}_{d2})\n3978: \n3979: $$\n3980: where $F_{\\text{pot,det}}$ is a deterministic bounding function that is jointly continuous in its arguments and vanishes as $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\to 0$, $\\|\\mathbf{v}_{r1} - \\mathbf{v}_{r2}\\|_2 \\to 0$, and $\\|\\mathbf{v}_{d1} - \\mathbf{v}_{d2}\\|_2 \\to 0$.\n3981: #### 12.3.2 Proof of Deterministic Continuity for the Fitness Potential Operator\n3982: :label: proof-deterministic-potential-continuity\n3983: :::{prf:proof}\n3984: :label: proof-proof-deterministic-potential-continuity\n3985: **Proof.**\n3986: The proof proceeds by deterministically decomposing the total error and applying the established continuity properties of the constituent operators.\n3987: 1.  **Decomposition of Total Error:** The total squared error is decomposed into contributions from unstable walkers (whose status changes) and stable walkers.\n3988: $$\n3989: \n3990:     \\|\\mathbf{V}_1 - \\mathbf{V}_2\\|_2^2 = \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |V_{1,i} - V_{2,i}|^2 + \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2\n3991: \n3992: \n3993: $$\n3994: 2.  **Bound the Error from Unstable Walkers:**\n3995:     The error from the $n_c$ unstable walkers is bounded deterministically. Since one potential is zero and the other is bounded by $V_{\\text{pot,max}}$ ([](#lem-potential-boundedness)), this component is bounded by:\n3996: $$\n3997: \n3998:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |V_{1,i} - V_{2,i}|^2 \\le V_{\\text{pot,max}}^2 \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n3999: \n4000: \n4001: $$\n4002: 3.  **Bound the Error from Stable Walkers:**\n4003:     For stable walkers, the potential $V_i$ is a composite function of the standardized vectors for rewards and distance: $V_i = F(z_{r,i}, z_{d,i})$. As shown in [](#lem-component-potential-lipschitz), the function $F$ is globally Lipschitz continuous with respect to its Z-score inputs. The total squared error for the stable set is therefore bounded by a linear combination of the squared errors of the underlying standardization pipelines:\n4004: $$\n4005: \n4006:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2 \\le 2L_{F,r}^2 \\|\\mathbf{z}_{r,1} - \\mathbf{z}_{r,2}\\|_2^2 + 2L_{F,d}^2 \\|\\mathbf{z}_{d,1} - \\mathbf{z}_{d,2}\\|_2^2\n4007: \n4008: \n4009: $$\n4010: where the constants $L_{F,r}$ and $L_{F,d}$ are from [](#lem-component-potential-lipschitz).\n4011: 4.  **Apply the Deterministic Bound for Standardization:**",
      "metadata": {
        "label": "proof-proof-deterministic-potential-continuity"
      },
      "section": "## 13. Fitness potential operator",
      "references": [],
      "raw_directive": "3972: :label: thm-deterministic-potential-continuity\n3973: Let the Fitness Potential Operator $V_{\\text{op}}$ be constructed using the patched **N-Dimensional Standardization Operator**. Let $(\\mathcal{S}_1, \\mathbf{v}_{r1}, \\mathbf{v}_{d1})$ and $(\\mathcal{S}_2, \\mathbf{v}_{r2}, \\mathbf{v}_{d2})$ be two sets of inputs, consisting of swarm states and their corresponding raw reward and distance vectors. Let $\\mathbf{V}_1$ and $\\mathbf{V}_2$ be the resulting N-dimensional fitness potential vectors.\n3974: The squared Euclidean error between the output potential vectors is deterministically bounded by a function of the swarm displacement and the raw value differences:\n3975: $$\n3976: \n3977: \\|\\mathbf{V}_1 - \\mathbf{V}_2\\|_2^2 \\le F_{\\text{pot,det}}(\\mathcal{S}_1, \\mathcal{S}_2, \\mathbf{v}_{r1}, \\mathbf{v}_{r2}, \\mathbf{v}_{d1}, \\mathbf{v}_{d2})\n3978: \n3979: $$\n3980: where $F_{\\text{pot,det}}$ is a deterministic bounding function that is jointly continuous in its arguments and vanishes as $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\to 0$, $\\|\\mathbf{v}_{r1} - \\mathbf{v}_{r2}\\|_2 \\to 0$, and $\\|\\mathbf{v}_{d1} - \\mathbf{v}_{d2}\\|_2 \\to 0$.\n3981: #### 12.3.2 Proof of Deterministic Continuity for the Fitness Potential Operator\n3982: :label: proof-deterministic-potential-continuity\n3983: :::{prf:proof}\n3984: :label: proof-proof-deterministic-potential-continuity\n3985: **Proof.**\n3986: The proof proceeds by deterministically decomposing the total error and applying the established continuity properties of the constituent operators.\n3987: 1.  **Decomposition of Total Error:** The total squared error is decomposed into contributions from unstable walkers (whose status changes) and stable walkers.\n3988: $$\n3989: \n3990:     \\|\\mathbf{V}_1 - \\mathbf{V}_2\\|_2^2 = \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |V_{1,i} - V_{2,i}|^2 + \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2\n3991: \n3992: \n3993: $$\n3994: 2.  **Bound the Error from Unstable Walkers:**\n3995:     The error from the $n_c$ unstable walkers is bounded deterministically. Since one potential is zero and the other is bounded by $V_{\\text{pot,max}}$ ([](#lem-potential-boundedness)), this component is bounded by:\n3996: $$\n3997: \n3998:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |V_{1,i} - V_{2,i}|^2 \\le V_{\\text{pot,max}}^2 \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n3999: \n4000: \n4001: $$\n4002: 3.  **Bound the Error from Stable Walkers:**\n4003:     For stable walkers, the potential $V_i$ is a composite function of the standardized vectors for rewards and distance: $V_i = F(z_{r,i}, z_{d,i})$. As shown in [](#lem-component-potential-lipschitz), the function $F$ is globally Lipschitz continuous with respect to its Z-score inputs. The total squared error for the stable set is therefore bounded by a linear combination of the squared errors of the underlying standardization pipelines:\n4004: $$\n4005: \n4006:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |V_{1,i} - V_{2,i}|^2 \\le 2L_{F,r}^2 \\|\\mathbf{z}_{r,1} - \\mathbf{z}_{r,2}\\|_2^2 + 2L_{F,d}^2 \\|\\mathbf{z}_{d,1} - \\mathbf{z}_{d,2}\\|_2^2\n4007: \n4008: \n4009: $$\n4010: where the constants $L_{F,r}$ and $L_{F,d}$ are from [](#lem-component-potential-lipschitz).\n4011: 4.  **Apply the Deterministic Bound for Standardization:**\n4012:     We now substitute the deterministic bound from [](#thm-global-continuity-patched-standardization) for both the reward and distance standardization pipelines. For $*\\in\\{r,d\\}$ we obtain",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-perturbation-positional-bound-reproof",
      "title": null,
      "start_line": 4079,
      "end_line": 4091,
      "header_lines": [
        4080
      ],
      "content_start": 4082,
      "content_end": 4090,
      "content": "4082: Let $\\mathcal{S}_1, \\mathcal{S}_2$ be two input swarms, and let $\\mathcal{S}'_1, \\mathcal{S}'_2$ be the corresponding output swarms after applying the Perturbation Operator. The total squared positional displacement between the output swarms, $\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)$, is bounded as follows:\n4083: $$\n4084: \n4085: \\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2) \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3\\Delta_{\\text{pert}}^2(\\mathcal{S}_1) + 3\\Delta_{\\text{pert}}^2(\\mathcal{S}_2)\n4086: \n4087: $$\n4088: where $\\Delta_{\\text{pert}}^2(\\mathcal{S})$ is the **Total Perturbation-Induced Displacement** from [](#def-perturbation-fluctuation-bounds-reproof).\n4089: :::\n4090: :::{prf:proof}",
      "metadata": {
        "label": "proof-lem-sub-perturbation-positional-bound-reproof"
      },
      "section": "## 14. The Perturbation Operator",
      "references": [],
      "raw_directive": "4079: The first step is to establish an algebraic bound on the positional displacement between the two output swarms. This bound decomposes the total output displacement into the initial input displacement and the random displacement introduced by the perturbation operator acting on each swarm.\n4080: :::{prf:lemma} Bounding the Output Positional Displacement\n4081: :label: lem-sub-perturbation-positional-bound-reproof\n4082: Let $\\mathcal{S}_1, \\mathcal{S}_2$ be two input swarms, and let $\\mathcal{S}'_1, \\mathcal{S}'_2$ be the corresponding output swarms after applying the Perturbation Operator. The total squared positional displacement between the output swarms, $\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)$, is bounded as follows:\n4083: $$\n4084: \n4085: \\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2) \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3\\Delta_{\\text{pert}}^2(\\mathcal{S}_1) + 3\\Delta_{\\text{pert}}^2(\\mathcal{S}_2)\n4086: \n4087: $$\n4088: where $\\Delta_{\\text{pert}}^2(\\mathcal{S})$ is the **Total Perturbation-Induced Displacement** from [](#def-perturbation-fluctuation-bounds-reproof).\n4089: :::\n4090: :::{prf:proof}\n4091: :label: proof-lem-sub-perturbation-positional-bound-reproof",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-probabilistic-bound-perturbation-displacement-reproof",
      "title": null,
      "start_line": 4135,
      "end_line": 4158,
      "header_lines": [
        4136
      ],
      "content_start": 4138,
      "content_end": 4157,
      "content": "4138: Let $\\mathcal{S}_{\\text{in}}$ be an input swarm. Assume the **Axiom of Bounded Second Moment of Perturbation** ([](#def-axiom-bounded-second-moment-perturbation)) holds. Then for any probability of failure $\\delta' \\in (0, 1)$, the **Total Perturbation-Induced Displacement** is bounded with probability at least $1-\\delta'$:\n4139: $$\n4140: \n4141: \\Delta_{\\text{pert}}^2(\\mathcal{S}_{\\text{in}}) \\le B_M(N) + B_S(N, \\delta')\n4142: \n4143: $$\n4144: where $B_M(N)$ is the **Mean Displacement Bound** and $B_S(N, \\delta')$ is the **Stochastic Fluctuation Bound**, as defined in the subsequent section.\n4145: :::\n4146: :::{prf:proof}\n4147: :label: proof-lem-sub-probabilistic-bound-perturbation-displacement-reproof\n4148: \n4149: **Proof.**\n4150: The proof proceeds by applying McDiarmid's Inequality to the function that computes the total perturbation-induced displacement.\n4151: 1.  **Define the Function and Independent Variables.**\n4152:     *   **Independent Variables:** The perturbation of the N-particle swarm is the result of **N** independent random choices made by the perturbation measure for each walker.\n4153:     *   **Function:** The function we wish to bound is the **Total Perturbation-Induced Displacement**, **f**, which is a function of these **N** independent random choices for a fixed initial state $\\mathcal{S}_{\\text{in}}$.\n4154: 2.  **Prove the Bounded Differences Property.**\n4155:     We apply McDiarmid to $f_{\\text{avg}}$. Changing only the **i**-th random outcome only affects the **i**-th summand. Since each summand is in $[0, D_{\\mathcal{Y}}^2]$, the bounded differences constants are $c_i = D_{\\mathcal{Y}}^2/N$ for all $i$.\n4156: 3.  **Apply McDiarmid's Inequality and Solve for the Bound.**\n4157:     The sum of squares is $\\sum_{i=1}^N c_i^2 = N\\,(D_{\\mathcal{Y}}^2/N)^2 = D_{\\mathcal{Y}}^4/N$. McDiarmid yields, for $t>0$,",
      "metadata": {
        "label": "proof-lem-sub-probabilistic-bound-perturbation-displacement-reproof"
      },
      "section": "## 14. The Perturbation Operator",
      "references": [],
      "raw_directive": "4135: ##### 13.2.3.2. Probabilistic Bound on Total Perturbation-Induced Displacement\n4136: :::{prf:lemma} Probabilistic Bound on Total Perturbation-Induced Displacement\n4137: :label: lem-sub-probabilistic-bound-perturbation-displacement-reproof\n4138: Let $\\mathcal{S}_{\\text{in}}$ be an input swarm. Assume the **Axiom of Bounded Second Moment of Perturbation** ([](#def-axiom-bounded-second-moment-perturbation)) holds. Then for any probability of failure $\\delta' \\in (0, 1)$, the **Total Perturbation-Induced Displacement** is bounded with probability at least $1-\\delta'$:\n4139: $$\n4140: \n4141: \\Delta_{\\text{pert}}^2(\\mathcal{S}_{\\text{in}}) \\le B_M(N) + B_S(N, \\delta')\n4142: \n4143: $$\n4144: where $B_M(N)$ is the **Mean Displacement Bound** and $B_S(N, \\delta')$ is the **Stochastic Fluctuation Bound**, as defined in the subsequent section.\n4145: :::\n4146: :::{prf:proof}\n4147: :label: proof-lem-sub-probabilistic-bound-perturbation-displacement-reproof\n4148: \n4149: **Proof.**\n4150: The proof proceeds by applying McDiarmid's Inequality to the function that computes the total perturbation-induced displacement.\n4151: 1.  **Define the Function and Independent Variables.**\n4152:     *   **Independent Variables:** The perturbation of the N-particle swarm is the result of **N** independent random choices made by the perturbation measure for each walker.\n4153:     *   **Function:** The function we wish to bound is the **Total Perturbation-Induced Displacement**, **f**, which is a function of these **N** independent random choices for a fixed initial state $\\mathcal{S}_{\\text{in}}$.\n4154: 2.  **Prove the Bounded Differences Property.**\n4155:     We apply McDiarmid to $f_{\\text{avg}}$. Changing only the **i**-th random outcome only affects the **i**-th summand. Since each summand is in $[0, D_{\\mathcal{Y}}^2]$, the bounded differences constants are $c_i = D_{\\mathcal{Y}}^2/N$ for all $i$.\n4156: 3.  **Apply McDiarmid's Inequality and Solve for the Bound.**\n4157:     The sum of squares is $\\sum_{i=1}^N c_i^2 = N\\,(D_{\\mathcal{Y}}^2/N)^2 = D_{\\mathcal{Y}}^4/N$. McDiarmid yields, for $t>0$,\n4158: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-perturbation-operator-continuity-reproof",
      "title": null,
      "start_line": 4193,
      "end_line": 4213,
      "header_lines": [
        4194
      ],
      "content_start": 4196,
      "content_end": 4212,
      "content": "4196: Assume the chosen **Perturbation Measure** satisfies the **Axiom of Bounded Second Moment of Perturbation ([](#def-axiom-bounded-second-moment-perturbation))**.\n4197: Then for any probability of failure $\\delta \\in (0, 1)$, the squared **N-Particle Displacement Metric** between the two output swarms is bounded with probability at least $1-\\delta$ by:\n4198: $$\n4199: \n4200: d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2 \\le 3 \\frac{\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)}{N} + \\lambda_{\\mathrm{status}} \\frac{n_c(\\mathcal{S}_1, \\mathcal{S}_2)}{N} + \\frac{6}{N} \\left( B_M(N) + B_S(N, \\delta/2) \\right)\n4201: \n4202: $$\n4203: :::\n4204: :::{prf:proof}\n4205: :label: proof-thm-perturbation-operator-continuity-reproof\n4206: \n4207: **Proof.**\n4208: The proof constructs a high-probability bound for the output displacement metric by composing the algebraic and probabilistic bounds from the preceding lemmas.\n4209: 1.  **Decomposition of the Output Metric.**\n4210:     The squared N-Particle Displacement Metric for the output swarms is:\n4211: $$\n4212: ",
      "metadata": {
        "label": "proof-thm-perturbation-operator-continuity-reproof"
      },
      "section": "## 14. The Perturbation Operator",
      "references": [],
      "raw_directive": "4193: :::{prf:theorem} Probabilistic Continuity of the Perturbation Operator\n4194: :label: thm-perturbation-operator-continuity-reproof\n4195: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two input swarms. Let the output swarms be generated by independent applications of the Perturbation Operator: $\\mathcal{S}'_1 \\sim \\Psi_{\\text{pert}}(\\mathcal{S}_1, \\cdot)$ and $\\mathcal{S}'_2 \\sim \\Psi_{\\text{pert}}(\\mathcal{S}_2, \\cdot)$.\n4196: Assume the chosen **Perturbation Measure** satisfies the **Axiom of Bounded Second Moment of Perturbation ([](#def-axiom-bounded-second-moment-perturbation))**.\n4197: Then for any probability of failure $\\delta \\in (0, 1)$, the squared **N-Particle Displacement Metric** between the two output swarms is bounded with probability at least $1-\\delta$ by:\n4198: $$\n4199: \n4200: d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2 \\le 3 \\frac{\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)}{N} + \\lambda_{\\mathrm{status}} \\frac{n_c(\\mathcal{S}_1, \\mathcal{S}_2)}{N} + \\frac{6}{N} \\left( B_M(N) + B_S(N, \\delta/2) \\right)\n4201: \n4202: $$\n4203: :::\n4204: :::{prf:proof}\n4205: :label: proof-thm-perturbation-operator-continuity-reproof\n4206: \n4207: **Proof.**\n4208: The proof constructs a high-probability bound for the output displacement metric by composing the algebraic and probabilistic bounds from the preceding lemmas.\n4209: 1.  **Decomposition of the Output Metric.**\n4210:     The squared N-Particle Displacement Metric for the output swarms is:\n4211: $$\n4212: \n4213:     d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2 = \\frac{1}{N}\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2) + \\frac{\\lambda_{\\mathrm{status}}}{N} n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-post-perturbation-status-update-continuity",
      "title": null,
      "start_line": 4256,
      "end_line": 4313,
      "header_lines": [
        4257
      ],
      "content_start": 4258,
      "content_end": 4312,
      "content": "4258: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4259: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4260: $$\n4261: \n4262: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4263: \n4264: $$\n4265: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4266: :::\n4267: :::{prf:proof}\n4268: :label: proof-thm-post-perturbation-status-update-continuity\n4269: **Proof.**\n4270: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4271: 1.  **Decomposition of Expected Status Change:**\n4272:     The expected total status change is the sum of the expected squared differences for each walker:\n4273: $$\n4274: \n4275:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4276: \n4277: \n4278: $$\n4279: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4280: $$\n4281: \n4282:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4283: \n4284: \n4285: $$\n4286: 2.  **Analyze the Difference of Means:**\n4287:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4288: $$\n4289: \n4290:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4291: \n4292: \n4293: $$\n4294: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4295: $$\n4296: \n4297:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4298: \n4299: \n4300: $$\n4301: Squaring this inequality gives a bound for the squared difference of the means:\n4302: $$\n4303: \n4304:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4305: \n4306: \n4307: $$\n4308: 3.  **Sum Over All Walkers:**\n4309:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4310: $$\n4311: \n4312:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2",
      "metadata": {
        "label": "proof-thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4256: :label: thm-post-perturbation-status-update-continuity\n4257: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two input swarms. Let the output swarms be generated by the independent application of the composed operator: $\\mathcal{S}'_1 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_1, \\cdot)$ and $\\mathcal{S}'_2 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_2, \\cdot)$.\n4258: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4259: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4260: $$\n4261: \n4262: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4263: \n4264: $$\n4265: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4266: :::\n4267: :::{prf:proof}\n4268: :label: proof-thm-post-perturbation-status-update-continuity\n4269: **Proof.**\n4270: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4271: 1.  **Decomposition of Expected Status Change:**\n4272:     The expected total status change is the sum of the expected squared differences for each walker:\n4273: $$\n4274: \n4275:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4276: \n4277: \n4278: $$\n4279: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4280: $$\n4281: \n4282:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4283: \n4284: \n4285: $$\n4286: 2.  **Analyze the Difference of Means:**\n4287:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4288: $$\n4289: \n4290:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4291: \n4292: \n4293: $$\n4294: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4295: $$\n4296: \n4297:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4298: \n4299: \n4300: $$\n4301: Squaring this inequality gives a bound for the squared difference of the means:\n4302: $$\n4303: \n4304:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4305: \n4306: \n4307: $$\n4308: 3.  **Sum Over All Walkers:**\n4309:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4310: $$\n4311: \n4312:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4313: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 15,
        "chapter_file": "chapter_15.json",
        "section_id": "## 15. The Status Update Operator"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cloning-probability-lipschitz",
      "title": null,
      "start_line": 4431,
      "end_line": 4440,
      "header_lines": [
        4432
      ],
      "content_start": 4434,
      "content_end": 4439,
      "content": "4434: $$\n4435: *   **Walker Potential Lipschitz Constant ($L_{\\pi,i}$):**\n4436: $$\n4437: \n4438: L_{\\pi,i} := \\frac{V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}}}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}^{\\,2}}\n4439: ",
      "metadata": {
        "label": "proof-lem-cloning-probability-lipschitz"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4431: \n4432: L_{\\pi,c} := \\frac{1}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}}\n4433: \n4434: $$\n4435: *   **Walker Potential Lipschitz Constant ($L_{\\pi,i}$):**\n4436: $$\n4437: \n4438: L_{\\pi,i} := \\frac{V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}}}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}^{\\,2}}\n4439: \n4440: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-cloning-action-continuity",
      "title": null,
      "start_line": 4464,
      "end_line": 4474,
      "header_lines": [
        4465
      ],
      "content_start": 4467,
      "content_end": 4473,
      "content": "4467: \n4468: |P_{\\text{clone}}(\\mathcal{S}_1, \\mathbf{V}_1)_i - P_{\\text{clone}}(\\mathcal{S}_2, \\mathbf{V}_2)_i| \\le C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{val}}^{(\\pi)} \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[|V_{1,c} - V_{2,c}|] + |V_{1,i} - V_{2,i}| \\right)\n4469: \n4470: $$\n4471: where the coefficients are:\n4472: *   $C_{\\text{struct}}^{(\\pi)}(k_1) := \\frac{2}{\\max(1, k_1-1)}$ (from structural change)\n4473: *   $C_{\\text{val}}^{(\\pi)} := \\max(L_{\\pi,c}, L_{\\pi,i})$ (from potential vector change)",
      "metadata": {
        "label": "proof-thm-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4464: :label: thm-expected-cloning-action-continuity\n4465: The **Conditional Expected Cloning Action** is continuous with respect to changes in both the swarm structure and the fitness potential vector. For any two states $(\\mathcal{S}_1, \\mathbf{V}_1)$ and $(\\mathcal{S}_2, \\mathbf{V}_2)$, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$, the change in the conditional expected action for any walker $i$ is bounded:\n4466: $$\n4467: \n4468: |P_{\\text{clone}}(\\mathcal{S}_1, \\mathbf{V}_1)_i - P_{\\text{clone}}(\\mathcal{S}_2, \\mathbf{V}_2)_i| \\le C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{val}}^{(\\pi)} \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[|V_{1,c} - V_{2,c}|] + |V_{1,i} - V_{2,i}| \\right)\n4469: \n4470: $$\n4471: where the coefficients are:\n4472: *   $C_{\\text{struct}}^{(\\pi)}(k_1) := \\frac{2}{\\max(1, k_1-1)}$ (from structural change)\n4473: *   $C_{\\text{val}}^{(\\pi)} := \\max(L_{\\pi,c}, L_{\\pi,i})$ (from potential vector change)\n4474: :::",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-total-expected-cloning-action-continuity",
      "title": null,
      "start_line": 4487,
      "end_line": 4500,
      "header_lines": [
        4488
      ],
      "content_start": 4490,
      "content_end": 4499,
      "content": "4490: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$. The **Total Expected Cloning Action** is continuous with respect to the N-Particle Displacement Metric. For any walker $i$, the change in its total cloning probability is bounded:\n4491: $$\n4492: \n4493: |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le E_{\\text{struct}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2)\n4494: \n4495: $$\n4496: where the two error components are bounded in the subsequent lemmas.\n4497: :::\n4498: :::{prf:proof}\n4499: :label: proof-thm-total-expected-cloning-action-continuity",
      "metadata": {
        "label": "proof-thm-total-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4487: This theorem provides the main result for the continuity of the total probability of cloning. It proves that this probability, averaged over all sources of randomness, is a continuous function of the input swarm state.\n4488: :::{prf:theorem} Continuity of the Total Expected Cloning Action\n4489: :label: thm-total-expected-cloning-action-continuity\n4490: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$. The **Total Expected Cloning Action** is continuous with respect to the N-Particle Displacement Metric. For any walker $i$, the change in its total cloning probability is bounded:\n4491: $$\n4492: \n4493: |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le E_{\\text{struct}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2)\n4494: \n4495: $$\n4496: where the two error components are bounded in the subsequent lemmas.\n4497: :::\n4498: :::{prf:proof}\n4499: :label: proof-thm-total-expected-cloning-action-continuity\n4500: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-clone-prob-structural-error",
      "title": null,
      "start_line": 4509,
      "end_line": 4515,
      "header_lines": [
        4510
      ],
      "content_start": 4512,
      "content_end": 4514,
      "content": "4512: #### 15.2.5. Bounding the Structural Component of Cloning Probability Error\n4513: :label: lem-total-clone-prob-structural-error\n4514: Let $E_{\\text{struct}}^{(\\overline{P})}$ be the structural error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded by the number of status changes between the swarms.",
      "metadata": {
        "label": "proof-lem-total-clone-prob-structural-error"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4509: The first term is the **Structural Error Component**, $E_{\\text{struct}}^{(\\overline{P})}$. The second term is the **Value Error Component**, $E_{\\text{val}}^{(\\overline{P})}$.\n4510: **Q.E.D.**\n4511: :::\n4512: #### 15.2.5. Bounding the Structural Component of Cloning Probability Error\n4513: :label: lem-total-clone-prob-structural-error\n4514: Let $E_{\\text{struct}}^{(\\overline{P})}$ be the structural error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded by the number of status changes between the swarms.\n4515: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-potential-operator-is-mean-square-continuous",
      "title": null,
      "start_line": 4524,
      "end_line": 4530,
      "header_lines": [
        4525
      ],
      "content_start": 4527,
      "content_end": 4529,
      "content": "4527: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4528: :label: thm-potential-operator-is-mean-square-continuous\n4529: The **Fitness Potential Operator** is **mean-square continuous**. There exists a deterministic function $F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)$, the **Expected Squared Potential Error Bound**, such that:",
      "metadata": {
        "label": "proof-thm-potential-operator-is-mean-square-continuous"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4524: The structural error is $|E_V_1[P_1,i(V_1) - P_2,i(V_1)]|$. By Jensen's inequality, this is $\\leq E_V_1[|P_1,i(V_1) - P_2,i(V_1)|]$. From [](#thm-expected-cloning-action-continuity), the term inside the expectation is bounded by $C_{\\text{struct}}^{(π)}(k_1) \\cdot n_c$. Since this bound is a deterministic constant, its expectation is the bound itself.\n4525: **Q.E.D.**\n4526: :::\n4527: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4528: :label: thm-potential-operator-is-mean-square-continuous\n4529: The **Fitness Potential Operator** is **mean-square continuous**. There exists a deterministic function $F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)$, the **Expected Squared Potential Error Bound**, such that:\n4530: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-clone-prob-value-error",
      "title": null,
      "start_line": 4540,
      "end_line": 4549,
      "header_lines": [
        4541
      ],
      "content_start": 4543,
      "content_end": 4548,
      "content": "4543: :label: lem-total-clone-prob-value-error\n4544: Let $E_{\\text{val}}^{(\\overline{P})}$ be the value error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded as follows:\n4545: $$\n4546: \n4547: E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)}\n4548: ",
      "metadata": {
        "label": "proof-lem-total-clone-prob-value-error"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4540: **Q.E.D.**\n4541: :::\n4542: #### 15.2.7. Bounding the Value Component of Cloning Probability Error\n4543: :label: lem-total-clone-prob-value-error\n4544: Let $E_{\\text{val}}^{(\\overline{P})}$ be the value error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded as follows:\n4545: $$\n4546: \n4547: E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)}\n4548: \n4549: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-cloning-transition-operator-continuity-recorrected",
      "title": null,
      "start_line": 4568,
      "end_line": 4615,
      "header_lines": [
        4569
      ],
      "content_start": 4570,
      "content_end": 4614,
      "content": "4570: where $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ are the **Cloning Operator Continuity Coefficients**, which are deterministic, state-dependent functions defined in the subsequent sections.\n4571: ##### 15.2.8.1. Definition: Cloning Operator Continuity Coefficients\n4572: :label: def-cloning-operator-continuity-coeffs-recorrected\n4573: The state-dependent functions in the continuity bound for the Cloning Transition Operator are defined as follows:\n4574: 1.  **The Cloning Lipschitz Amplification Factor ($C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term that is linear in the input squared displacement, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$. This term primarily captures the propagation of the positional component of the input displacement.\n4575: 2.  **The Cloning Hölder Amplification Factor ($C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the Hölder term, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)$. This term arises from the complex, non-linear error propagation originating from the **Distance-to-Companion Measurement**, specifically from the component of its error bound that is quadratic in the number of status changes.\n4576: 3.  **The Cloning Stochastic Offset ($K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** A state-dependent term that is independent of the input displacement. It represents the baseline displacement introduced by the operator's intrinsic stochasticity, which exists even if the two input swarms are identical.\n4577: ##### 15.2.8.2. Proof of Mean-Square Continuity for the Cloning Operator\n4578: :label: proof-cloning-transition-operator-continuity-recorrected\n4579: :::{prf:proof}\n4580: :label: proof-proof-cloning-transition-operator-continuity-recorrected\n4581: **Proof.**\n4582: The proof establishes the bound by relating the expected output displacement to the expected intermediate positional displacement, and then bounding the latter by composing the continuity bounds of the underlying measurement and potential-calculation pipeline.\n4583: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the intermediate swarms after the cloning transition.\n4584: 1.  **Bound the Expected Intermediate Positional Displacement.**\n4585:     Since all intermediate walkers are assigned an \"alive\" status, the status component of their displacement is zero, and the expected output displacement is given by $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2] = \\frac{1}{N} \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)]$.\n4586:     For any single walker **i**, using the triangle inequality and the property $(a+b+c)^2 \\le 3(a^2+b^2+c^2)$, we have:\n4587: $$\n4588: \n4589:     \\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x'_{2,i})^2] \\le 3d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 3\\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x_{1,i})^2] + 3\\mathbb{E}[d_{\\text{alg}}(x'_{2,i}, x_{2,i})^2]\n4590: \n4591: \n4592: $$\n4593: The expected squared displacement of a walker from its own initial position, $\\mathbb{E}[d_{\\text{alg}}(x'_{k,i}, x_{k,i})^2]$, is bounded by the total probability of it being cloned, $\\overline{P}_{\\text{clone}}(\\mathcal{S}_k)_i$, multiplied by the maximum possible squared displacement, which is bounded by $D_{\\mathcal{Y}}^2$. Summing over all **N** walkers gives a bound on the total expected intermediate positional displacement:\n4594: $$\n4595: \n4596:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3D_{\\mathcal{Y}}^2 \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right)\n4597: \n4598: \n4599: $$\n4600: 2.  **Bound the Sum of Cloning Probabilities.**\n4601:     The core of the proof is to bound the sum of the total cloning probabilities in terms of the input displacement $V_{\\text{in}}$. As rigorously proven in the subsequent **Sub-Lemma 15.2.8.3**, this sum can be bounded by a function that contains both a linear and a square-root term of the input displacement:\n4602: $$\n4603: \n4604:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4605: \n4606: \n4607: $$\n4608: where $C_P$, $H_P$, and $K_P$ are state-dependent coefficients derived in the sub-lemma.\n4609: 3.  **Assemble the Final Bound.**\n4610:     We substitute the bound from Step 2 into the inequality from Step 1. We also use the fact that the initial positional displacement is a component of the total displacement, so $\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le N \\cdot V_{\\text{in}}$.\n4611: $$\n4612: \n4613:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3(N \\cdot V_{\\text{in}}) + 3D_{\\mathcal{Y}}^2 \\left( C_P V_{\\text{in}} + H_P \\sqrt{V_{\\text{in}}} + K_P \\right)\n4614: ",
      "metadata": {
        "label": "proof-proof-cloning-transition-operator-continuity-recorrected"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4568: \n4569: $$\n4570: where $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ are the **Cloning Operator Continuity Coefficients**, which are deterministic, state-dependent functions defined in the subsequent sections.\n4571: ##### 15.2.8.1. Definition: Cloning Operator Continuity Coefficients\n4572: :label: def-cloning-operator-continuity-coeffs-recorrected\n4573: The state-dependent functions in the continuity bound for the Cloning Transition Operator are defined as follows:\n4574: 1.  **The Cloning Lipschitz Amplification Factor ($C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term that is linear in the input squared displacement, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$. This term primarily captures the propagation of the positional component of the input displacement.\n4575: 2.  **The Cloning Hölder Amplification Factor ($C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the Hölder term, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)$. This term arises from the complex, non-linear error propagation originating from the **Distance-to-Companion Measurement**, specifically from the component of its error bound that is quadratic in the number of status changes.\n4576: 3.  **The Cloning Stochastic Offset ($K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** A state-dependent term that is independent of the input displacement. It represents the baseline displacement introduced by the operator's intrinsic stochasticity, which exists even if the two input swarms are identical.\n4577: ##### 15.2.8.2. Proof of Mean-Square Continuity for the Cloning Operator\n4578: :label: proof-cloning-transition-operator-continuity-recorrected\n4579: :::{prf:proof}\n4580: :label: proof-proof-cloning-transition-operator-continuity-recorrected\n4581: **Proof.**\n4582: The proof establishes the bound by relating the expected output displacement to the expected intermediate positional displacement, and then bounding the latter by composing the continuity bounds of the underlying measurement and potential-calculation pipeline.\n4583: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the intermediate swarms after the cloning transition.\n4584: 1.  **Bound the Expected Intermediate Positional Displacement.**\n4585:     Since all intermediate walkers are assigned an \"alive\" status, the status component of their displacement is zero, and the expected output displacement is given by $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2] = \\frac{1}{N} \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)]$.\n4586:     For any single walker **i**, using the triangle inequality and the property $(a+b+c)^2 \\le 3(a^2+b^2+c^2)$, we have:\n4587: $$\n4588: \n4589:     \\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x'_{2,i})^2] \\le 3d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 3\\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x_{1,i})^2] + 3\\mathbb{E}[d_{\\text{alg}}(x'_{2,i}, x_{2,i})^2]\n4590: \n4591: \n4592: $$\n4593: The expected squared displacement of a walker from its own initial position, $\\mathbb{E}[d_{\\text{alg}}(x'_{k,i}, x_{k,i})^2]$, is bounded by the total probability of it being cloned, $\\overline{P}_{\\text{clone}}(\\mathcal{S}_k)_i$, multiplied by the maximum possible squared displacement, which is bounded by $D_{\\mathcal{Y}}^2$. Summing over all **N** walkers gives a bound on the total expected intermediate positional displacement:\n4594: $$\n4595: \n4596:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3D_{\\mathcal{Y}}^2 \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right)\n4597: \n4598: \n4599: $$\n4600: 2.  **Bound the Sum of Cloning Probabilities.**\n4601:     The core of the proof is to bound the sum of the total cloning probabilities in terms of the input displacement $V_{\\text{in}}$. As rigorously proven in the subsequent **Sub-Lemma 15.2.8.3**, this sum can be bounded by a function that contains both a linear and a square-root term of the input displacement:\n4602: $$\n4603: \n4604:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4605: \n4606: \n4607: $$\n4608: where $C_P$, $H_P$, and $K_P$ are state-dependent coefficients derived in the sub-lemma.\n4609: 3.  **Assemble the Final Bound.**\n4610:     We substitute the bound from Step 2 into the inequality from Step 1. We also use the fact that the initial positional displacement is a component of the total displacement, so $\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le N \\cdot V_{\\text{in}}$.\n4611: $$\n4612: \n4613:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3(N \\cdot V_{\\text{in}}) + 3D_{\\mathcal{Y}}^2 \\left( C_P V_{\\text{in}} + H_P \\sqrt{V_{\\text{in}}} + K_P \\right)\n4614: \n4615: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-bound-sum-total-cloning-probs",
      "title": null,
      "start_line": 4632,
      "end_line": 4676,
      "header_lines": [
        4633
      ],
      "content_start": 4635,
      "content_end": 4675,
      "content": "4635: $$\n4636: \n4637: \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4638: \n4639: $$\n4640: \n4641: where $C_P$, $H_P$, and $K_P$ are finite, state-dependent, non-negative coefficients.\n4642: :::\n4643: :::{prf:proof}\n4644: :label: proof-lem-sub-bound-sum-total-cloning-probs\n4645: \n4646: **Proof.**\n4647: The proof proceeds by bounding the change in the cloning probability and then relating that change to the input displacement.\n4648: 1.  **Decompose the Sum.**\n4649:     Using the triangle inequality, we can bound the sum:\n4650: $$\n4651: \n4652:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| + 2\\sum_{i=1}^N \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i\n4653: \n4654: \n4655: $$\n4656: The second term, $2\\sum \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i$, is bounded by the state-dependent constant $2N$. This will be absorbed into the final offset, $K_P$. The core of the proof is to bound the first term, which is the L1-norm of the difference between the total cloning probability vectors, $\\|\\Delta \\overline{\\mathbf{P}}\\|_1$.\n4657: 2.  **Bound the L1-Norm of the Probability Difference.**\n4658:     From the continuity of the total expected cloning action ([](#thm-total-expected-cloning-action-continuity)), we have a bound for each component, which we sum over all **N** walkers:\n4659: $$\n4660: \n4661:     \\|\\Delta \\overline{\\mathbf{P}}\\|_1 = \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le \\sum_{i=1}^N (E_{\\text{struct}}^{(\\overline{P})} + E_{\\text{val}}^{(\\overline{P})})\n4662: \n4663: \n4664: $$\n4665: *   The structural error term from [](#lem-total-clone-prob-structural-error) is bounded by $N \\cdot C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c$.\n4666:     *   The value error term from [](#lem-total-clone-prob-value-error) is bounded by $N \\cdot C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}}$.\n4667: 3.  **Substitute the Bound for the Fitness Potential Error ($F_{\\text{pot}}$).**\n4668:     The crucial step is to substitute the bound for the **Expected Squared Potential Error Bound** ($F_{\\text{pot}}$) from [](#thm-fitness-potential-mean-square-continuity). $F_{\\text{pot}}$ is itself a function of the input displacement components: $F_{\\text{pot}}(S_1, S_2) = F_unstable + F_{\\text{stable}}$, where $F_{\\text{stable}}$ is bounded by the mean-square errors of the standardization pipelines for reward and distance. The distance standardization error ($E_[\\|\\Deltaz_d\\|^2]$) from [](#thm-distance-operator-mean-square-continuity) contains a term proportional to $n_c^2$.\n4669:     Therefore, the full bound for $F_{\\text{pot}}$ takes the form:\n4670: $$\n4671: \n4672:     F_{\\text{pot}} \\le A_1 \\cdot \\Delta_{\\text{pos}}^2 + A_2 \\cdot n_c + A_3 \\cdot n_c^2 + A_4\n4673: \n4674: \n4675: $$",
      "metadata": {
        "label": "proof-lem-sub-bound-sum-total-cloning-probs"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4632: \n4633: The sum of the **Total Expected Cloning Probabilities**, $\\sum_{i=1}^N (\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i)$, is bounded by a sum of a linear term, a Hölder term, and a constant offset of the initial displacement:\n4634: \n4635: $$\n4636: \n4637: \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4638: \n4639: $$\n4640: \n4641: where $C_P$, $H_P$, and $K_P$ are finite, state-dependent, non-negative coefficients.\n4642: :::\n4643: :::{prf:proof}\n4644: :label: proof-lem-sub-bound-sum-total-cloning-probs\n4645: \n4646: **Proof.**\n4647: The proof proceeds by bounding the change in the cloning probability and then relating that change to the input displacement.\n4648: 1.  **Decompose the Sum.**\n4649:     Using the triangle inequality, we can bound the sum:\n4650: $$\n4651: \n4652:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| + 2\\sum_{i=1}^N \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i\n4653: \n4654: \n4655: $$\n4656: The second term, $2\\sum \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i$, is bounded by the state-dependent constant $2N$. This will be absorbed into the final offset, $K_P$. The core of the proof is to bound the first term, which is the L1-norm of the difference between the total cloning probability vectors, $\\|\\Delta \\overline{\\mathbf{P}}\\|_1$.\n4657: 2.  **Bound the L1-Norm of the Probability Difference.**\n4658:     From the continuity of the total expected cloning action ([](#thm-total-expected-cloning-action-continuity)), we have a bound for each component, which we sum over all **N** walkers:\n4659: $$\n4660: \n4661:     \\|\\Delta \\overline{\\mathbf{P}}\\|_1 = \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le \\sum_{i=1}^N (E_{\\text{struct}}^{(\\overline{P})} + E_{\\text{val}}^{(\\overline{P})})\n4662: \n4663: \n4664: $$\n4665: *   The structural error term from [](#lem-total-clone-prob-structural-error) is bounded by $N \\cdot C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c$.\n4666:     *   The value error term from [](#lem-total-clone-prob-value-error) is bounded by $N \\cdot C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}}$.\n4667: 3.  **Substitute the Bound for the Fitness Potential Error ($F_{\\text{pot}}$).**\n4668:     The crucial step is to substitute the bound for the **Expected Squared Potential Error Bound** ($F_{\\text{pot}}$) from [](#thm-fitness-potential-mean-square-continuity). $F_{\\text{pot}}$ is itself a function of the input displacement components: $F_{\\text{pot}}(S_1, S_2) = F_unstable + F_{\\text{stable}}$, where $F_{\\text{stable}}$ is bounded by the mean-square errors of the standardization pipelines for reward and distance. The distance standardization error ($E_[\\|\\Deltaz_d\\|^2]$) from [](#thm-distance-operator-mean-square-continuity) contains a term proportional to $n_c^2$.\n4669:     Therefore, the full bound for $F_{\\text{pot}}$ takes the form:\n4670: $$\n4671: \n4672:     F_{\\text{pot}} \\le A_1 \\cdot \\Delta_{\\text{pos}}^2 + A_2 \\cdot n_c + A_3 \\cdot n_c^2 + A_4\n4673: \n4674: \n4675: $$\n4676: where $A_k$ are state-dependent coefficients.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-k1-revival-state",
      "title": null,
      "start_line": 4711,
      "end_line": 4752,
      "header_lines": [
        4712
      ],
      "content_start": 4714,
      "content_end": 4751,
      "content": "4714: Then, the one-step transition $\\mathcal{S}_t \\to \\mathcal{S}_{t+1}$ is characterized by the following three properties with probability 1:\n4715: 1.  **Survivor Persistence:** The single alive walker $j$ will be assigned the \"Persist\" action. Its intermediate position will be its current position, $x_j^{(t+0.5)} = x_j^{(t)}$. Its subsequent evolution is that of a single, persistent random walker for the remainder of the timestep.\n4716: 2.  **Dead Walker Revival:** Every dead walker $i \\in \\mathcal{D}(\\mathcal{S}_t)$ (for $i \\neq j$) will be assigned the \"Clone\" action. Its intermediate position $x_i^{(t+0.5)}$ will be sampled from the **Cloning Measure** centered on the survivor's position, $\\mathcal{Q}_\\delta(x_j^{(t)}, \\cdot)$.\n4717: 3.  **Swarm Revival and Failure Condition:** The swarm is guaranteed to enter the intermediate state $\\mathcal{S}_{t+0.5}$ with all $N$ walkers alive ($|\\mathcal{A}(\\mathcal{S}_{t+0.5})| = N$). The risk of swarm extinction ($|\\mathcal{A}(\\mathcal{S}_{t+1})|=0$) is therefore isolated to the single, simultaneous event where all $N$ walkers in the revived intermediate swarm independently move to an invalid state during the final perturbation and status update phase.\n4718: :::{attention}\n4719: **The Only Remaining Risk**: After revival, all N walkers are alive again, but they still need to survive the perturbation step. The swarm can still go extinct if ALL walkers simultaneously wander into forbidden territory during this final step. However, this is now a single, well-defined probabilistic event rather than gradual attrition - much easier to analyze and control!\n4720: :::\n4721: :::\n4722: :::{prf:proof}\n4723: :label: proof-thm-k1-revival-state\n4724: \n4725: **Proof.**\n4726: The proof proceeds by analyzing the cloning decision for the single survivor and for an arbitrary dead walker, demonstrating that their actions are deterministic under the given conditions.\n4727: 1.  **Proof of Survivor Persistence (Walker **j**):**\n4728:     *   **Companion Selection:** As per the **Companion Selection Measure ([](#def-companion-selection-measure))**, when $|\\mathcal{A}|=1$, the single alive walker is its own companion. Therefore, the cloning companion is deterministically $c_{\\text{clone}}(j) = j$.\n4729:     *   **Cloning Score:** The fitness potentials are $V_j$ for the walker and $V_{c(j)}=V_j$ for the companion. The cloning score from ([](#def-cloning-score-function)) is:\n4730: $$\n4731: \n4732:         S_j = S(V_j, V_j) = \\frac{V_j - V_j}{V_j + \\varepsilon_{\\text{clone}}} = 0\n4733: \n4734: \n4735: $$\n4736: *   **Cloning Decision:** The random threshold is sampled $T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})$. Since $p_{\\max} > 0$, the probability of sampling $T_{\\text{clone}}=0$ is zero. The condition for cloning, $S_j > T_{\\text{clone}}$, becomes $0 > T_{\\text{clone}}$, which is false with probability 1.\n4737:     *   **Conclusion:** Walker $j$ is assigned the \"Persist\" action. Its intermediate position is unchanged, $x_j^{(t+0.5)} = x_j^{(t)}$. This proves the first property.\n4738: 2.  **Proof of Dead Walker Revival (Walker **i** where **i ≠ j**):**\n4739:     *   **Companion Selection:** For a dead walker $i$, the companion set is the entire alive set, $\\mathcal{A}(\\mathcal{S}_t)$. Since this set only contains walker $j$, the companion is deterministically $c_{\\text{clone}}(i) = j$.\n4740:     *   **Fitness Potential:** As a dead walker, $V_i=0$. As an alive walker, the companion's potential $V_j$ is strictly positive and bounded below by $V_{\\text{pot,min}} = \\eta^{\\alpha+\\beta}$ ([](#lem-potential-boundedness)).\n4741:     *   **Cloning Score:** The cloning score for walker $i$ is:\n4742: $$\n4743: \n4744:         S_i = S(V_j, 0) = \\frac{V_j - 0}{0 + \\varepsilon_{\\text{clone}}} = \\frac{V_j}{\\varepsilon_{\\text{clone}}}\n4745: \n4746: \n4747: $$\n4748: Using the lower bound for $V_j$, we have a lower bound for the score: $S_i \\ge \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}}}$.\n4749:     *   **Cloning Decision:** The cloning action occurs if $S_i > T_{\\text{clone}}$. We compare the lower bound of the score to the upper bound of the threshold ($p_{\\max}$). The **Axiom of Guaranteed Revival** requires $\\kappa_{\\text{revival}} = \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}} \\cdot p_{\\max}} > 1$. Rearranging this axiom gives:\n4750: $$\n4751: ",
      "metadata": {
        "label": "proof-thm-k1-revival-state"
      },
      "section": "## 17. The Revival State: Dynamics at $k=1$",
      "references": [],
      "raw_directive": "4711: :::\n4712: Let $\\mathcal{S}_t$ be a swarm state with exactly one alive walker, such that $|\\mathcal{A}(\\mathcal{S}_t)| = 1$. Let the index of this single survivor be $j$, so $\\mathcal{A}(\\mathcal{S}_t) = \\{j\\}$.\n4713: Assume the **Axiom of Guaranteed Revival ([](#axiom-guaranteed-revival))** holds, such that the revival score ratio $\\kappa_{\\text{revival}} > 1$.\n4714: Then, the one-step transition $\\mathcal{S}_t \\to \\mathcal{S}_{t+1}$ is characterized by the following three properties with probability 1:\n4715: 1.  **Survivor Persistence:** The single alive walker $j$ will be assigned the \"Persist\" action. Its intermediate position will be its current position, $x_j^{(t+0.5)} = x_j^{(t)}$. Its subsequent evolution is that of a single, persistent random walker for the remainder of the timestep.\n4716: 2.  **Dead Walker Revival:** Every dead walker $i \\in \\mathcal{D}(\\mathcal{S}_t)$ (for $i \\neq j$) will be assigned the \"Clone\" action. Its intermediate position $x_i^{(t+0.5)}$ will be sampled from the **Cloning Measure** centered on the survivor's position, $\\mathcal{Q}_\\delta(x_j^{(t)}, \\cdot)$.\n4717: 3.  **Swarm Revival and Failure Condition:** The swarm is guaranteed to enter the intermediate state $\\mathcal{S}_{t+0.5}$ with all $N$ walkers alive ($|\\mathcal{A}(\\mathcal{S}_{t+0.5})| = N$). The risk of swarm extinction ($|\\mathcal{A}(\\mathcal{S}_{t+1})|=0$) is therefore isolated to the single, simultaneous event where all $N$ walkers in the revived intermediate swarm independently move to an invalid state during the final perturbation and status update phase.\n4718: :::{attention}\n4719: **The Only Remaining Risk**: After revival, all N walkers are alive again, but they still need to survive the perturbation step. The swarm can still go extinct if ALL walkers simultaneously wander into forbidden territory during this final step. However, this is now a single, well-defined probabilistic event rather than gradual attrition - much easier to analyze and control!\n4720: :::\n4721: :::\n4722: :::{prf:proof}\n4723: :label: proof-thm-k1-revival-state\n4724: \n4725: **Proof.**\n4726: The proof proceeds by analyzing the cloning decision for the single survivor and for an arbitrary dead walker, demonstrating that their actions are deterministic under the given conditions.\n4727: 1.  **Proof of Survivor Persistence (Walker **j**):**\n4728:     *   **Companion Selection:** As per the **Companion Selection Measure ([](#def-companion-selection-measure))**, when $|\\mathcal{A}|=1$, the single alive walker is its own companion. Therefore, the cloning companion is deterministically $c_{\\text{clone}}(j) = j$.\n4729:     *   **Cloning Score:** The fitness potentials are $V_j$ for the walker and $V_{c(j)}=V_j$ for the companion. The cloning score from ([](#def-cloning-score-function)) is:\n4730: $$\n4731: \n4732:         S_j = S(V_j, V_j) = \\frac{V_j - V_j}{V_j + \\varepsilon_{\\text{clone}}} = 0\n4733: \n4734: \n4735: $$\n4736: *   **Cloning Decision:** The random threshold is sampled $T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})$. Since $p_{\\max} > 0$, the probability of sampling $T_{\\text{clone}}=0$ is zero. The condition for cloning, $S_j > T_{\\text{clone}}$, becomes $0 > T_{\\text{clone}}$, which is false with probability 1.\n4737:     *   **Conclusion:** Walker $j$ is assigned the \"Persist\" action. Its intermediate position is unchanged, $x_j^{(t+0.5)} = x_j^{(t)}$. This proves the first property.\n4738: 2.  **Proof of Dead Walker Revival (Walker **i** where **i ≠ j**):**\n4739:     *   **Companion Selection:** For a dead walker $i$, the companion set is the entire alive set, $\\mathcal{A}(\\mathcal{S}_t)$. Since this set only contains walker $j$, the companion is deterministically $c_{\\text{clone}}(i) = j$.\n4740:     *   **Fitness Potential:** As a dead walker, $V_i=0$. As an alive walker, the companion's potential $V_j$ is strictly positive and bounded below by $V_{\\text{pot,min}} = \\eta^{\\alpha+\\beta}$ ([](#lem-potential-boundedness)).\n4741:     *   **Cloning Score:** The cloning score for walker $i$ is:\n4742: $$\n4743: \n4744:         S_i = S(V_j, 0) = \\frac{V_j - 0}{0 + \\varepsilon_{\\text{clone}}} = \\frac{V_j}{\\varepsilon_{\\text{clone}}}\n4745: \n4746: \n4747: $$\n4748: Using the lower bound for $V_j$, we have a lower bound for the score: $S_i \\ge \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}}}$.\n4749:     *   **Cloning Decision:** The cloning action occurs if $S_i > T_{\\text{clone}}$. We compare the lower bound of the score to the upper bound of the threshold ($p_{\\max}$). The **Axiom of Guaranteed Revival** requires $\\kappa_{\\text{revival}} = \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}} \\cdot p_{\\max}} > 1$. Rearranging this axiom gives:\n4750: $$\n4751: \n4752:         \\frac{\\eta^{\\alpha+\\beta}}{\\varepsilon_{\\text{clone}}} > p_{\\max}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 17,
        "chapter_file": "chapter_17.json",
        "section_id": "## 17. The Revival State: Dynamics at $k=1$"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-final-positional-displacement-bound",
      "title": null,
      "start_line": 4835,
      "end_line": 4851,
      "header_lines": [
        4836
      ],
      "content_start": 4837,
      "content_end": 4850,
      "content": "4837: #### 17.2.2. Sub-Lemma: Bounding the Final Positional Displacement (unconditional)\n4838: :label: lem-final-positional-displacement-bound\n4839: Let $\\mathcal{S}_{1,\\text{clone}}$ and $\\mathcal{S}_{2,\\text{clone}}$ be two intermediate swarms, and let $\\mathcal{S}'_1, \\mathcal{S}'_2$ be the swarms that result from applying the composed Post-Cloning Operator. For any $\\delta\\in(0,1)$, the expected final squared positional displacement admits the unconditional bound\n4840: $$\n4841: \n4842: \\mathbb{E}[\\Delta_{\\text{pos,final}}^2] \\;\\le\\; 3 \\,\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\, + \\, 6\\,B_M(N) \\, + \\, 6\\, D_{\\mathcal{Y}}^2 \\,\\sqrt{\\tfrac{N}{2}\\,\\ln\\!\\big(\\tfrac{2}{\\delta}\\big)} \\, + \\, \\delta\\, N\\, D_{\\mathcal{Y}}^2.\n4843: \n4844: $$\n4845: where $B_M(N)$ is the deterministic Mean Displacement Bound from the Perturbation Operator analysis ([](#def-perturbation-fluctuation-bounds-reproof)).\n4846: :::{prf:proof}\n4847: :label: proof-lem-final-positional-displacement-bound\n4848: **Proof.**\n4849: This follows from the probabilistic continuity of the Perturbation Operator via a standard $\\delta$–split argument. From [](#thm-perturbation-operator-continuity-reproof), with probability at least $1-\\delta$,\n4850: $$",
      "metadata": {
        "label": "proof-lem-final-positional-displacement-bound"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "4835: $$\n4836: where $\\Delta_{\\text{pos,final}}^2$ is the final positional displacement and $n_{c,\\text{final}}$ is the final number of status changes. The subsequent lemmas provide bounds for each of these two terms.\n4837: #### 17.2.2. Sub-Lemma: Bounding the Final Positional Displacement (unconditional)\n4838: :label: lem-final-positional-displacement-bound\n4839: Let $\\mathcal{S}_{1,\\text{clone}}$ and $\\mathcal{S}_{2,\\text{clone}}$ be two intermediate swarms, and let $\\mathcal{S}'_1, \\mathcal{S}'_2$ be the swarms that result from applying the composed Post-Cloning Operator. For any $\\delta\\in(0,1)$, the expected final squared positional displacement admits the unconditional bound\n4840: $$\n4841: \n4842: \\mathbb{E}[\\Delta_{\\text{pos,final}}^2] \\;\\le\\; 3 \\,\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\, + \\, 6\\,B_M(N) \\, + \\, 6\\, D_{\\mathcal{Y}}^2 \\,\\sqrt{\\tfrac{N}{2}\\,\\ln\\!\\big(\\tfrac{2}{\\delta}\\big)} \\, + \\, \\delta\\, N\\, D_{\\mathcal{Y}}^2.\n4843: \n4844: $$\n4845: where $B_M(N)$ is the deterministic Mean Displacement Bound from the Perturbation Operator analysis ([](#def-perturbation-fluctuation-bounds-reproof)).\n4846: :::{prf:proof}\n4847: :label: proof-lem-final-positional-displacement-bound\n4848: **Proof.**\n4849: This follows from the probabilistic continuity of the Perturbation Operator via a standard $\\delta$–split argument. From [](#thm-perturbation-operator-continuity-reproof), with probability at least $1-\\delta$,\n4850: $$\n4851: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-final-status-change-bound",
      "title": null,
      "start_line": 4879,
      "end_line": 4914,
      "header_lines": [
        4880
      ],
      "content_start": 4881,
      "content_end": 4913,
      "content": "4881: ##### 17.2.3.2. Lemma: Bounding the Expected Final Status Change\n4882: :label: lem-final-status-change-bound\n4883: The expected final number of status changes, $\\mathbb{E}[n_{c,\\text{final}}]$, is bounded by a Hölder-continuous function of the *expected* intermediate positional displacement.\n4884: $$\n4885: \n4886: \\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B}\n4887: \n4888: $$\n4889: where $\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2]$ is the expected squared positional displacement between the two intermediate swarms.\n4890: :::{prf:proof}\n4891: :label: proof-lem-final-status-change-bound\n4892: **Proof.**\n4893: The proof establishes the bound by applying the law of total expectation to the result from the **Probabilistic Continuity of the Post-Perturbation Status Update ([](#thm-post-perturbation-status-update-continuity))**.\n4894: 1.  **Apply Law of Total Expectation:**\n4895:     Let the full expectation over all stochastic processes be $\\mathbb{E}[\\cdot]$. Let $\\mathbb{E}_{\\text{pert}}[\\cdot | \\mathcal{S}_{\\text{clone}}]$ be the expectation over the perturbation process, conditioned on a specific realization of the intermediate swarms, $\\mathcal{S}_{\\text{clone}} = (\\mathcal{S}_{1,\\text{clone}}, \\mathcal{S}_{2,\\text{clone}})$.\n4896: $$\n4897: \n4898: \\mathbb{E}[n_{c,\\text{final}}] = \\mathbb{E}_{\\text{clone}} \\left[ \\mathbb{E}_{\\text{pert}}[n_{c,\\text{final}} | \\mathcal{S}_{\\text{clone}}] \\right]\n4899: \n4900: $$\n4901: 2.  **Bound the Inner Expectation:**\n4902:     The inner expectation is bounded by [](#thm-post-perturbation-status-update-continuity). Noting that $d_{\\text{Disp},\\mathcal{Y}}^2 = (1/N)\\Delta_{\\text{pos}}^2$ for the intermediate swarms (since $n_c=0$), we have:\n4903: $$\n4904: \n4905: \\mathbb{E}_{\\text{pert}}[n_{c,\\text{final}} | \\mathcal{S}_{\\text{clone}}] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( \\frac{1}{N} \\Delta_{\\text{pos,clone}}^2 \\right)^{\\alpha_B} = K_{\\text{status},\\text{var}} + C_{\\text{status},H} (\\Delta_{\\text{pos,clone}}^2)^{\\alpha_B}\n4906: \n4907: $$\n4908: 3.  **Take the Outer Expectation:**\n4909:     We take the expectation of this inequality over the distribution of intermediate swarms. By linearity of expectation:\n4910: $$\n4911: \n4912: \\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\cdot \\mathbb{E}_{\\text{clone}}\\left[\\left( \\Delta_{\\text{pos,clone}}^2 \\right)^{\\alpha_B}\\right]\n4913: ",
      "metadata": {
        "label": "proof-lem-final-status-change-bound"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "4879: \n4880: $$\n4881: ##### 17.2.3.2. Lemma: Bounding the Expected Final Status Change\n4882: :label: lem-final-status-change-bound\n4883: The expected final number of status changes, $\\mathbb{E}[n_{c,\\text{final}}]$, is bounded by a Hölder-continuous function of the *expected* intermediate positional displacement.\n4884: $$\n4885: \n4886: \\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B}\n4887: \n4888: $$\n4889: where $\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2]$ is the expected squared positional displacement between the two intermediate swarms.\n4890: :::{prf:proof}\n4891: :label: proof-lem-final-status-change-bound\n4892: **Proof.**\n4893: The proof establishes the bound by applying the law of total expectation to the result from the **Probabilistic Continuity of the Post-Perturbation Status Update ([](#thm-post-perturbation-status-update-continuity))**.\n4894: 1.  **Apply Law of Total Expectation:**\n4895:     Let the full expectation over all stochastic processes be $\\mathbb{E}[\\cdot]$. Let $\\mathbb{E}_{\\text{pert}}[\\cdot | \\mathcal{S}_{\\text{clone}}]$ be the expectation over the perturbation process, conditioned on a specific realization of the intermediate swarms, $\\mathcal{S}_{\\text{clone}} = (\\mathcal{S}_{1,\\text{clone}}, \\mathcal{S}_{2,\\text{clone}})$.\n4896: $$\n4897: \n4898: \\mathbb{E}[n_{c,\\text{final}}] = \\mathbb{E}_{\\text{clone}} \\left[ \\mathbb{E}_{\\text{pert}}[n_{c,\\text{final}} | \\mathcal{S}_{\\text{clone}}] \\right]\n4899: \n4900: $$\n4901: 2.  **Bound the Inner Expectation:**\n4902:     The inner expectation is bounded by [](#thm-post-perturbation-status-update-continuity). Noting that $d_{\\text{Disp},\\mathcal{Y}}^2 = (1/N)\\Delta_{\\text{pos}}^2$ for the intermediate swarms (since $n_c=0$), we have:\n4903: $$\n4904: \n4905: \\mathbb{E}_{\\text{pert}}[n_{c,\\text{final}} | \\mathcal{S}_{\\text{clone}}] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( \\frac{1}{N} \\Delta_{\\text{pos,clone}}^2 \\right)^{\\alpha_B} = K_{\\text{status},\\text{var}} + C_{\\text{status},H} (\\Delta_{\\text{pos,clone}}^2)^{\\alpha_B}\n4906: \n4907: $$\n4908: 3.  **Take the Outer Expectation:**\n4909:     We take the expectation of this inequality over the distribution of intermediate swarms. By linearity of expectation:\n4910: $$\n4911: \n4912: \\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\cdot \\mathbb{E}_{\\text{clone}}\\left[\\left( \\Delta_{\\text{pos,clone}}^2 \\right)^{\\alpha_B}\\right]\n4913: \n4914: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-composite-continuity-bound-recorrected",
      "title": null,
      "start_line": 4997,
      "end_line": 5064,
      "header_lines": [
        4998
      ],
      "content_start": 4999,
      "content_end": 5063,
      "content": "4999: 3.  **The Composite Offset ($K_{\\Psi}(\\mathcal{S}_1, \\mathcal{S}_2)$):** Collect the constants from the positional and status parts and from the cloning bound. With $K_{\\text{pert}}(\\delta)$ from [](#lem-final-positional-displacement-bound), an explicit admissible choice is\n5000: $$\n5001: \n5002:     K_{\\Psi}(\\mathcal{S}_1, \\mathcal{S}_2) := \\frac{K_{\\text{pert}}(\\delta)}{N} + \\frac{\\lambda_{\\mathrm{status}}}{N} K_{\\text{status},\\text{var}} + 3\\, K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2) + \\lambda_{\\mathrm{status}}\\, C_{\\text{status},H}\\, (K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2))^{\\alpha_B}.\n5003: \n5004: \n5005: $$\n5006: ##### 17.2.4.2. Proof of the Composite Continuity Bound\n5007: :label: proof-composite-continuity-bound-recorrected\n5008: :::{prf:proof}\n5009: :label: proof-proof-composite-continuity-bound-recorrected\n5010: **Proof.**\n5011: The proof establishes the final continuity bound by sequentially composing the bounds for the underlying operators. The strategy is to first state the bounds on the final expected displacement in terms of the intermediate (cloning) displacement, and then substitute the bound for the intermediate displacement in terms of the initial displacement.\n5012: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}_{1,\\text{clone}}$ and $\\mathcal{S}_{2,\\text{clone}}$ be the intermediate swarms after the cloning stage, and let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the final output swarms.\n5013: 1.  **Bound the Final Displacement in Terms of the Intermediate State.**\n5014:     The expected final displacement, $\\mathbb{E}[d_{\\text{out}}^2] = \\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2]$, is decomposed into its positional and status components:\n5015: $$\n5016: \n5017:     \\mathbb{E}[d_{\\text{out}}^2] = \\frac{1}{N}\\mathbb{E}[\\Delta_{\\text{pos,final}}^2] + \\frac{\\lambda_{\\mathrm{status}}}{N} \\mathbb{E}[n_{c,\\text{final}}]\n5018: \n5019: \n5020: $$\n5021: We substitute the bounds for these two terms from the preceding lemmas:\n5022:     *   From [](#lem-final-positional-displacement-bound), the positional component is bounded unconditionally: $\\mathbb{E}[\\Delta_{\\text{pos,final}}^2] \\le 3 \\cdot \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] + K_{\\text{pert}}(\\delta)$, where $K_{\\text{pert}}(\\delta) = 6B_M(N) + 6 D_{\\mathcal{Y}}^2 \\sqrt{\\tfrac{N}{2}\\ln(\\tfrac{2}{\\delta})} + \\delta N D_{\\mathcal{Y}}^2$.\n5023:     *   From [](#lem-final-status-change-bound), the status component is bounded: $\\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B}$.\n5024:     Combining these gives:\n5025: $$\n5026: \n5027:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\frac{1}{N} \\left( 3 \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] + K_{\\text{pert}} \\right) + \\frac{\\lambda_{\\mathrm{status}}}{N} \\left( K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B} \\right)\n5028: \n5029: \n5030: $$\n5031: The intermediate swarms have all walkers set to \"alive\", so their displacement metric is purely positional: $V_{\\text{clone}} = d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_{1,\\text{clone}}, \\mathcal{S}_{2,\\text{clone}})^2 = \\frac{1}{N}\\Delta_{\\text{pos,clone}}^2$. Thus, $\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] = N \\cdot \\mathbb{E}[V_{\\text{clone}}]$. Substituting this relation yields a bound in terms of the expected intermediate displacement metric, $\\mathbb{E}[V_{\\text{clone}}]$:\n5032: $$\n5033: \n5034:     \\mathbb{E}[d_{\\text{out}}^2] \\le 3 \\mathbb{E}[V_{\\text{clone}}] + \\frac{K_{\\text{pert}}}{N} + \\frac{\\lambda_{\\mathrm{status}}}{N}K_{\\text{status},\\text{var}} + \\lambda_{\\mathrm{status}} C_{\\text{status},H} \\left(\\mathbb{E}[V_{\\text{clone}}]\\right)^{\\alpha_B}\n5035: \n5036: \n5037: $$\n5038: 2.  **Bound the Intermediate Displacement in Terms of the Initial State.**\n5039:     From the **Mean-Square Continuity of the Cloning Transition Operator** ([](#thm-cloning-transition-operator-continuity-recorrected)), the expected intermediate displacement is bounded by a function of the initial displacement, $V_{\\text{in}}$:\n5040: $$\n5041: \n5042:     \\mathbb{E}[V_{\\text{clone}}] \\le C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)\n5043: \n5044: \n5045: $$\n5046: 3.  **Final Composition and Simplification.**\n5047:     We substitute the bound from Step 2 into the inequality from Step 1. This results in a complex expression containing terms with exponents $1, 1/2, \\alpha_B, \\alpha_B/2$ of $V_{\\text{in}}$. Let's analyze the structure:\n5048: $$\n5049: \n5050:     \\mathbb{E}[d_{\\text{out}}^2] \\le 3 \\left( C_{\\text{clone},L}V_{\\text{in}} + \\dots \\right) + \\lambda_{\\mathrm{status}} C_{\\text{status},H} \\left( C_{\\text{clone},L}V_{\\text{in}} + \\dots \\right)^{\\alpha_B} + (\\text{constant terms})\n5051: \n5052: \n5053: $$\n5054: The expression contains a sum of multiple Hölder terms. For example, the term $(C_{\\text{clone},L}V_{\\text{in}} + C_{\\text{clone},H}\\sqrt{V_{\\text{in}}} + K_{\\text{clone}})^{\\alpha_B}$ can be bounded. By [](#lem-subadditivity-power) (a direct consequence of [](#lem-inequality-toolbox)), for any $\\alpha\\in(0,1]$ and nonnegative $a,b,c$, we have $(a+b+c)^{\\alpha} \\le a^{\\alpha} + b^{\\alpha} + c^{\\alpha}$. Applying this with $\\alpha=\\alpha_B$ gives:\n5055: $$\n5056: \n5057:     (\\dots)^{\\alpha_B} \\le (C_{\\text{clone},L}V_{\\text{in}})^{\\alpha_B} + (C_{\\text{clone},H}\\sqrt{V_{\\text{in}}})^{\\alpha_B} + (K_{\\text{clone}})^{\\alpha_B}\n5058: \n5059: \n5060: $$\n5061: The full expression for $\\mathbb{E}[d_{\\text{out}}^2]$ is therefore bounded by a sum of terms of the form $A_1 V_{\\text{in}} + A_2 \\sqrt{V_{\\text{in}}} + A_3 (V_{\\text{in}})^{\\alpha_B} + A_4 (V_{\\text{in}})^{\\alpha_B/2} + K$, where the coefficients $A_k$ and $K$ are non-negative, state-dependent functions.\n5062: 4.  **Unify the Hölder Terms (case split in $V_{\\text{in}}$).**\n5063:     We now have a bound that is a sum of multiple terms with different exponents: $1, 1/2, \\alpha_B,$ and $\\alpha_B/2$. We apply the corrected global unification from **Sub-Lemma 17.2.4.3**, which distinguishes between the regimes $V_{\\text{in}}\\in[0,1]$ and $V_{\\text{in}}\\ge 1$.",
      "metadata": {
        "label": "proof-proof-composite-continuity-bound-recorrected"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "4997: \n4998: $$\n4999: 3.  **The Composite Offset ($K_{\\Psi}(\\mathcal{S}_1, \\mathcal{S}_2)$):** Collect the constants from the positional and status parts and from the cloning bound. With $K_{\\text{pert}}(\\delta)$ from [](#lem-final-positional-displacement-bound), an explicit admissible choice is\n5000: $$\n5001: \n5002:     K_{\\Psi}(\\mathcal{S}_1, \\mathcal{S}_2) := \\frac{K_{\\text{pert}}(\\delta)}{N} + \\frac{\\lambda_{\\mathrm{status}}}{N} K_{\\text{status},\\text{var}} + 3\\, K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2) + \\lambda_{\\mathrm{status}}\\, C_{\\text{status},H}\\, (K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2))^{\\alpha_B}.\n5003: \n5004: \n5005: $$\n5006: ##### 17.2.4.2. Proof of the Composite Continuity Bound\n5007: :label: proof-composite-continuity-bound-recorrected\n5008: :::{prf:proof}\n5009: :label: proof-proof-composite-continuity-bound-recorrected\n5010: **Proof.**\n5011: The proof establishes the final continuity bound by sequentially composing the bounds for the underlying operators. The strategy is to first state the bounds on the final expected displacement in terms of the intermediate (cloning) displacement, and then substitute the bound for the intermediate displacement in terms of the initial displacement.\n5012: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}_{1,\\text{clone}}$ and $\\mathcal{S}_{2,\\text{clone}}$ be the intermediate swarms after the cloning stage, and let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the final output swarms.\n5013: 1.  **Bound the Final Displacement in Terms of the Intermediate State.**\n5014:     The expected final displacement, $\\mathbb{E}[d_{\\text{out}}^2] = \\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2]$, is decomposed into its positional and status components:\n5015: $$\n5016: \n5017:     \\mathbb{E}[d_{\\text{out}}^2] = \\frac{1}{N}\\mathbb{E}[\\Delta_{\\text{pos,final}}^2] + \\frac{\\lambda_{\\mathrm{status}}}{N} \\mathbb{E}[n_{c,\\text{final}}]\n5018: \n5019: \n5020: $$\n5021: We substitute the bounds for these two terms from the preceding lemmas:\n5022:     *   From [](#lem-final-positional-displacement-bound), the positional component is bounded unconditionally: $\\mathbb{E}[\\Delta_{\\text{pos,final}}^2] \\le 3 \\cdot \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] + K_{\\text{pert}}(\\delta)$, where $K_{\\text{pert}}(\\delta) = 6B_M(N) + 6 D_{\\mathcal{Y}}^2 \\sqrt{\\tfrac{N}{2}\\ln(\\tfrac{2}{\\delta})} + \\delta N D_{\\mathcal{Y}}^2$.\n5023:     *   From [](#lem-final-status-change-bound), the status component is bounded: $\\mathbb{E}[n_{c,\\text{final}}] \\le K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B}$.\n5024:     Combining these gives:\n5025: $$\n5026: \n5027:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\frac{1}{N} \\left( 3 \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] + K_{\\text{pert}} \\right) + \\frac{\\lambda_{\\mathrm{status}}}{N} \\left( K_{\\text{status},\\text{var}} + C_{\\text{status},H} \\left( \\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] \\right)^{\\alpha_B} \\right)\n5028: \n5029: \n5030: $$\n5031: The intermediate swarms have all walkers set to \"alive\", so their displacement metric is purely positional: $V_{\\text{clone}} = d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_{1,\\text{clone}}, \\mathcal{S}_{2,\\text{clone}})^2 = \\frac{1}{N}\\Delta_{\\text{pos,clone}}^2$. Thus, $\\mathbb{E}[\\Delta_{\\text{pos,clone}}^2] = N \\cdot \\mathbb{E}[V_{\\text{clone}}]$. Substituting this relation yields a bound in terms of the expected intermediate displacement metric, $\\mathbb{E}[V_{\\text{clone}}]$:\n5032: $$\n5033: \n5034:     \\mathbb{E}[d_{\\text{out}}^2] \\le 3 \\mathbb{E}[V_{\\text{clone}}] + \\frac{K_{\\text{pert}}}{N} + \\frac{\\lambda_{\\mathrm{status}}}{N}K_{\\text{status},\\text{var}} + \\lambda_{\\mathrm{status}} C_{\\text{status},H} \\left(\\mathbb{E}[V_{\\text{clone}}]\\right)^{\\alpha_B}\n5035: \n5036: \n5037: $$\n5038: 2.  **Bound the Intermediate Displacement in Terms of the Initial State.**\n5039:     From the **Mean-Square Continuity of the Cloning Transition Operator** ([](#thm-cloning-transition-operator-continuity-recorrected)), the expected intermediate displacement is bounded by a function of the initial displacement, $V_{\\text{in}}$:\n5040: $$\n5041: \n5042:     \\mathbb{E}[V_{\\text{clone}}] \\le C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)\n5043: \n5044: \n5045: $$\n5046: 3.  **Final Composition and Simplification.**\n5047:     We substitute the bound from Step 2 into the inequality from Step 1. This results in a complex expression containing terms with exponents $1, 1/2, \\alpha_B, \\alpha_B/2$ of $V_{\\text{in}}$. Let's analyze the structure:\n5048: $$\n5049: \n5050:     \\mathbb{E}[d_{\\text{out}}^2] \\le 3 \\left( C_{\\text{clone},L}V_{\\text{in}} + \\dots \\right) + \\lambda_{\\mathrm{status}} C_{\\text{status},H} \\left( C_{\\text{clone},L}V_{\\text{in}} + \\dots \\right)^{\\alpha_B} + (\\text{constant terms})\n5051: \n5052: \n5053: $$\n5054: The expression contains a sum of multiple Hölder terms. For example, the term $(C_{\\text{clone},L}V_{\\text{in}} + C_{\\text{clone},H}\\sqrt{V_{\\text{in}}} + K_{\\text{clone}})^{\\alpha_B}$ can be bounded. By [](#lem-subadditivity-power) (a direct consequence of [](#lem-inequality-toolbox)), for any $\\alpha\\in(0,1]$ and nonnegative $a,b,c$, we have $(a+b+c)^{\\alpha} \\le a^{\\alpha} + b^{\\alpha} + c^{\\alpha}$. Applying this with $\\alpha=\\alpha_B$ gives:\n5055: $$\n5056: \n5057:     (\\dots)^{\\alpha_B} \\le (C_{\\text{clone},L}V_{\\text{in}})^{\\alpha_B} + (C_{\\text{clone},H}\\sqrt{V_{\\text{in}}})^{\\alpha_B} + (K_{\\text{clone}})^{\\alpha_B}\n5058: \n5059: \n5060: $$\n5061: The full expression for $\\mathbb{E}[d_{\\text{out}}^2]$ is therefore bounded by a sum of terms of the form $A_1 V_{\\text{in}} + A_2 \\sqrt{V_{\\text{in}}} + A_3 (V_{\\text{in}})^{\\alpha_B} + A_4 (V_{\\text{in}})^{\\alpha_B/2} + K$, where the coefficients $A_k$ and $K$ are non-negative, state-dependent functions.\n5062: 4.  **Unify the Hölder Terms (case split in $V_{\\text{in}}$).**\n5063:     We now have a bound that is a sum of multiple terms with different exponents: $1, 1/2, \\alpha_B,$ and $\\alpha_B/2$. We apply the corrected global unification from **Sub-Lemma 17.2.4.3**, which distinguishes between the regimes $V_{\\text{in}}\\in[0,1]$ and $V_{\\text{in}}\\ge 1$.\n5064:     - For $V_{\\text{in}}\\in[0,1]$, every sub-linear power is $\\le 1$ and can be absorbed into a constant.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-subadditivity-power",
      "title": null,
      "start_line": 5074,
      "end_line": 5078,
      "header_lines": [
        5075
      ],
      "content_start": 5076,
      "content_end": 5077,
      "content": "5076: ##### 17.2.4.2a. Lemma: Subadditivity of Fractional Powers\n5077: :label: lem-subadditivity-power",
      "metadata": {
        "label": "proof-lem-subadditivity-power"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5074: **Q.E.D.**\n5075: :::\n5076: ##### 17.2.4.2a. Lemma: Subadditivity of Fractional Powers\n5077: :label: lem-subadditivity-power\n5078: For any $\\alpha\\in(0,1]$ and any nonnegative reals $a_1,\\dots,a_m$, the map $x\\mapsto x^{\\alpha}$ is concave and subadditive on $\\mathbb{R}_{\\ge 0}$. In particular,",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-unify-holder-terms",
      "title": null,
      "start_line": 5089,
      "end_line": 5106,
      "header_lines": [
        5090
      ],
      "content_start": 5091,
      "content_end": 5105,
      "content": "5091: :label: lem-sub-unify-holder-terms\n5092: Let $V\\ge 0$ be a non-negative real number. Let $\\{p_k\\}_{k=1}^M\\subset(0,1]$ be a finite set of exponents and let $\\{A_k\\}_{k=1}^M\\subset[0,\\infty)$ be coefficients. Define the maximal exponent $p_{\\max}:=\\max_k p_k$ and the sum of coefficients $A_\\Sigma:=\\sum_{k=1}^M A_k$.\n5093: Then, uniformly for all $V\\ge 0$, the sum of Hölder terms satisfies the global bound\n5094: $$\n5095: \n5096: \\sum_{k=1}^M A_k\\,V^{p_k} \\;\\le\\; A_\\Sigma\\,\\big(\\,\\mathbf{1}_{[0,1]}(V) + V^{p_{\\max}}\\,\\mathbf{1}_{[1,\\infty)}(V)\\,\\big) \\;\\le\\; A_\\Sigma\\,\\big(1+V^{p_{\\max}}\\big).\n5097: \n5098: $$\n5099: :::\n5100: :::{prf:proof}\n5101: :label: proof-lem-sub-unify-holder-terms\n5102: **Proof (case split).**\n5103: 1. If $V\\in[0,1]$, then $V^{p_k}\\le 1$ for every $k$, hence\n5104: $$\n5105: ",
      "metadata": {
        "label": "proof-lem-sub-unify-holder-terms"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5089: :::\n5090: ##### 17.2.4.3. Sub-Lemma: Unifying Multiple Hölder Terms (global, with case split)\n5091: :label: lem-sub-unify-holder-terms\n5092: Let $V\\ge 0$ be a non-negative real number. Let $\\{p_k\\}_{k=1}^M\\subset(0,1]$ be a finite set of exponents and let $\\{A_k\\}_{k=1}^M\\subset[0,\\infty)$ be coefficients. Define the maximal exponent $p_{\\max}:=\\max_k p_k$ and the sum of coefficients $A_\\Sigma:=\\sum_{k=1}^M A_k$.\n5093: Then, uniformly for all $V\\ge 0$, the sum of Hölder terms satisfies the global bound\n5094: $$\n5095: \n5096: \\sum_{k=1}^M A_k\\,V^{p_k} \\;\\le\\; A_\\Sigma\\,\\big(\\,\\mathbf{1}_{[0,1]}(V) + V^{p_{\\max}}\\,\\mathbf{1}_{[1,\\infty)}(V)\\,\\big) \\;\\le\\; A_\\Sigma\\,\\big(1+V^{p_{\\max}}\\big).\n5097: \n5098: $$\n5099: :::\n5100: :::{prf:proof}\n5101: :label: proof-lem-sub-unify-holder-terms\n5102: **Proof (case split).**\n5103: 1. If $V\\in[0,1]$, then $V^{p_k}\\le 1$ for every $k$, hence\n5104: $$\n5105: \n5106: \\sum_k A_k V^{p_k} \\le \\sum_k A_k = A_\\Sigma.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-prop-w2-bound-no-offset",
      "title": null,
      "start_line": 5136,
      "end_line": 5153,
      "header_lines": [
        5137
      ],
      "content_start": 5138,
      "content_end": 5152,
      "content": "5138: $$\n5139: \n5140: W_2^2\\big(\\Psi(\\mathcal{S}_1,\\cdot),\\,\\Psi(\\mathcal{S}_2,\\cdot)\\big)\n5141: \\;\\le\\; C_{\\Psi,L}(\\mathcal{S}_1,\\mathcal{S}_2)\\, \\overline d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1,\\mathcal{S}_2)^2\n5142: \\;+\\; C_{\\Psi,H}(\\mathcal{S}_1,\\mathcal{S}_2)\\, \\big(\\overline d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1,\\mathcal{S}_2)^2\\big)^{\\alpha_H^{\\mathrm{global}}}.\n5143: \n5144: $$\n5145: In particular, $W_2\\big(\\Psi(\\mathcal{S},\\cdot),\\Psi(\\mathcal{S},\\cdot)\\big)=0$ and the bound is compatible with continuity at zero displacement without an additive constant.\n5146: :::\n5147: :::{prf:proof}\n5148: :label: proof-prop-w2-bound-no-offset\n5149: Fix a probability space $(\\Omega,\\mathcal{F},\\mathbb{P})$ supporting all algorithmic randomness and a measurable update map $F: \\overline{\\Sigma}_N\\times\\Omega\\to\\overline{\\Sigma}_N$ such that $\\Psi(\\mathcal{S},\\cdot)$ is the law of $F(\\mathcal{S},\\Xi)$ for $\\Xi\\sim\\mathbb{P}$. Consider the synchronous coupling\n5150: $$\n5151: \n5152: \\pi_{\\text{sync}} := \\mathcal{L}\\big( F(\\mathcal{S}_1,\\Xi),\\, F(\\mathcal{S}_2,\\Xi) \\big),\\quad \\Xi\\sim\\mathbb{P}.",
      "metadata": {
        "label": "proof-prop-w2-bound-no-offset"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5136: :label: prop-w2-bound-no-offset\n5137: Let $\\mathcal{S}_1,\\mathcal{S}_2\\in\\overline{\\Sigma}_N$ with $k_1=|\\mathcal A(\\mathcal S_1)|\\ge 2$ and let $\\Psi$ be the Swarm Update Operator. Then\n5138: $$\n5139: \n5140: W_2^2\\big(\\Psi(\\mathcal{S}_1,\\cdot),\\,\\Psi(\\mathcal{S}_2,\\cdot)\\big)\n5141: \\;\\le\\; C_{\\Psi,L}(\\mathcal{S}_1,\\mathcal{S}_2)\\, \\overline d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1,\\mathcal{S}_2)^2\n5142: \\;+\\; C_{\\Psi,H}(\\mathcal{S}_1,\\mathcal{S}_2)\\, \\big(\\overline d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1,\\mathcal{S}_2)^2\\big)^{\\alpha_H^{\\mathrm{global}}}.\n5143: \n5144: $$\n5145: In particular, $W_2\\big(\\Psi(\\mathcal{S},\\cdot),\\Psi(\\mathcal{S},\\cdot)\\big)=0$ and the bound is compatible with continuity at zero displacement without an additive constant.\n5146: :::\n5147: :::{prf:proof}\n5148: :label: proof-prop-w2-bound-no-offset\n5149: Fix a probability space $(\\Omega,\\mathcal{F},\\mathbb{P})$ supporting all algorithmic randomness and a measurable update map $F: \\overline{\\Sigma}_N\\times\\Omega\\to\\overline{\\Sigma}_N$ such that $\\Psi(\\mathcal{S},\\cdot)$ is the law of $F(\\mathcal{S},\\Xi)$ for $\\Xi\\sim\\mathbb{P}$. Consider the synchronous coupling\n5150: $$\n5151: \n5152: \\pi_{\\text{sync}} := \\mathcal{L}\\big( F(\\mathcal{S}_1,\\Xi),\\, F(\\mathcal{S}_2,\\Xi) \\big),\\quad \\Xi\\sim\\mathbb{P}.\n5153: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-prop-psi-markov-kernel",
      "title": null,
      "start_line": 5164,
      "end_line": 5169,
      "header_lines": [
        5165
      ],
      "content_start": 5166,
      "content_end": 5168,
      "content": "5166: :label: rem-remark-context-5042\n5167: The offset $K_{\\Psi}$ appearing in the expectation-based bound corresponds to allowing arbitrary (e.g., independent) couplings of the output randomness. When the comparison is made in $W_2$—or, operationally, under synchronous coupling—the artificial offset vanishes at zero input distance, yielding a cleaner continuity statement. The composite constants $C_{\\Psi,L}$ and $C_{\\Psi,H}$ are exactly those defined in [](#def-composite-continuity-coeffs-recorrected) and inherit boundedness/continuity from [](#subsec-coefficient-regularity).\n5168: :::",
      "metadata": {
        "label": "proof-prop-psi-markov-kernel"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5164: :::\n5165: :::{prf:remark}\n5166: :label: rem-remark-context-5042\n5167: The offset $K_{\\Psi}$ appearing in the expectation-based bound corresponds to allowing arbitrary (e.g., independent) couplings of the output randomness. When the comparison is made in $W_2$—or, operationally, under synchronous coupling—the artificial offset vanishes at zero input distance, yielding a cleaner continuity statement. The composite constants $C_{\\Psi,L}$ and $C_{\\Psi,H}$ are exactly those defined in [](#def-composite-continuity-coeffs-recorrected) and inherit boundedness/continuity from [](#subsec-coefficient-regularity).\n5168: :::\n5169: ##### 17.2.4.5. Measurability and Markov Kernel Structure",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-prop-coefficient-regularity",
      "title": null,
      "start_line": 5186,
      "end_line": 5190,
      "header_lines": [
        5187
      ],
      "content_start": 5188,
      "content_end": 5189,
      "content": "5188: :label: prop-coefficient-regularity\n5189: Let $\\mathcal{K}_R\\subset \\Sigma_N\\times\\Sigma_N$ be any set where (i) the number of alive walkers is bounded between 1 and $N$ for both inputs, (ii) positions lie in a common compact subset of $\\mathcal{X}$ under $\\varphi$, and (iii) the aggregator Lipschitz/Hölder functions and the regularized standard deviation parameters remain bounded. Then the state-dependent coefficients",
      "metadata": {
        "label": "proof-prop-coefficient-regularity"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5186: :label: subsec-coefficient-regularity\n5187: :::{prf:proposition} Boundedness and continuity of composite coefficients\n5188: :label: prop-coefficient-regularity\n5189: Let $\\mathcal{K}_R\\subset \\Sigma_N\\times\\Sigma_N$ be any set where (i) the number of alive walkers is bounded between 1 and $N$ for both inputs, (ii) positions lie in a common compact subset of $\\mathcal{X}$ under $\\varphi$, and (iii) the aggregator Lipschitz/Hölder functions and the regularized standard deviation parameters remain bounded. Then the state-dependent coefficients\n5190: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-prop-coefficient-regularity-3",
      "title": null,
      "start_line": 5204,
      "end_line": 5208,
      "header_lines": [
        5205
      ],
      "content_start": 5206,
      "content_end": 5207,
      "content": "5206: ::{prf:lemma} Deterministic continuous maps induce Feller kernels (Meyn–Tweedie)\n5207: If $T: \\Sigma_N\\to\\Sigma_N$ is continuous, then the kernel $\\mathcal{K}_T(\\mathcal{S},\\cdot):=\\delta_{T(\\mathcal{S})}$ is Feller; for every $f\\in C_b(\\Sigma_N)$ the map $\\mathcal{S}\\mapsto \\int f\\,\\mathrm{d}\\mathcal{K}_T(\\mathcal{S},\\cdot)=f\\big(T(\\mathcal{S})\\big)$ is continuous.",
      "metadata": {
        "label": "proof-prop-coefficient-regularity-3"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5204: In particular, on such sublevel sets the $W_2$ continuity bound and the deterministic standardization bounds promote to genuine continuity statements for the composite operators since the constants do not blow up along admissible sequences.\n5205: ##### 17.2.5. Feller property (stagewise and composition)\n5206: ::{prf:lemma} Deterministic continuous maps induce Feller kernels (Meyn–Tweedie)\n5207: If $T: \\Sigma_N\\to\\Sigma_N$ is continuous, then the kernel $\\mathcal{K}_T(\\mathcal{S},\\cdot):=\\delta_{T(\\mathcal{S})}$ is Feller; for every $f\\in C_b(\\Sigma_N)$ the map $\\mathcal{S}\\mapsto \\int f\\,\\mathrm{d}\\mathcal{K}_T(\\mathcal{S},\\cdot)=f\\big(T(\\mathcal{S})\\big)$ is continuous.\n5208: :::{prf:proof}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    },
    {
      "directive_type": "proof",
      "label": "proof-line-5092",
      "title": null,
      "start_line": 5211,
      "end_line": 5215,
      "header_lines": [
        5212
      ],
      "content_start": 5213,
      "content_end": 5214,
      "content": "5213: ::{prf:lemma} Perturbation is Feller (Meyn–Tweedie)\n5214: Assume [](#def-axiom-bounded-second-moment-perturbation) and that $x\\mapsto \\mathcal{P}_\\sigma(x,\\cdot)$ has a continuous density on the algorithmic space. Then the perturbation kernel $\\mathcal{K}_{\\text{pert}}$ is Feller.",
      "metadata": {
        "label": "proof-line-5092"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [],
      "raw_directive": "5211: **Q.E.D.**\n5212: :::\n5213: ::{prf:lemma} Perturbation is Feller (Meyn–Tweedie)\n5214: Assume [](#def-axiom-bounded-second-moment-perturbation) and that $x\\mapsto \\mathcal{P}_\\sigma(x,\\cdot)$ has a continuous density on the algorithmic space. Then the perturbation kernel $\\mathcal{K}_{\\text{pert}}$ is Feller.\n5215: :::{prf:proof}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    }
  ]
}