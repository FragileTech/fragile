{
  "document_id": "01_fragile_gas_framework",
  "stage": "directives",
  "directive_type": "theorem",
  "generated_at": "2025-11-12T22:37:33.891660+00:00",
  "count": 29,
  "items": [
    {
      "directive_type": "theorem",
      "label": "thm-revival-guarantee",
      "title": "Almost‑sure revival under the global constraint",
      "start_line": 631,
      "end_line": 643,
      "header_lines": [
        632
      ],
      "content_start": 633,
      "content_end": 642,
      "content": "633: :::{prf:theorem} Almost‑sure revival under the global constraint\n634: :label: thm-revival-guarantee\n635: Assume the global constraint $\\varepsilon_{\\text{clone}}\\,p_{\\max} < \\eta^{\\alpha+\\beta}$ from the Axiom of Guaranteed Revival ({prf:ref}`axiom-guaranteed-revival`). Let $\\mathcal S$ be any swarm ({prf:ref}`def-swarm-and-state-space`) with at least one alive walker ({prf:ref}`def-walker`) ($|\\mathcal A(\\mathcal S)|\\ge 1$, see {prf:ref}`def-alive-dead-sets`) and let $i\\in\\mathcal D(\\mathcal S)$ be dead. Then, under the cloning rule with threshold $T_{\\text{clone}}\\sim\\mathrm{Unif}(0,p_{\\max})$ and a per‑dead‑walker score $S_i$ computed from an alive companion as in §16.1, we have\n636: \n637: $$\n638: \\mathbb P\\big[\\text{$i$ is revived in the cloning stage}\\big] \\;=\\;1.\n639: \n640: $$\n641: \n642: In particular, $S_i > p_{\\max}$ surely, hence $S_i > T_{\\text{clone}}$ for every threshold realization. The conclusion holds also when $|\\mathcal A(\\mathcal S)|=1$ (single‑survivor case) since the companion selection measure ({prf:ref}`def-companion-selection-measure`) assigns the unique alive index to every dead walker ({prf:ref}`def-walker`).",
      "metadata": {
        "label": "thm-revival-guarantee"
      },
      "section": "## 3. Axiomatic Foundations: A Parametric Debugging Framework",
      "references": [
        "axiom-guaranteed-revival",
        "def-swarm-and-state-space",
        "def-walker",
        "def-alive-dead-sets",
        "def-companion-selection-measure",
        "02_euclidean_gas"
      ],
      "raw_directive": "631: :::\n632: \n633: :::{prf:theorem} Almost‑sure revival under the global constraint\n634: :label: thm-revival-guarantee\n635: Assume the global constraint $\\varepsilon_{\\text{clone}}\\,p_{\\max} < \\eta^{\\alpha+\\beta}$ from the Axiom of Guaranteed Revival ({prf:ref}`axiom-guaranteed-revival`). Let $\\mathcal S$ be any swarm ({prf:ref}`def-swarm-and-state-space`) with at least one alive walker ({prf:ref}`def-walker`) ($|\\mathcal A(\\mathcal S)|\\ge 1$, see {prf:ref}`def-alive-dead-sets`) and let $i\\in\\mathcal D(\\mathcal S)$ be dead. Then, under the cloning rule with threshold $T_{\\text{clone}}\\sim\\mathrm{Unif}(0,p_{\\max})$ and a per‑dead‑walker score $S_i$ computed from an alive companion as in §16.1, we have\n636: \n637: $$\n638: \\mathbb P\\big[\\text{$i$ is revived in the cloning stage}\\big] \\;=\\;1.\n639: \n640: $$\n641: \n642: In particular, $S_i > p_{\\max}$ surely, hence $S_i > T_{\\text{clone}}$ for every threshold realization. The conclusion holds also when $|\\mathcal A(\\mathcal S)|=1$ (single‑survivor case) since the companion selection measure ({prf:ref}`def-companion-selection-measure`) assigns the unique alive index to every dead walker ({prf:ref}`def-walker`).\n643: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 3,
        "chapter_file": "chapter_3.json",
        "section_id": "## 3. Axiomatic Foundations: A Parametric Debugging Framework"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-mean-square-standardization-error",
      "title": "Asymptotic Behavior of the Mean-Square Standardization Error",
      "start_line": 910,
      "end_line": 929,
      "header_lines": [
        911
      ],
      "content_start": 913,
      "content_end": 928,
      "content": "913: :label: thm-mean-square-standardization-error\n914: \n915: The continuity of the **N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)** $z(\\mathcal{S})$ depends on the coupled effects of two distinct error sources ({prf:ref}`def-components-mean-square-standardization-error`) whose expected growth rates are summed.\n916: \n917: *   **Core Principle:** The total **expected** squared error in the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s output, $\\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2]$, is bounded by the sum of the **Expected Squared Value Error** ($E^2_{V,ms}$) and the **Expected Squared Structural Error** ($E^2_{S,ms}$) from {prf:ref}`def-components-mean-square-standardization-error`.\n918: \n919: *   **Mathematical Result (General Form):** For a large number of alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`)s, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, the total expected error has an asymptotic growth rate given by the sum of the growth rates of its two components:\n920: \n921: $$\n922: \\boxed{\n923:     \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\in O(E_{V,ms}^2(k_1)) + O(E_{S,ms}^2(k_1))\n924:     }\n925: \n926: $$\n927: \n928: *   **Implications & Failure Modes:** The overall mean-square continuity of the standardization pipeline is governed by the operational regime of the swarm ({prf:ref}`def-swarm-and-state-space`). The analysis reveals a critical distinction between normal operation and catastrophic collapse.",
      "metadata": {
        "label": "thm-mean-square-standardization-error"
      },
      "section": "## 3. Axiomatic Foundations: A Parametric Debugging Framework",
      "references": [
        "def-standardization-operator-n-dimensional",
        "def-components-mean-square-standardization-error",
        "def-alive-dead-sets",
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "910: The following theorem, which is a key result of the analysis in Section 11, establishes the asymptotic behavior of these error components.\n911: \n912: :::{prf:theorem} Asymptotic Behavior of the Mean-Square Standardization Error\n913: :label: thm-mean-square-standardization-error\n914: \n915: The continuity of the **N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)** $z(\\mathcal{S})$ depends on the coupled effects of two distinct error sources ({prf:ref}`def-components-mean-square-standardization-error`) whose expected growth rates are summed.\n916: \n917: *   **Core Principle:** The total **expected** squared error in the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s output, $\\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2]$, is bounded by the sum of the **Expected Squared Value Error** ($E^2_{V,ms}$) and the **Expected Squared Structural Error** ($E^2_{S,ms}$) from {prf:ref}`def-components-mean-square-standardization-error`.\n918: \n919: *   **Mathematical Result (General Form):** For a large number of alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`)s, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, the total expected error has an asymptotic growth rate given by the sum of the growth rates of its two components:\n920: \n921: $$\n922: \\boxed{\n923:     \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\in O(E_{V,ms}^2(k_1)) + O(E_{S,ms}^2(k_1))\n924:     }\n925: \n926: $$\n927: \n928: *   **Implications & Failure Modes:** The overall mean-square continuity of the standardization pipeline is governed by the operational regime of the swarm ({prf:ref}`def-swarm-and-state-space`). The analysis reveals a critical distinction between normal operation and catastrophic collapse.\n929:     1.  **Regime 1: Normal Operation (Asymptotically Stable):** Under normal conditions where walker ({prf:ref}`def-walker`) attrition is low and the number of status changes ($n_c$) is small, the structural error term is negligible. The dominant error is the **expected value error**, which, for the benchmark case of an empirical aggregator and distance-to-companion measurement, **is constant with respect to swarm size** ($E^2_{V,ms} \\in O(1)$). This is a powerful result, indicating that under stable conditions, the algorithm's average measurement process **does not become noisier as the swarm gets larger**. The primary bottleneck for stability in this regime is not swarm size but the **extreme sensitivity to the regularization parameter**, as all error sources are amplified by a factor of up to **$O(\\varepsilon_{\\text{std}}^{-6})$**.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 3,
        "chapter_file": "chapter_3.json",
        "section_id": "## 3. Axiomatic Foundations: A Parametric Debugging Framework"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-forced-activity",
      "title": "Theorem of Forced Activity",
      "start_line": 1015,
      "end_line": 1036,
      "header_lines": [
        1016,
        1021,
        1022
      ],
      "content_start": 1018,
      "content_end": 1035,
      "content": "1018: :label: thm-forced-activity\n1019: \n1020: This theorem demonstrates that {prf:ref}`axiom-guaranteed-revival` ensures all walker ({prf:ref}`def-walker`)s eventually become active during the cloning process.\n1021: \n1022: :::{admonition} The \"No Stagnation\" Guarantee\n1023: :class: important\n1024: :open:\n1025: This theorem is beautiful because it guarantees the swarm ({prf:ref}`def-swarm-and-state-space`) can never get completely stuck! Here's the intuition:\n1026: \n1027: **The Setup**: If you have:\n1028: 1. **Spread out walker ({prf:ref}`def-walker`)s** (covering enough space to sense reward differences)\n1029: 2. **Rich environment** (reward actually varies across space)\n1030: 3. **Non-zero amplification** (the algorithm pays attention to rewards)\n1031: 4. **Some noise** (walker ({prf:ref}`def-walker`)s can explore)\n1032: \n1033: **The Conclusion**: Then some cloning MUST happen - the swarm ({prf:ref}`def-swarm-and-state-space`) can't just sit still.\n1034: \n1035: **Why it works**: Spread-out walker ({prf:ref}`def-walker`)s in a rich environment will experience different rewards. This creates fitness differences. With amplification > 0, these differences get magnified into different cloning probabilities. Someone will always be \"fit enough\" to clone, keeping the swarm active.",
      "metadata": {
        "label": "thm-forced-activity",
        "class": "important",
        "open": ""
      },
      "section": "## 3. Axiomatic Foundations: A Parametric Debugging Framework",
      "references": [
        "axiom-guaranteed-revival",
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "1015: For the algorithm's adaptive and contractive forces to function, a swarm ({prf:ref}`def-swarm-and-state-space`) that is not collapsed to a single point must generate a non-zero probability of cloning. This is the engine of adaptation.\n1016: \n1017: :::{prf:theorem} Theorem of Forced Activity\n1018: :label: thm-forced-activity\n1019: \n1020: This theorem demonstrates that {prf:ref}`axiom-guaranteed-revival` ensures all walker ({prf:ref}`def-walker`)s eventually become active during the cloning process.\n1021: \n1022: :::{admonition} The \"No Stagnation\" Guarantee\n1023: :class: important\n1024: :open:\n1025: This theorem is beautiful because it guarantees the swarm ({prf:ref}`def-swarm-and-state-space`) can never get completely stuck! Here's the intuition:\n1026: \n1027: **The Setup**: If you have:\n1028: 1. **Spread out walker ({prf:ref}`def-walker`)s** (covering enough space to sense reward differences)\n1029: 2. **Rich environment** (reward actually varies across space)\n1030: 3. **Non-zero amplification** (the algorithm pays attention to rewards)\n1031: 4. **Some noise** (walker ({prf:ref}`def-walker`)s can explore)\n1032: \n1033: **The Conclusion**: Then some cloning MUST happen - the swarm ({prf:ref}`def-swarm-and-state-space`) can't just sit still.\n1034: \n1035: **Why it works**: Spread-out walker ({prf:ref}`def-walker`)s in a rich environment will experience different rewards. This creates fitness differences. With amplification > 0, these differences get magnified into different cloning probabilities. Someone will always be \"fit enough\" to clone, keeping the swarm active.\n1036: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 3,
        "chapter_file": "chapter_3.json",
        "section_id": "## 3. Axiomatic Foundations: A Parametric Debugging Framework"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-total-error-status-bound",
      "title": "Total Error Bound in Terms of Status Changes",
      "start_line": 1648,
      "end_line": 1660,
      "header_lines": [
        1649
      ],
      "content_start": 1650,
      "content_end": 1659,
      "content": "1650: :label: thm-total-error-status-bound\n1651: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, and for a given walker ({prf:ref}`def-walker`) $i$, let $S_1$ and $S_2$ be its companion support sets, with $|S_1| > 0$. Let the status of each potential companion $j$ be given by $s_{1,j}$ and $s_{2,j}$ in the respective swarms. Let $f_j = f(x_{2,j})$ be a function bounded by $M_f$. Let $n_c$ be the total number of status changes in the swarm.\n1652: The total error $E = |\\mathbb{E}_{j \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[f_j] - \\mathbb{E}_{j \\sim \\mathbb{C}_i(\\mathcal{S}_2)}[f_j]|$ is bounded by:\n1653: \n1654: $$\n1655: \n1656: E \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n1657: \n1658: $$\n1659: ",
      "metadata": {
        "label": "thm-total-error-status-bound"
      },
      "section": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)",
      "references": [
        "def-swarm-and-state-space",
        "def-walker",
        "02_euclidean_gas",
        "09_kl_convergence"
      ],
      "raw_directive": "1648: #### 7.2.3 Theorem: Total Error Bound in Terms of Status Changes\n1649: :::{prf:theorem} Total Error Bound in Terms of Status Changes\n1650: :label: thm-total-error-status-bound\n1651: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, and for a given walker ({prf:ref}`def-walker`) $i$, let $S_1$ and $S_2$ be its companion support sets, with $|S_1| > 0$. Let the status of each potential companion $j$ be given by $s_{1,j}$ and $s_{2,j}$ in the respective swarms. Let $f_j = f(x_{2,j})$ be a function bounded by $M_f$. Let $n_c$ be the total number of status changes in the swarm.\n1652: The total error $E = |\\mathbb{E}_{j \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[f_j] - \\mathbb{E}_{j \\sim \\mathbb{C}_i(\\mathcal{S}_2)}[f_j]|$ is bounded by:\n1653: \n1654: $$\n1655: \n1656: E \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n1657: \n1658: $$\n1659: \n1660: This general error bound is applied in {prf:ref}`02_euclidean_gas` for distance operator analysis and in {prf:ref}`09_kl_convergence` for KL-divergence convergence proofs.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-rescale-function-lipschitz",
      "title": "Global Lipschitz Continuity of the Smlipschitz ({prf:ref}`axiom-reward-regularity`)`axiom-boundary-smoothness`)Function",
      "start_line": 2051,
      "end_line": 2065,
      "header_lines": [
        2052
      ],
      "content_start": 2053,
      "content_end": 2064,
      "content": "2053: :label: thm-rescale-function-lipschitz\n2054: The **SLipschitz ({prf:ref}`axiom-reward-regularity`)scale Function** $g_A(z)$ is globally Lipschitz continuous on $\\mathbb{R}$. Its Lipschitz constant, $L_{g_A}$, is the supremum of the absolute value of its first derivative, and is given by:\n2055: \n2056: $$\n2057: \n2058: \\boxed{\n2059: L_{g_A} = \\sup_{z \\in \\mathbb{R}} |g'_A(z)| = L_P = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)} \\approx 1.0054\n2060: }\n2061: \n2062: $$\n2063: where $L_P$ is the uniform upper bound on the derivative of the polynomial patch from {prf:ref}`lem-cubic-patch-derivative-bounds`.\n2064: ",
      "metadata": {
        "label": "thm-rescale-function-lipschitz"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-reward-regularity",
        "lem-cubic-patch-derivative-bounds",
        "02_euclidean_gas"
      ],
      "raw_directive": "2051: ##### 8.2.2.7 Theorem: Global Lipschitz Continuity of the Smooth Rescale Function ({prf:ref}`def-axiom-rescale-function`)\n2052: :::{prf:theorem} Global Lipschitz Continuity of the Smlipschitz ({prf:ref}`axiom-reward-regularity`)`axiom-boundary-smoothness`)Function\n2053: :label: thm-rescale-function-lipschitz\n2054: The **SLipschitz ({prf:ref}`axiom-reward-regularity`)scale Function** $g_A(z)$ is globally Lipschitz continuous on $\\mathbb{R}$. Its Lipschitz constant, $L_{g_A}$, is the supremum of the absolute value of its first derivative, and is given by:\n2055: \n2056: $$\n2057: \n2058: \\boxed{\n2059: L_{g_A} = \\sup_{z \\in \\mathbb{R}} |g'_A(z)| = L_P = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)} \\approx 1.0054\n2060: }\n2061: \n2062: $$\n2063: where $L_P$ is the uniform upper bound on the derivative of the polynomial patch from {prf:ref}`lem-cubic-patch-derivative-bounds`.\n2064: \n2065: This Lipschitz continuity result enables the standardization and rescale continuity analysis in {prf:ref}`02_euclidean_gas`.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-canonical-logistic-validity",
      "title": "The Canonical Logistic Function is a Valid Rescale Function",
      "start_line": 2182,
      "end_line": 2185,
      "header_lines": [
        2183
      ],
      "content_start": 2184,
      "content_end": 2184,
      "content": "2184: :label: thm-canonical-logistic-validity",
      "metadata": {
        "label": "thm-canonical-logistic-validity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "def-axiom-rescale-function",
        "def-canonical-logistic-rescale-function-example",
        "axiom-boundary-smoothness"
      ],
      "raw_directive": "2182: #### 8.3.2. Theorem: The Canonical Logistic Function is a Valid Rescale Function ({prf:ref}`def-axiom-rescale-function`)\n2183: :::{prf:theorem} The Canonical Logistic Function is a Valid Rescale Function\n2184: :label: thm-canonical-logistic-validity\n2185: The **Canonical Logistic Rescale Function ({prf:ref}`def-axiom-rescale-function`)** defined in {prf:ref}`def-canonical-logistic-rescale-function-example` satisfies all four conditions of the **Axiom of a Well-Behaveboundary ({prf:ref}`axiom-boundary-smoothness`)on**.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-total-expected-distance-error-decomposition",
      "title": "Decomposition of the Total Squared Error",
      "start_line": 2368,
      "end_line": 2377,
      "header_lines": [
        2369
      ],
      "content_start": 2371,
      "content_end": 2376,
      "content": "2371: \n2372: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared difference between their expected raw distance vectors is the sum of the squared differences over all walker ({prf:ref}`def-walker`)s. This sum can be partitioned into a sum over the set of *stable walkers*, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and a sum over the set of *unstable walkers*, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$.\n2373: \n2374: $$\n2375: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Stable Walker ({prf:ref}`def-walker`)s}} + \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Unstable Walkers}}\n2376: ",
      "metadata": {
        "label": "thm-total-expected-distance-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2368: \n2369: :::{prf:theorem} Decomposition of the Total Squared Error\n2370: :label: thm-total-expected-distance-error-decomposition\n2371: \n2372: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared difference between their expected raw distance vectors is the sum of the squared differences over all walker ({prf:ref}`def-walker`)s. This sum can be partitioned into a sum over the set of *stable walkers*, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and a sum over the set of *unstable walkers*, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$.\n2373: \n2374: $$\n2375: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Stable Walker ({prf:ref}`def-walker`)s}} + \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Unstable Walkers}}\n2376: \n2377: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-expected-raw-distance-bound",
      "title": "Bound on the Expected Raw Distance Vector Change",
      "start_line": 2749,
      "end_line": 2759,
      "header_lines": [
        2750
      ],
      "content_start": 2751,
      "content_end": 2758,
      "content": "2751: :label: thm-expected-raw-distance-bound\n2752: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ be the $N$-dimensional vector of expected raw distances.\n2753: The squared Euclidean distance between the expected raw distance vectors of the two swarms is deterministically bounded by a function of the displacement component ({prf:ref}`def-displacement-components`)mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(1)} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2754: \n2755: $$\n2756: where the **Expected Distance Error Coefficients** are defined as:\n2757: *   $C_{\\text{pos},d} := 12$\n2758: *   $C_{\\text{status},d}^{(1)} := D_{\\mathcal{Y}}^2$",
      "metadata": {
        "label": "thm-expected-raw-distance-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-displacement-components"
      ],
      "raw_directive": "2749: This theorem consolidates the error bounds from the preceding lemmas to establish a deterministic bound on the change of the *expected* raw distance vector. This bound is expressed as a function of the formal displacement components ([](#def-displacement-components)) and serves as the deterministic part of the continuity axiom for the distance operator.\n2750: :::{prf:theorem} Bound on the Expected Raw Distance Vector Change\n2751: :label: thm-expected-raw-distance-bound\n2752: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ be the $N$-dimensional vector of expected raw distances.\n2753: The squared Euclidean distance between the expected raw distance vectors of the two swarms is deterministically bounded by a function of the displacement component ({prf:ref}`def-displacement-components`)mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(1)} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2754: \n2755: $$\n2756: where the **Expected Distance Error Coefficients** are defined as:\n2757: *   $C_{\\text{pos},d} := 12$\n2758: *   $C_{\\text{status},d}^{(1)} := D_{\\mathcal{Y}}^2$\n2759: *   $C_{\\text{status},d}^{(2)}(k_1) := \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2}$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-expected-raw-distance-k1",
      "title": "Deterministic Behavior of the Expected Raw Distance Vector at $k=1$",
      "start_line": 2773,
      "end_line": 2790,
      "header_lines": [
        2774
      ],
      "content_start": 2775,
      "content_end": 2789,
      "content": "2775: :label: thm-expected-raw-distance-k1\n2776: Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) state with exactly one alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`), $|\\mathcal{A}(\\mathcal{S})| = 1$. The N-dimensional vector of expected raw distances, $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$, is deterministically the zero vector.\n2777: \n2778: $$\n2779: \n2780: |\\mathcal{A}(\\mathcal{S})| = 1 \\implies \\mathbb{E}[\\mathbf{d}(\\mathcal{S})] = \\mathbf{0}\n2781: \n2782: $$\n2783: **Implication for Continuity:**\n2784: Any transition between a state $\\mathcal{S}_1$ with $|\\mathcal{A}(\\mathcal{S}_1)| \\ge 2$ and a state $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_2)| = 1$ induces a discontinuous change in the expected raw distance vector. The magnitude of this change is not governed by the Lipschitz bounds derived for the $k \\geq 2$ regime, but is instead given by the norm of the vector in the $k \\geq 2$ state:\n2785: \n2786: $$\n2787: \n2788: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] \\|_2^2\n2789: ",
      "metadata": {
        "label": "thm-expected-raw-distance-k1"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2773: The continuity analysis in the preceding sections is expressly valid for the $k \\geq 2$ regime. When the number of alive walker ({prf:ref}`def-walker`)s becomes one, the diversity measurement mechanism behaves in a fundamentally different, deterministic manner. The following theorem formally describes this behavior.\n2774: :::{prf:theorem} Deterministic Behavior of the Expected Raw Distance Vector at $k=1$\n2775: :label: thm-expected-raw-distance-k1\n2776: Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) state with exactly one alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`), $|\\mathcal{A}(\\mathcal{S})| = 1$. The N-dimensional vector of expected raw distances, $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$, is deterministically the zero vector.\n2777: \n2778: $$\n2779: \n2780: |\\mathcal{A}(\\mathcal{S})| = 1 \\implies \\mathbb{E}[\\mathbf{d}(\\mathcal{S})] = \\mathbf{0}\n2781: \n2782: $$\n2783: **Implication for Continuity:**\n2784: Any transition between a state $\\mathcal{S}_1$ with $|\\mathcal{A}(\\mathcal{S}_1)| \\ge 2$ and a state $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_2)| = 1$ induces a discontinuous change in the expected raw distance vector. The magnitude of this change is not governed by the Lipschitz bounds derived for the $k \\geq 2$ regime, but is instead given by the norm of the vector in the $k \\geq 2$ state:\n2785: \n2786: $$\n2787: \n2788: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] \\|_2^2\n2789: \n2790: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-distance-operator-satisfies-bounded-variance-axiom",
      "title": "The Distance Operator Satisfies the Bounded Variance Axiom",
      "start_line": 2817,
      "end_line": 2829,
      "header_lines": [
        2818
      ],
      "content_start": 2819,
      "content_end": 2828,
      "content": "2819: :label: thm-distance-operator-satisfies-bounded-variance-axiom\n2820: This theorem validates that {prf:ref}`def-distance-to-companion-measurement` satisfies {prf:ref}`axiom-bounded-measurement-variance`.\n2821: \n2822: The **Distance-to-Companion Measurement** operator ($V=d$) satisfies the **Axiom of Bounded Measurement Variance ([](#axiom-bounded-measurement-variance))**. Its maximum measurement variance is deterministically bounded by:\n2823: \n2824: $$\n2825: \n2826: \\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2\n2827: \n2828: $$",
      "metadata": {
        "label": "thm-distance-operator-satisfies-bounded-variance-axiom"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-distance-to-companion-measurement",
        "axiom-bounded-measurement-variance",
        "def-walker",
        "axiom-bounded-algorithmic-diameter",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2817: First, we must prove that our specific stochastic measurement process—the distance-to-companion operator—is compliant with the foundational axiom for bounded variance.\n2818: :::{prf:theorem} The Distance Operator Satisfies the Bounded Variance Axiom\n2819: :label: thm-distance-operator-satisfies-bounded-variance-axiom\n2820: This theorem validates that {prf:ref}`def-distance-to-companion-measurement` satisfies {prf:ref}`axiom-bounded-measurement-variance`.\n2821: \n2822: The **Distance-to-Companion Measurement** operator ($V=d$) satisfies the **Axiom of Bounded Measurement Variance ([](#axiom-bounded-measurement-variance))**. Its maximum measurement variance is deterministically bounded by:\n2823: \n2824: $$\n2825: \n2826: \\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2\n2827: \n2828: $$\n2829: where $N$ is the total number of walker ({prf:ref}`def-walker`)s and $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`).",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-distance-operator-mean-square-continuity",
      "title": "Mean-Square Continuity of the Distance Operator",
      "start_line": 2859,
      "end_line": 2879,
      "header_lines": [
        2860
      ],
      "content_start": 2861,
      "content_end": 2878,
      "content": "2861: :label: thm-distance-operator-mean-square-continuity\n2862: The **Distance-to-Companion Measurement** operator ($V=d$) is mean-square continuous for transitions in the $k \\geq 2$ regime. For any two swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$, the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by the function $F_{d,ms}$:\n2863: \n2864: $$\n2865: \n2866: \\mathbb{E}[\\|\\mathbf{d}(\\mathcal{S}_1) - \\mathbf{d}(\\mathcal{S}_2)\\|_2^2] \\le F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n2867: \n2868: $$\n2869: where the **Expected Squared Distance Error Bound** is defined as:\n2870: \n2871: $$\n2872: \n2873: \\boxed{\n2874: F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2) := 6 N D_{\\mathcal{Y}}^2 + 3 \\left( C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2 \\right)\n2875: }\n2876: \n2877: $$\n2878: and the coefficients $C_{\\dots,d}$ are the deterministic **Expected Distance Error Coefficients** from [](#thm-distance-operator-mean-square-continuity).",
      "metadata": {
        "label": "thm-distance-operator-mean-square-continuity"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-raw-value-operator",
        "def-standardization-operator-n-dimensional"
      ],
      "raw_directive": "2859: With the variance of the distance operator now axiomatically bounded, we can establish its mean-square continuity. This theorem provides the deterministic function that bounds the expected squared error, which is the critical input for the rest of the stability analysis.\n2860: :::{prf:theorem} Mean-Square Continuity of the Distance Operator\n2861: :label: thm-distance-operator-mean-square-continuity\n2862: The **Distance-to-Companion Measurement** operator ($V=d$) is mean-square continuous for transitions in the $k \\geq 2$ regime. For any two swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$, the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by the function $F_{d,ms}$:\n2863: \n2864: $$\n2865: \n2866: \\mathbb{E}[\\|\\mathbf{d}(\\mathcal{S}_1) - \\mathbf{d}(\\mathcal{S}_2)\\|_2^2] \\le F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n2867: \n2868: $$\n2869: where the **Expected Squared Distance Error Bound** is defined as:\n2870: \n2871: $$\n2872: \n2873: \\boxed{\n2874: F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2) := 6 N D_{\\mathcal{Y}}^2 + 3 \\left( C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2 \\right)\n2875: }\n2876: \n2877: $$\n2878: and the coefficients $C_{\\dots,d}$ are the deterministic **Expected Distance Error Coefficients** from [](#thm-distance-operator-mean-square-continuity).\n2879: With the explicit derivation of this function, we have formally proven that the Distance-to-Companion operator is a valid raw value ({prf:ref}`def-raw-value-operator`) operator that satisfies the **Axiom of Mean-Square Continuity for Raw Values**. This function will now be used as a direct input to the continuity analysis of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`).",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-z-score-norm-bound",
      "title": "General Bound on the Norm of the Standardized Vector",
      "start_line": 3114,
      "end_line": 3126,
      "header_lines": [
        3115
      ],
      "content_start": 3116,
      "content_end": 3125,
      "content": "3116: :::\n3117: :::{prf:proof}\n3118: :label: proof-lem-stats-structural-continuity\n3119: **Proof.**\n3120: The proof is identical in structure to that of [](#lem-stats-value-continuity), but it uses the structural continuity functions ($L_{\\mu,S}$, $L_{m_2,S}$) from the aggregator axiom instead of the value-based Lipschitz constants. The change in variance due to structure is first shown to be bounded by $(L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max} L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2)) \\|\\mathbf{s}_1-\\mathbf{s}_2\\|_2^2$. This is then composed with the globally Lipschitz function $\\sigma\\'_{\\text{reg}}(\\cdot)$ (with Lipschitz constant $L_{\\sigma\\'_{\\text{reg}}}$), yielding the final result for $L_{\\sigma',S}$.\n3121: **Q.E.D.**\n3122: :::\n3123: #### 11.1.4 Theorem: General Bound on the Norm of the Standardized Vector\n3124: A key property of the standardization process is that the magnitude of the resulting standardized vector is algebraically bounded, regardless of the specific aggregation operator used, provided the operator produces a mean within the range of the input values. The following theorem establishes a universal bound for the squared L2-norm of this vector. This general result is crucial for obtaining robust continuity bounds for the full operator pipeline.\n3125: :::{prf:theorem} General Bound on the Norm of the Standardized Vector",
      "metadata": {
        "label": "thm-z-score-norm-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker",
        "02_euclidean_gas"
      ],
      "raw_directive": "3114: \n3115: This structural continuity lemma is applied in {prf:ref}`02_euclidean_gas` for analyzing standardization error with respect to walker ({prf:ref}`def-walker`) status changes.\n3116: :::\n3117: :::{prf:proof}\n3118: :label: proof-lem-stats-structural-continuity\n3119: **Proof.**\n3120: The proof is identical in structure to that of [](#lem-stats-value-continuity), but it uses the structural continuity functions ($L_{\\mu,S}$, $L_{m_2,S}$) from the aggregator axiom instead of the value-based Lipschitz constants. The change in variance due to structure is first shown to be bounded by $(L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max} L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2)) \\|\\mathbf{s}_1-\\mathbf{s}_2\\|_2^2$. This is then composed with the globally Lipschitz function $\\sigma\\'_{\\text{reg}}(\\cdot)$ (with Lipschitz constant $L_{\\sigma\\'_{\\text{reg}}}$), yielding the final result for $L_{\\sigma',S}$.\n3121: **Q.E.D.**\n3122: :::\n3123: #### 11.1.4 Theorem: General Bound on the Norm of the Standardized Vector\n3124: A key property of the standardization process is that the magnitude of the resulting standardized vector is algebraically bounded, regardless of the specific aggregation operator used, provided the operator produces a mean within the range of the input values. The following theorem establishes a universal bound for the squared L2-norm of this vector. This general result is crucial for obtaining robust continuity bounds for the full operator pipeline.\n3125: :::{prf:theorem} General Bound on the Norm of the Standardized Vector\n3126: :label: thm-z-score-norm-bound",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-asymptotic-std-dev-structural-continuity",
      "title": "Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation",
      "start_line": 3182,
      "end_line": 3199,
      "header_lines": [
        3183
      ],
      "content_start": 3184,
      "content_end": 3198,
      "content": "3184: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3185: \n3186: $$\n3187: \n3188: This provides a general bound on the norm of the standardized vector that is valid for any compliant aggregation operator.\n3189: **Q.E.D.**\n3190: :::\n3191: #### 11.1.5 Asymptotic Behavior of Moment Continuity\n3192: The axiomatic structural growth exponents ($p_{\\mu,S}, p_{m_2,S}$) of an aggregation operator determine the asymptotic behavior of the continuity for the derived statistical moments. The following theorem establishes how these base exponents propagate to the regularized standard deviation function, a critical step in analyzing the system's stability for large swarms.\n3193: :::{prf:theorem} Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation\n3194: :label: thm-asymptotic-std-dev-structural-continuity\n3195: Let the chosen swarm ({prf:ref}`def-swarm-and-state-space`) aggregation operatorLipschitz ({prf:ref}`axiom-reward-regularity`)al growth exponents $p_{\\mu,S}$ and $p_{m_2,S}$ for its mean and second moment, respectively, as defined in [](#def-swarm-aggregation-operator-axiomatic) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) ({prf:ref}`axiom-reward-regularity`). Let $L_{\\sigma',S}(\\mathcal{S})$ be the structural Lipschitz function for the regularized standard deviation, as derived in [](#lem-stats-structural-continuity).\n3196: The asymptotic behavior of this function for large swarm ({prf:ref}`def-swarm-and-state-space`) size $k = |\\mathcal{A}(\\mathcal{S})|$ is determined by the larger of the two structural growth exponents. Let the worst-case exponent be:\n3197: \n3198: $$",
      "metadata": {
        "label": "thm-asymptotic-std-dev-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "axiom-reward-regularity",
        "def-alive-dead-sets"
      ],
      "raw_directive": "3182: \n3183: $$\n3184: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3185: \n3186: $$\n3187: \n3188: This provides a general bound on the norm of the standardized vector that is valid for any compliant aggregation operator.\n3189: **Q.E.D.**\n3190: :::\n3191: #### 11.1.5 Asymptotic Behavior of Moment Continuity\n3192: The axiomatic structural growth exponents ($p_{\\mu,S}, p_{m_2,S}$) of an aggregation operator determine the asymptotic behavior of the continuity for the derived statistical moments. The following theorem establishes how these base exponents propagate to the regularized standard deviation function, a critical step in analyzing the system's stability for large swarms.\n3193: :::{prf:theorem} Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation\n3194: :label: thm-asymptotic-std-dev-structural-continuity\n3195: Let the chosen swarm ({prf:ref}`def-swarm-and-state-space`) aggregation operatorLipschitz ({prf:ref}`axiom-reward-regularity`)al growth exponents $p_{\\mu,S}$ and $p_{m_2,S}$ for its mean and second moment, respectively, as defined in [](#def-swarm-aggregation-operator-axiomatic) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) ({prf:ref}`axiom-reward-regularity`). Let $L_{\\sigma',S}(\\mathcal{S})$ be the structural Lipschitz function for the regularized standard deviation, as derived in [](#lem-stats-structural-continuity).\n3196: The asymptotic behavior of this function for large swarm ({prf:ref}`def-swarm-and-state-space`) size $k = |\\mathcal{A}(\\mathcal{S})|$ is determined by the larger of the two structural growth exponents. Let the worst-case exponent be:\n3197: \n3198: $$\n3199: p_{\\text{worst-case}} := \\max(p_{\\mu,S}, p_{m_2,S})",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-standardization-operator-unified-mean-square-continuity",
      "title": "Decomposition of Mean-Square Standardization Error",
      "start_line": 3251,
      "end_line": 3263,
      "header_lines": [
        3252
      ],
      "content_start": 3254,
      "content_end": 3262,
      "content": "3254: The analysis of the **N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)**, $z(S, V, M)$, is central to the framework's stability. While the patched definition of the operator using the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)) also satisfies a stronger deterministic Lipschitz continuity property (proven in Section 11.3), the analysis of its **mean-square continuity** is preserved here. This is for two primary reasons: first, the mean-square framework provides a more detailed, component-wise analysis of error propagation from different sources (value vs. structure); second, the resulting bounds on the *average* error are often tighter and more representative of the system's typical behavior in non-degenerate regimes than the bounds derived from a worst-case deterministic analysis.\n3255: The following sections provide a rigorous, self-contained proof of the operator's mean-square continuity. The proof is valid for any aggregation operator satisfying the axiomatic requirements of [](#def-swarm-aggregation-operator-axiomatic) and any raw value operator ({prf:ref}`def-raw-value-operator`) that is proven to be mean-square continuous (e.g., the distance operator from [](#thm-distance-operator-mean-square-continuity)).\n3256: The strategy is to decompose the total expected squared error into its two fundamental sources:\n3257: 1.  **Value-Induced Error:** The error resulting from the change in the raw value vector ($v_1 \\to v_2$) while holding the swarm's structure constant.\n3258: 2.  **Structure-Induced Error:** The error resulting from the change in the swarm's structure ($S_1 \\to S_2$) for a given raw value vector.\n3259: By bounding the expectation of these two components separately, we establish a unified and robust mean-square continuity bound for the entire operator.\n3260: #### 11.2.1. Theorem: Decomposition of Mean-Square Standardization Error\n3261: \n3262: :::{prf:theorem} Decomposition of Mean-Square Standardization Error",
      "metadata": {
        "label": "thm-standardization-operator-unified-mean-square-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "def-raw-value-operator"
      ],
      "raw_directive": "3251: **Q.E.D.**\n3252: :::\n3253: ### 11.2. Mean-Square Continuity of the Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)\n3254: The analysis of the **N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)**, $z(S, V, M)$, is central to the framework's stability. While the patched definition of the operator using the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)) also satisfies a stronger deterministic Lipschitz continuity property (proven in Section 11.3), the analysis of its **mean-square continuity** is preserved here. This is for two primary reasons: first, the mean-square framework provides a more detailed, component-wise analysis of error propagation from different sources (value vs. structure); second, the resulting bounds on the *average* error are often tighter and more representative of the system's typical behavior in non-degenerate regimes than the bounds derived from a worst-case deterministic analysis.\n3255: The following sections provide a rigorous, self-contained proof of the operator's mean-square continuity. The proof is valid for any aggregation operator satisfying the axiomatic requirements of [](#def-swarm-aggregation-operator-axiomatic) and any raw value operator ({prf:ref}`def-raw-value-operator`) that is proven to be mean-square continuous (e.g., the distance operator from [](#thm-distance-operator-mean-square-continuity)).\n3256: The strategy is to decompose the total expected squared error into its two fundamental sources:\n3257: 1.  **Value-Induced Error:** The error resulting from the change in the raw value vector ($v_1 \\to v_2$) while holding the swarm's structure constant.\n3258: 2.  **Structure-Induced Error:** The error resulting from the change in the swarm's structure ($S_1 \\to S_2$) for a given raw value vector.\n3259: By bounding the expectation of these two components separately, we establish a unified and robust mean-square continuity bound for the entire operator.\n3260: #### 11.2.1. Theorem: Decomposition of Mean-Square Standardization Error\n3261: \n3262: :::{prf:theorem} Decomposition of Mean-Square Standardization Error\n3263: :label: thm-standardization-operator-unified-mean-square-continuity",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-standardization-value-error-mean-square",
      "title": "Bounding the Expected Squared Value Error",
      "start_line": 3314,
      "end_line": 3327,
      "header_lines": [
        3315
      ],
      "content_start": 3316,
      "content_end": 3326,
      "content": "3316: \n3317: $$\n3318: \n3319: where the expectation is taken over the distribution of the raw value vector $\\mathbf{v}_2 \\sim V(\\mathcal{S}_2)$. Its explicit bound is derived in [](#thm-standardization-structural-error-mean-square).\n3320: :::\n3321: \n3322: #### 11.2.2. Bounding the Expected Squared Value Error ($E^2_{V,ms}$)\n3323: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Value Error**, $E^2_{V,ms}$. This term quantifies the component of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s error that arises exclusively from the change in the underlying distribution of the raw value vector, while the swarm's structure is held constant.\n3324: The central result is the following theorem, which establishes that the expected output error of the standardization pipeline is bounded by the expected input error from the raw value operator ({prf:ref}`def-raw-value-operator`).\n3325: :::{prf:theorem} Bounding the Expected Squared Value Error\n3326: :label: thm-standardization-value-error-mean-square",
      "metadata": {
        "label": "thm-standardization-value-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "proof-thm-standardization-value-error-mean-square"
      ],
      "raw_directive": "3314: $$\n3315: E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) := \\mathbb{E}[\\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2]\n3316: \n3317: $$\n3318: \n3319: where the expectation is taken over the distribution of the raw value vector $\\mathbf{v}_2 \\sim V(\\mathcal{S}_2)$. Its explicit bound is derived in [](#thm-standardization-structural-error-mean-square).\n3320: :::\n3321: \n3322: #### 11.2.2. Bounding the Expected Squared Value Error ($E^2_{V,ms}$)\n3323: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Value Error**, $E^2_{V,ms}$. This term quantifies the component of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s error that arises exclusively from the change in the underlying distribution of the raw value vector, while the swarm's structure is held constant.\n3324: The central result is the following theorem, which establishes that the expected output error of the standardization pipeline is bounded by the expected input error from the raw value operator ({prf:ref}`def-raw-value-operator`).\n3325: :::{prf:theorem} Bounding the Expected Squared Value Error\n3326: :label: thm-standardization-value-error-mean-square\n3327: Let $S_1$ be a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state. Let $V$ be a raw value operator that is mean-square continuous, such that $\\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2] \\le F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ for some deterministic bounding function $F_{V,ms}$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-standardization-structural-error-mean-square",
      "title": "Bounding the Expected Squared Structural Error",
      "start_line": 3555,
      "end_line": 3567,
      "header_lines": [
        3556
      ],
      "content_start": 3557,
      "content_end": 3566,
      "content": "3557: \n3558: $$\n3559: \n3560: 4.  **Apply the Mean-Square Continuity Axiom for Raw Values.**\n3561:     By axiom ([](#axiom-raw-value-mean-square-continuity)), $E[\\|v_1 - v_2\\|_2^2]$ is bounded by $F_{V,ms}$. Substituting this gives the final result.\n3562: **Q.E.D.**\n3563: :::\n3564: #### 11.2.3. Bounding the Expected Squared Structural Error ($E^2_{S,ms}$)\n3565: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Structural Error**, $E^2_{S,ms}$. This term quantifies the component of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s error that arises exclusively from the change in the swarm's structure (i.e., the set of alive walkers), for a fixed underlying raw value vector.\n3566: :::{prf:theorem} Bounding the Expected Squared Structural Error",
      "metadata": {
        "label": "thm-standardization-structural-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-standardization-operator-n-dimensional"
      ],
      "raw_directive": "3555: $$\n3556: \\mathbb{E}[\\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2] \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2]\n3557: \n3558: $$\n3559: \n3560: 4.  **Apply the Mean-Square Continuity Axiom for Raw Values.**\n3561:     By axiom ([](#axiom-raw-value-mean-square-continuity)), $E[\\|v_1 - v_2\\|_2^2]$ is bounded by $F_{V,ms}$. Substituting this gives the final result.\n3562: **Q.E.D.**\n3563: :::\n3564: #### 11.2.3. Bounding the Expected Squared Structural Error ($E^2_{S,ms}$)\n3565: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Structural Error**, $E^2_{S,ms}$. This term quantifies the component of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s error that arises exclusively from the change in the swarm's structure (i.e., the set of alive walkers), for a fixed underlying raw value vector.\n3566: :::{prf:theorem} Bounding the Expected Squared Structural Error\n3567: :label: thm-standardization-structural-error-mean-square",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-general-asymptotic-scaling-mean-square",
      "title": "General Asymptotic Scaling of Mean-Square Standardization Error",
      "start_line": 3647,
      "end_line": 3672,
      "header_lines": [
        3648
      ],
      "content_start": 3650,
      "content_end": 3671,
      "content": "3650: \n3651: The expected squared structural error is the expectation of the left-hand side. Since the right-hand side is a deterministic constant that does not depend on the random variable $v_2$, taking the expectation of both sides yields the final theorem.\n3652: **Q.E.D.**\n3653: :::\n3654: #### 11.2.4. General Asymptotic Behavior of the Total Standardization Error\n3655: This theorem consolidates the results from the preceding sections to establish the final asymptotic scaling law for the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s continuity. This result is the cornerstone for understanding the algorithm's behavior and fundamental limitations, particularly for large swarms.\n3656: ##### 11.2.4.1. Theorem: General Asymptotic Scaling of Mean-Square Standardization Error\n3657: \n3658: :::{prf:theorem} General Asymptotic Scaling of Mean-Square Standardization Error\n3659: :label: thm-general-asymptotic-scaling-mean-square\n3660: \n3661: The total **expected** squared error of the N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`), $\\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2]$, is bounded by the sum of the expected squared value error ($E^2_{V,ms}$) and the expected squared structural error ($E^2_{S,ms}$). Its asymptotic behavior for a large initial swarm ({prf:ref}`def-swarm-and-state-space`) size, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, is the sum of the asymptotic behaviors of these two distinct error sources:\n3662: \n3663: $$\n3664: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\in O(E_{V,ms}^2(k_1, \\varepsilon_{\\mathrm{std}})) + O(E_{S,ms}^2(k_1, \\varepsilon_{\\mathrm{std}}))\n3665: \n3666: $$\n3667: \n3668: The specific scaling of these components is determined by the user's choices for the Raw Value ({prf:ref}`def-raw-value-operator`) Operator and Swarm ({prf:ref}`def-swarm-and-state-space`) Aggregation Operator via their axiomatic properties:\n3669: 1.  **Value Error Scaling:**\n3670: \n3671: $$",
      "metadata": {
        "label": "thm-general-asymptotic-scaling-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-standardization-operator-n-dimensional",
        "def-swarm-and-state-space",
        "def-raw-value-operator"
      ],
      "raw_directive": "3647: \\|\\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2)\\|_2^2 \\le C_{S,\\text{direct}} \\cdot n_c + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c^2\n3648: \n3649: $$\n3650: \n3651: The expected squared structural error is the expectation of the left-hand side. Since the right-hand side is a deterministic constant that does not depend on the random variable $v_2$, taking the expectation of both sides yields the final theorem.\n3652: **Q.E.D.**\n3653: :::\n3654: #### 11.2.4. General Asymptotic Behavior of the Total Standardization Error\n3655: This theorem consolidates the results from the preceding sections to establish the final asymptotic scaling law for the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)'s continuity. This result is the cornerstone for understanding the algorithm's behavior and fundamental limitations, particularly for large swarms.\n3656: ##### 11.2.4.1. Theorem: General Asymptotic Scaling of Mean-Square Standardization Error\n3657: \n3658: :::{prf:theorem} General Asymptotic Scaling of Mean-Square Standardization Error\n3659: :label: thm-general-asymptotic-scaling-mean-square\n3660: \n3661: The total **expected** squared error of the N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`), $\\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2]$, is bounded by the sum of the expected squared value error ($E^2_{V,ms}$) and the expected squared structural error ($E^2_{S,ms}$). Its asymptotic behavior for a large initial swarm ({prf:ref}`def-swarm-and-state-space`) size, $k_1 = |\\mathcal{A}(\\mathcal{S}_1)|$, is the sum of the asymptotic behaviors of these two distinct error sources:\n3662: \n3663: $$\n3664: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\in O(E_{V,ms}^2(k_1, \\varepsilon_{\\mathrm{std}})) + O(E_{S,ms}^2(k_1, \\varepsilon_{\\mathrm{std}}))\n3665: \n3666: $$\n3667: \n3668: The specific scaling of these components is determined by the user's choices for the Raw Value ({prf:ref}`def-raw-value-operator`) Operator and Swarm ({prf:ref}`def-swarm-and-state-space`) Aggregation Operator via their axiomatic properties:\n3669: 1.  **Value Error Scaling:**\n3670: \n3671: $$\n3672: E_{V,ms}^2 \\in O\\left( \\frac{k_1 \\cdot (L_{m_2,M}(k_1))^2}{\\sigma'^2_{\\min,\\text{bound}}} \\cdot F_{V,ms}(k_1) \\right) + O\\left( \\frac{k_1 \\cdot (L_{m_2,M}(k_1))^2 L_{\\sigma\\'_{\\text{reg}}}^2}{\\sigma'^4_{\\min,\\text{bound}}} \\cdot F_{V,ms}(k_1) \\right)",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-deterministic-error-decomposition",
      "title": "Decomposition of the Total Standardization Error",
      "start_line": 3717,
      "end_line": 3741,
      "header_lines": [
        3718
      ],
      "content_start": 3719,
      "content_end": 3740,
      "content": "3719: 1.  **Regime 1: Normal Operation (Low Attrition).**\n3720:     If the number of status changes $n_c$ is small, the structural error terms are bounded or vanish for large $k_1$. The system's stability is dominated by the value error, which is **constant with respect to swarm size** and scales with $1/\\sigma'^2_{\\min,\\text{bound}}$ and $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. When the variance floor is much smaller than the smoothing parameter ($\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$), this reduces to the familiar $O(\\varepsilon_{\\mathrm{std}}^{-6})$ sensitivity.\n3721: 2.  **Regime 2: Catastrophic Collapse.**\n3722:     If a significant fraction of the swarm dies, such that $n_c \\propto k_1$, then the total error **grows linearly with the initial swarm size** with coefficients proportional to $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. In the $\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$ regime this again matches the $O(k_1\\varepsilon_{\\mathrm{std}}^{-6})$ scaling.\n3723: ### 11.3 Deterministic Lipschitz Continuity of the Patched Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)\n3724: The introduction of the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)) ($\\sigma\\'_{\\text{reg}}$) in Section 11.1.2 provides a critical stability guarantee that is stronger than mean-square continuity. By ensuring the denominator of the standardization formula is a globally Lipschitz function of the raw value variance, the pathological sensitivity near zero-variance states is eliminated. This, in turn, enables a deterministic, worst-case **global continuity with a Lipschitz–Hölder modulus** for the entire N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`).\n3725: This property is a non-negotiable prerequisite for certain powerful long-term convergence results, such as those derived from Feynman-Kac particle system theory. The following sections provide a rigorous, self-contained proof of this property. The strategy is to deterministically decompose the total error vector, $\\Deltaz = z(S_1, v_1, M) - z(S_2, v_2, M)$, into a series of manageable components and to bound the L2-norm of each component by a term proportional to the N-Particle Displacement Metric ({prf:ref}`def-n-particle-displacement-metric`) and the L2-norm of the raw value difference.\n3726: #### 11.3.1 Theorem: Decomposition of the Total Standardization Error\n3727: To establish the joint Lipschitz continuity of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) with respect to both the swarm state **S** and the raw value vector **v**, we first decompose the total squared error into two distinct components: a **Value Error** arising from the change in the raw value vector for a fixed swarm structure, and a **Structural Error** arising from the change in the swarm structure for a fixed raw value vector.\n3728: :::{prf:theorem} Decomposition of the Total Standardization Error\n3729: :label: thm-deterministic-error-decomposition\n3730: Let $z(S, v, M)$ be the N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`) ({prf:rraw value ({prf:ref}`def-raw-value-operator`)ation-operator-n-dimensional`). Let $S_1$ and $S_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, and let $v_1$ and $v_2$ be two corresponding N-dimensional raw value vectors. Let the output standardized vectors be $z_1 = z(S_1, v_1, M)$ and $z_2 = z(S_2, v_2, M)$.\n3731: The total squared Euclidean error between the output vectors is bounded by the sum of two fundamental error components:\n3732: \n3733: $$\n3734: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 \\cdot E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 \\cdot E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3735: \n3736: $$\n3737: \n3738: where the error components are defined as:\n3739: 1.  **The Squared Value Error ($E_V^2$):** The deterministic squared error arising from the change in the raw value vector (from $v_1$ to $v_2$) while holding the swarm ({prf:ref}`def-swarm-and-state-space`)'s structure fixed at $S_1$.\n3740: ",
      "metadata": {
        "label": "thm-deterministic-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-standardization-operator-n-dimensional",
        "def-raw-value-operator",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "3717: ##### 11.2.4.3. Implications and Interpretation\n3718: This result reveals two distinct operational regimes:\n3719: 1.  **Regime 1: Normal Operation (Low Attrition).**\n3720:     If the number of status changes $n_c$ is small, the structural error terms are bounded or vanish for large $k_1$. The system's stability is dominated by the value error, which is **constant with respect to swarm size** and scales with $1/\\sigma'^2_{\\min,\\text{bound}}$ and $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. When the variance floor is much smaller than the smoothing parameter ($\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$), this reduces to the familiar $O(\\varepsilon_{\\mathrm{std}}^{-6})$ sensitivity.\n3721: 2.  **Regime 2: Catastrophic Collapse.**\n3722:     If a significant fraction of the swarm dies, such that $n_c \\propto k_1$, then the total error **grows linearly with the initial swarm size** with coefficients proportional to $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. In the $\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$ regime this again matches the $O(k_1\\varepsilon_{\\mathrm{std}}^{-6})$ scaling.\n3723: ### 11.3 Deterministic Lipschitz Continuity of the Patched Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)\n3724: The introduction of the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)) ($\\sigma\\'_{\\text{reg}}$) in Section 11.1.2 provides a critical stability guarantee that is stronger than mean-square continuity. By ensuring the denominator of the standardization formula is a globally Lipschitz function of the raw value variance, the pathological sensitivity near zero-variance states is eliminated. This, in turn, enables a deterministic, worst-case **global continuity with a Lipschitz–Hölder modulus** for the entire N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`).\n3725: This property is a non-negotiable prerequisite for certain powerful long-term convergence results, such as those derived from Feynman-Kac particle system theory. The following sections provide a rigorous, self-contained proof of this property. The strategy is to deterministically decompose the total error vector, $\\Deltaz = z(S_1, v_1, M) - z(S_2, v_2, M)$, into a series of manageable components and to bound the L2-norm of each component by a term proportional to the N-Particle Displacement Metric ({prf:ref}`def-n-particle-displacement-metric`) and the L2-norm of the raw value difference.\n3726: #### 11.3.1 Theorem: Decomposition of the Total Standardization Error\n3727: To establish the joint Lipschitz continuity of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) with respect to both the swarm state **S** and the raw value vector **v**, we first decompose the total squared error into two distinct components: a **Value Error** arising from the change in the raw value vector for a fixed swarm structure, and a **Structural Error** arising from the change in the swarm structure for a fixed raw value vector.\n3728: :::{prf:theorem} Decomposition of the Total Standardization Error\n3729: :label: thm-deterministic-error-decomposition\n3730: Let $z(S, v, M)$ be the N-Dimensional Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`) ({prf:rraw value ({prf:ref}`def-raw-value-operator`)ation-operator-n-dimensional`). Let $S_1$ and $S_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, and let $v_1$ and $v_2$ be two corresponding N-dimensional raw value vectors. Let the output standardized vectors be $z_1 = z(S_1, v_1, M)$ and $z_2 = z(S_2, v_2, M)$.\n3731: The total squared Euclidean error between the output vectors is bounded by the sum of two fundamental error components:\n3732: \n3733: $$\n3734: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 \\cdot E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 \\cdot E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3735: \n3736: $$\n3737: \n3738: where the error components are defined as:\n3739: 1.  **The Squared Value Error ($E_V^2$):** The deterministic squared error arising from the change in the raw value vector (from $v_1$ to $v_2$) while holding the swarm ({prf:ref}`def-swarm-and-state-space`)'s structure fixed at $S_1$.\n3740: \n3741: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-lipschitz-value-error-bound",
      "title": "Bounding the Squared Value Error",
      "start_line": 3833,
      "end_line": 3843,
      "header_lines": [
        3834
      ],
      "content_start": 3835,
      "content_end": 3842,
      "content": "3835: $$\n3836: \n3837: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_denom$.\n3838: 3.  **Bound on the Squared Norm.**\n3839:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3840: **Q.E.D.**\n3841: :::\n3842: #### 11.3.3 Theorem: Bounding the Squared Value Error",
      "metadata": {
        "label": "thm-lipschitz-value-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "axiom-reward-regularity",
        "def-raw-value-operator"
      ],
      "raw_directive": "3833:     = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + (\\mathbf{v}_2 - \\mu_2) \\left(\\frac{1}{\\sigma'_1} - \\frac{1}{\\sigma'_2}\\right) = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3834: \n3835: $$\n3836: \n3837: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_denom$.\n3838: 3.  **Bound on the Squared Norm.**\n3839:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3840: **Q.E.D.**\n3841: :::\n3842: #### 11.3.3 Theorem: Bounding the Squared Value Error\n3843: With the algebraic decomposition in place, we can now establish a deterministic bound for the Squared Value Error, $E_V^2$, in terms of the squared norm of the raw value difference. This theorem demonstrates that the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) is Lipschitz continuous with respect to its raw value vector input for a fixed swarm structure.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-lipschitz-structural-error-bound",
      "title": "Bounding the Squared Structural Error",
      "start_line": 3918,
      "end_line": 3928,
      "header_lines": [
        3919
      ],
      "content_start": 3920,
      "content_end": 3927,
      "content": "3920: $$\n3921:     C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3922: \n3923: $$\n3924: \n3925: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively, as defined in [](#lem-stats-value-continuity).\n3926: :::\n3927: #### 11.3.5 Theorem: Bounding the Squared Structural Error",
      "metadata": {
        "label": "thm-lipschitz-structural-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "3918: 4.  **The Total Value Error Coefficient ($C_V,total(S)$):** The composite coefficient that bounds the total squared error.\n3919: \n3920: $$\n3921:     C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3922: \n3923: $$\n3924: \n3925: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively, as defined in [](#lem-stats-value-continuity).\n3926: :::\n3927: #### 11.3.5 Theorem: Bounding the Squared Structural Error\n3928: We now turn to bounding the Squared Structural Error, $E_S^2$, which arises from the change in the swarm's structure (the set of alive walker ({prf:ref}`def-walker`)s) for a fixed raw value vector. This theorem demonstrates that the standardization operator's continuity with respect to structural changes is not strictly Lipschitz, but has a non-linear, Hölder-type component.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-global-continuity-patched-standardization",
      "title": "Global Continuity of the Patched Standardization Operator",
      "start_line": 3989,
      "end_line": 4000,
      "header_lines": [
        3990
      ],
      "content_start": 3991,
      "content_end": 3999,
      "content": "3991: $$\n3992:     C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) := 2 k_{\\text{stable}} \\frac{(L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}} + 2 k_1 \\left(\\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\\right)^2 \\frac{(L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}}\n3993: \n3994: $$\n3995: \n3996: where $L_{\\mu,S}$ and $L_{\\sigma',S}$ are the structural continuity functions for the aggregator's mean and regularized standard deviation, as defined in [](#lem-stats-structural-continuity).\n3997: :::\n3998: #### 11.3.7 Theorem: Global Continuity of the Patched Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)\n3999: By combining the bounds for the value error and the structural error, we can now state the final deterministic continuity property of the patched standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`). The operator is not globally Lipschitz, but it is jointly continuous with a well-defined Lipschitz-Hölder structure.",
      "metadata": {
        "label": "thm-global-continuity-patched-standardization"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-standardization-operator-n-dimensional",
        "def-raw-value-operator",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "3989: 2.  **The Indirect Structural Error Coefficient ($C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term quadratic in $n_c$. This coefficient bounds the error for the stable walker ({prf:ref}`def-walker`)s.\n3990: \n3991: $$\n3992:     C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) := 2 k_{\\text{stable}} \\frac{(L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}} + 2 k_1 \\left(\\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\\right)^2 \\frac{(L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}}\n3993: \n3994: $$\n3995: \n3996: where $L_{\\mu,S}$ and $L_{\\sigma',S}$ are the structural continuity functions for the aggregator's mean and regularized standard deviation, as defined in [](#lem-stats-structural-continuity).\n3997: :::\n3998: #### 11.3.7 Theorem: Global Continuity of the Patched Standardization Operator ({prf:ref}`def-standardization-operator-n-dimensional`)\n3999: By combining the bounds for the value error and the structural error, we can now state the final deterministic continuity property of the patched standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`). The operator is not globally Lipschitz, but it is jointly continuous with a well-defined Lipschitz-Hölder structure.\n4000: :::{prf:theorem} Global Continuity of the Patched Standardization Operator",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-deterministic-potential-continuity",
      "title": "Deterministic Continuity of the Fitness Potential Operator",
      "start_line": 4227,
      "end_line": 4239,
      "header_lines": [
        4228
      ],
      "content_start": 4230,
      "content_end": 4238,
      "content": "4230: The terms on the right are precisely the mean-square error bounds for the standardization pipelines, which are functions of the input displacement and are derived in Section 11.2.\n4231: **Q.E.D.**\n4232: :::\n4233: ### 12.3 Deterministic Continuity of the Fitness Potential Operator\n4234: While mean-square continuity is sufficient for analyzing the system's average behavior and proving ergodicity, certain powerful convergence theorems (such as those from Feynman-Kac theory) require a stronger, deterministic, worst-case guarantee on the system's interaction potential. This section establishes this stronger property.\n4235: By leveraging the deterministic Lipschitz-Hölder continuity of the patched standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) (proven in Section 11.3), we prove that the composite **Fitness Potential Operator** is also deterministically continuous. This result is a non-negotiable prerequisite for the Feynman-Kac convergence analysis presented in the `04_convergence.md` document.\n4236: #### 12.3.1 Theorem: Deterministic Continuity of the Fitness Potential Operator\n4237: \n4238: :::{prf:theorem} Deterministic Continuity of the Fitness Potential Operator",
      "metadata": {
        "label": "thm-deterministic-potential-continuity"
      },
      "section": "## 13. Fitness potential operator",
      "references": [
        "def-standardization-operator-n-dimensional",
        "def-algorithmic-space-generic",
        "def-swarm-and-state-space",
        "def-raw-value-operator"
      ],
      "raw_directive": "4227: \n4228: $$\n4229: \n4230: The terms on the right are precisely the mean-square error bounds for the standardization pipelines, which are functions of the input displacement and are derived in Section 11.2.\n4231: **Q.E.D.**\n4232: :::\n4233: ### 12.3 Deterministic Continuity of the Fitness Potential Operator\n4234: While mean-square continuity is sufficient for analyzing the system's average behavior and proving ergodicity, certain powerful convergence theorems (such as those from Feynman-Kac theory) require a stronger, deterministic, worst-case guarantee on the system's interaction potential. This section establishes this stronger property.\n4235: By leveraging the deterministic Lipschitz-Hölder continuity of the patched standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) (proven in Section 11.3), we prove that the composite **Fitness Potential Operator** is also deterministically continuous. This result is a non-negotiable prerequisite for the Feynman-Kac convergence analysis presented in the `04_convergence.md` document.\n4236: #### 12.3.1 Theorem: Deterministic Continuity of the Fitness Potential Operator\n4237: \n4238: :::{prf:theorem} Deterministic Continuity of the Fitness Potential Operator\n4239: :label: thm-deterministic-potential-continuity",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-mcdiarmids-inequality",
      "title": "McDiarmid's Inequality (Bounded Differences Inequality) (Boucheron–Lugosi–Massart)",
      "start_line": 4393,
      "end_line": 4411,
      "header_lines": [
        4394
      ],
      "content_start": 4395,
      "content_end": 4410,
      "content": "4395: Under [](#axiom-bounded-algorithmic-diameter), each term is bounded in $[0, D_{\\mathcal{Y}}^2]$. Changing only the $i$‑th random input can change $f_{\\text{avg}}$ by at most $c_i = D_{\\mathcal{Y}}^2/N$. Assumption A supplies the required independe ({prf:ref}`thm-mcdiarmids-inequality`)nce.\n4396: :::{prf:lemma} Bounded differences ({prf:ref}`thm-mcdiarmids-inequality`) for $f_{\\text{avg}}$\n4397: :label ({prf:ref}`thm-mcdiarmids-inequality`): lem-bounded-differences-favg\n4398: \n4399: This le ({prf:ref}`thm-mcdiarmids-inequality`)mma establishes the bounded differences condition for the perturbation displacement functional, enabling application of {prf:ref}`thm-mcdiarmids-inequality` to obtain probabilistic continuity of {prf:ref}`def-perturbation-operator`.\n4400: \n4401: Under [](#axiom-bounded-algorithmic-diameter), for the normalized functional $f_{\\text{avg}}$ defined above, the McDiarmid bounded‑difference constants may be taken as $c_i=D_{\\mathcal{Y}}^2/N ({prf:ref}`thm-mcdiarmids-inequality`)$ for all $i$.\n4402: :::\n4403: ##### 13.2.3.1. McDiarmid's Inequality (Bounded Differences Inequality)\n4404: :::{prf:theorem} McDiarmid's Inequality (Bounded Differences Inequality) (Boucheron–Lugosi–Massart)\n4405: :label: thm-mcdiarmids-inequality\n4406: This is a standard concentration inequality from probability theory, used to bound the deviation of {prf:ref}`def-perturbation-operator` from its expected behavior.\n4407: \n4408: Let $X_1, X_2, \\dots, X_N$ be a set of independent random variables. Let $f$ be a function of these variables, $f(X_1, \\dots, X_N)$, that satisfies the **bounded differences property**. This means that for each variable $i \\in \\{1, \\dots, N\\}$, there exists a constant $c_i$ such that if only the $i$-th variable is changed, the function's value cannot change by more than $c_i$:\n4409: \n4410: $$",
      "metadata": {
        "label": "thm-mcdiarmids-inequality"
      },
      "section": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)",
      "references": [
        "def-perturbation-operator"
      ],
      "raw_directive": "4393: \n4394: $$\n4395: Under [](#axiom-bounded-algorithmic-diameter), each term is bounded in $[0, D_{\\mathcal{Y}}^2]$. Changing only the $i$‑th random input can change $f_{\\text{avg}}$ by at most $c_i = D_{\\mathcal{Y}}^2/N$. Assumption A supplies the required independe ({prf:ref}`thm-mcdiarmids-inequality`)nce.\n4396: :::{prf:lemma} Bounded differences ({prf:ref}`thm-mcdiarmids-inequality`) for $f_{\\text{avg}}$\n4397: :label ({prf:ref}`thm-mcdiarmids-inequality`): lem-bounded-differences-favg\n4398: \n4399: This le ({prf:ref}`thm-mcdiarmids-inequality`)mma establishes the bounded differences condition for the perturbation displacement functional, enabling application of {prf:ref}`thm-mcdiarmids-inequality` to obtain probabilistic continuity of {prf:ref}`def-perturbation-operator`.\n4400: \n4401: Under [](#axiom-bounded-algorithmic-diameter), for the normalized functional $f_{\\text{avg}}$ defined above, the McDiarmid bounded‑difference constants may be taken as $c_i=D_{\\mathcal{Y}}^2/N ({prf:ref}`thm-mcdiarmids-inequality`)$ for all $i$.\n4402: :::\n4403: ##### 13.2.3.1. McDiarmid's Inequality (Bounded Differences Inequality)\n4404: :::{prf:theorem} McDiarmid's Inequality (Bounded Differences Inequality) (Boucheron–Lugosi–Massart)\n4405: :label: thm-mcdiarmids-inequality\n4406: This is a standard concentration inequality from probability theory, used to bound the deviation of {prf:ref}`def-perturbation-operator` from its expected behavior.\n4407: \n4408: Let $X_1, X_2, \\dots, X_N$ be a set of independent random variables. Let $f$ be a function of these variables, $f(X_1, \\dots, X_N)$, that satisfies the **bounded differences property**. This means that for each variable $i \\in \\{1, \\dots, N\\}$, there exists a constant $c_i$ such that if only the $i$-th variable is changed, the function's value cannot change by more than $c_i$:\n4409: \n4410: $$\n4411: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-perturbation-operator-continuity-reproof",
      "title": "Probabilistic Continuity of the Perturbation Operator",
      "start_line": 4471,
      "end_line": 4482,
      "header_lines": [
        4472
      ],
      "content_start": 4473,
      "content_end": 4481,
      "content": "4473: $$\n4474: \n4475:     B_S(N, \\delta') := D_{\\mathcal{Y}}^2 \\sqrt{\\frac{N}{2} \\ln\\left(\\frac{2}{\\delta'}\\right)}\n4476: \n4477: $$\n4478: where $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), a foundational geometric parameter.\n4479: :::\n4480: #### 13.2.5. Synthesis: The Full Probabilistic Continuity Bound for the Perturbation Operator ({prf:ref}`def-perturbation-operator`)\n4481: This theorem assembles the preceding results to provide the final, rigorous probabilistic continuity bound for the Perturbation Operator ({prf:ref}`def-perturbation-operator`).",
      "metadata": {
        "label": "thm-perturbation-operator-continuity-reproof"
      },
      "section": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)",
      "references": [
        "def-algorithmic-space-generic",
        "def-swarm-and-state-space",
        "def-perturbation-operator",
        "def-perturbation-measure",
        "def-n-particle-displacement-metric"
      ],
      "raw_directive": "4471: 2.  **The Stochastic Fluctuation Bound ($B_S(N, \\delta')$):** A high-probability bound on the deviation of the total squared displacement from its mean, derived from McDiarmid's inequality in [](#sub-lem-probabilistic-bound-perturbation-displacement-reproof). For a given failure probability $\\delta' \\in (0, 1)$, it is defined as:\n4472: \n4473: $$\n4474: \n4475:     B_S(N, \\delta') := D_{\\mathcal{Y}}^2 \\sqrt{\\frac{N}{2} \\ln\\left(\\frac{2}{\\delta'}\\right)}\n4476: \n4477: $$\n4478: where $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), a foundational geometric parameter.\n4479: :::\n4480: #### 13.2.5. Synthesis: The Full Probabilistic Continuity Bound for the Perturbation Operator ({prf:ref}`def-perturbation-operator`)\n4481: This theorem assembles the preceding results to provide the final, rigorous probabilistic continuity bound for the Perturbation Operator ({prf:ref}`def-perturbation-operator`).\n4482: :::{prf:theorem} Probabilistic Continuity of the Perturbation Operator",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)"
      }
    },
    {
      "directive_type": "theorem",
      "label": "unlabeled-theorem-26",
      "title": "Probabilistic Continuity of the Post-Perturbation SBoundary ({prf:ref}`axiom-boundary-smoothness`)bel: thm-post-perturbation-status-update-continuity",
      "start_line": 4534,
      "end_line": 4545,
      "header_lines": [],
      "content_start": 4535,
      "content_end": 4544,
      "content": "4535: :::\n4536: :::{admonition} Independence in probabilistic status variants\n4537: :class: note\n4538: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position‑dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walker ({prf:ref}`def-walker`)s, using per‑walker uniforms. This aligns the status stage with Assumption A.\n4539: :::\n4540: ### 14.2 Continuity of the Composed Post-Perturbation St ({prf:ref}`def-status-update-operator`)atus Update\n4541: The **Status Update Operator ({prf:ref}`def-status-update-operator`) ($Ψ_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ({prf:ref}`def-perturbation-operator`) ($Ψ_pert$)**. This section establishes the probabilistic continuity of this composed operator, $Ψ_status ∘ Ψ_pert$. It proves that the expected number of status changes between two output swarms is a Hölder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity ({prf:ref}`axiom-boundary-regularity`).\n4542: :::{note}\n4543: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and Hölder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4544: :::",
      "metadata": {},
      "section": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)",
      "references": [
        "axiom-boundary-smoothness",
        "axiom-boundary-regularity",
        "def-n-particle-displacement-metric"
      ],
      "raw_directive": "4534: This operator is applied element-wise to all N walker ({prf:ref}`def-walker`)s.\n4535: :::\n4536: :::{admonition} Independence in probabilistic status variants\n4537: :class: note\n4538: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position‑dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walker ({prf:ref}`def-walker`)s, using per‑walker uniforms. This aligns the status stage with Assumption A.\n4539: :::\n4540: ### 14.2 Continuity of the Composed Post-Perturbation St ({prf:ref}`def-status-update-operator`)atus Update\n4541: The **Status Update Operator ({prf:ref}`def-status-update-operator`) ($Ψ_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ({prf:ref}`def-perturbation-operator`) ($Ψ_pert$)**. This section establishes the probabilistic continuity of this composed operator, $Ψ_status ∘ Ψ_pert$. It proves that the expected number of status changes between two output swarms is a Hölder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity ({prf:ref}`axiom-boundary-regularity`).\n4542: :::{note}\n4543: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and Hölder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4544: :::\n4545: :::{prf:theorem} Probabilistic Continuity of the Post-Perturbation SBoundary ({prf:ref}`axiom-boundary-smoothness`)bel: thm-post-perturbation-status-update-continuity",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 15,
        "chapter_file": "chapter_15.json",
        "section_id": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)"
      }
    },
    {
      "directive_type": "theorem",
      "label": "unlabeled-theorem-146",
      "title": "Continuity of the Conditional Expected Cloning ({prf:ref}`def-expected-cloning-action`)thm-expected-cloning-action-continuity",
      "start_line": 4751,
      "end_line": 4762,
      "header_lines": [],
      "content_start": 4752,
      "content_end": 4761,
      "content": "4752: :::{prf:definition} Conditional Expected Cloning Action\n4753: :label: def-expected-cloning-action\n4754: The **Conditional Expected Cloning Action** for a walker ({prf:ref}`def-walker`) $i$, denoted $P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i$, is the probability that walker $i$ will be assigned the \"Clone\" action, given the swarm ({prf:ref}`def-swarm-and-state-space`) state $\\mathcal{S}$ and a specific, fixed fitness potential vector $\\mathbf{V}$. It is the expectation of the **Conditional Cloning Probability Function** under the **Companion Selection ({prf:ref}`def-companion-selection-measure`) Measure**:\n4755: \n4756: $$\n4757: \n4758: P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i := \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S})} [\\pi(V_c, V_i)]\n4759: \n4760: $$\n4761: :::",
      "metadata": {},
      "section": "## 16. The Cloning Transition Measure",
      "references": [
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "4751: The overall cloning decision for a walker ({prf:ref}`def-walker`) is stochastic due to the random choice of a companion. We can analyze the continuity of this process *conditional on a fixed fitness potential vector* by examining its expectation over the companion selection measure.\n4752: :::{prf:definition} Conditional Expected Cloning Action\n4753: :label: def-expected-cloning-action\n4754: The **Conditional Expected Cloning Action** for a walker ({prf:ref}`def-walker`) $i$, denoted $P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i$, is the probability that walker $i$ will be assigned the \"Clone\" action, given the swarm ({prf:ref}`def-swarm-and-state-space`) state $\\mathcal{S}$ and a specific, fixed fitness potential vector $\\mathbf{V}$. It is the expectation of the **Conditional Cloning Probability Function** under the **Companion Selection ({prf:ref}`def-companion-selection-measure`) Measure**:\n4755: \n4756: $$\n4757: \n4758: P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i := \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S})} [\\pi(V_c, V_i)]\n4759: \n4760: $$\n4761: :::\n4762: :::{prf:theorem} Continuity of the Conditional Expected Cloning ({prf:ref}`def-expected-cloning-action`)thm-expected-cloning-action-continuity",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-potential-operator-is-mean-square-continuous",
      "title": "The Fitness Potential Operator is Mean-Square Continuous",
      "start_line": 4820,
      "end_line": 4832,
      "header_lines": [
        4821
      ],
      "content_start": 4823,
      "content_end": 4831,
      "content": "4823: :label: proof-lem-total-clone-prob-structural-error\n4824: \n4825: **Proof.**\n4826: The structural error is $|E_V_1[P_1,i(V_1) - P_2,i(V_1)]|$. By Jensen's inequality, this is $\\leq E_V_1[|P_1,i(V_1) - P_2,i(V_1)|]$. From [](#thm-expected-cloning-action-continuity), the term inside the expectation is bounded by $C_{\\text{struct}}^{(π)}(k_1) \\cdot n_c$. Since this bound is a deterministic constant, its expectation is the bound itself.\n4827: **Q.E.D.**\n4828: :::\n4829: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4830: \n4831: :::{prf:theorem} The Fitness Potential Operator is Mean-Square Continuous",
      "metadata": {
        "label": "thm-potential-operator-is-mean-square-continuous"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [
        "def-alive-set-potential-operator"
      ],
      "raw_directive": "4820: \n4821: $$\n4822: :::{prf:proof}\n4823: :label: proof-lem-total-clone-prob-structural-error\n4824: \n4825: **Proof.**\n4826: The structural error is $|E_V_1[P_1,i(V_1) - P_2,i(V_1)]|$. By Jensen's inequality, this is $\\leq E_V_1[|P_1,i(V_1) - P_2,i(V_1)|]$. From [](#thm-expected-cloning-action-continuity), the term inside the expectation is bounded by $C_{\\text{struct}}^{(π)}(k_1) \\cdot n_c$. Since this bound is a deterministic constant, its expectation is the bound itself.\n4827: **Q.E.D.**\n4828: :::\n4829: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4830: \n4831: :::{prf:theorem} The Fitness Potential Operator is Mean-Square Continuous\n4832: :label: thm-potential-operator-is-mean-square-continuous",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-cloning-transition-operator-continuity-recorrected",
      "title": "Mean-Square Continuity of the Cloning Transition Operator",
      "start_line": 4863,
      "end_line": 4876,
      "header_lines": [
        4864
      ],
      "content_start": 4866,
      "content_end": 4875,
      "content": "4866: The error is $|E_V_1[f(V_1)] - E_V_2[f(V_2)]|$ where $f(V) = P_{\\text{clone}}(S_2, V)_i$.\n4867: 1.  **Lipschitz Continuity of **f**:** From [](#thm-expected-cloning-action-continuity), $|f(V_1) - f(V_2)| \\leq C_{val}^{(π)} (E_c[|V_1,c-V_2,c|] + |V_1,i-V_2,i|)$. Using properties of L1/L2 norms, this is $\\leq C_{val}^{(π)}√2\\|V_1-V_2\\|_1 \\leq C_{val}^{(π)}√2√N\\|V_1-V_2\\|_2$. So, **f** is Lipschitz with constant $L_f = C_{val}^{(π)}√(2N)$.\n4868: 2.  **Bound the Difference in Expectations:** The difference is $|E[f(V_1)-f(V_2)]| \\leq E[|f(V_1)-f(V_2)|] \\leq E[L_f \\|V_1-V_2\\|_2] = L_f E[\\|V_1-V_2\\|_2]$.\n4869: 3.  **Apply Jensen's Inequality and Mean-Square Bound:** $E[X] \\leq √E[X^2]$. So, the error is $\\leq L_f √E[\\|V_1-V_2\\|_2^2]$. Substituting $L_f$ and the $F_{\\text{pot}}$ bound from [](#thm-potential-operator-is-mean-square-continuous) yields the final result.\n4870: **Q.E.D.**\n4871: :::\n4872: #### 15.2.8. Theorem: Mean-Square Continuity of the Cloning Transition Operator\n4873: \n4874: :::{prf:theorem} Mean-Square Continuity of the Cloning Transition Operator\n4875: :label: thm-cloning-transition-operator-continuity-recorrected",
      "metadata": {
        "label": "thm-cloning-transition-operator-continuity-recorrected"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [
        "axiom-reward-regularity",
        "def-swarm-and-state-space",
        "def-cloning-measure",
        "def-n-particle-displacement-metric"
      ],
      "raw_directive": "4863: :label: proof-lem-total-clone-prob-value-error\n4864: \n4865: **Proof.**\n4866: The error is $|E_V_1[f(V_1)] - E_V_2[f(V_2)]|$ where $f(V) = P_{\\text{clone}}(S_2, V)_i$.\n4867: 1.  **Lipschitz Continuity of **f**:** From [](#thm-expected-cloning-action-continuity), $|f(V_1) - f(V_2)| \\leq C_{val}^{(π)} (E_c[|V_1,c-V_2,c|] + |V_1,i-V_2,i|)$. Using properties of L1/L2 norms, this is $\\leq C_{val}^{(π)}√2\\|V_1-V_2\\|_1 \\leq C_{val}^{(π)}√2√N\\|V_1-V_2\\|_2$. So, **f** is Lipschitz with constant $L_f = C_{val}^{(π)}√(2N)$.\n4868: 2.  **Bound the Difference in Expectations:** The difference is $|E[f(V_1)-f(V_2)]| \\leq E[|f(V_1)-f(V_2)|] \\leq E[L_f \\|V_1-V_2\\|_2] = L_f E[\\|V_1-V_2\\|_2]$.\n4869: 3.  **Apply Jensen's Inequality and Mean-Square Bound:** $E[X] \\leq √E[X^2]$. So, the error is $\\leq L_f √E[\\|V_1-V_2\\|_2^2]$. Substituting $L_f$ and the $F_{\\text{pot}}$ bound from [](#thm-potential-operator-is-mean-square-continuous) yields the final result.\n4870: **Q.E.D.**\n4871: :::\n4872: #### 15.2.8. Theorem: Mean-Square Continuity of the Cloning Transition Operator\n4873: \n4874: :::{prf:theorem} Mean-Square Continuity of the Cloning Transition Operator\n4875: :label: thm-cloning-transition-operator-continuity-recorrected\n4876: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "theorem",
      "label": "thm-k1-revival-state",
      "title": "Theorem of Guaranteed Revival from a Single Survivor",
      "start_line": 5007,
      "end_line": 5018,
      "header_lines": [
        5008,
        5010,
        5011
      ],
      "content_start": 5012,
      "content_end": 5017,
      "content": "5012: **The Beautiful Result**: Under the right conditions, one survivor is enough to resurrect the entire swarm! This section proves that the \"last walker standing\" scenario triggers a guaranteed revival ({prf:ref}`axiom-guaranteed-revival`) mechanism that brings all dead walkers back to life in a single step.\n5013: \n5014: This is like having a \"phoenix effect\" built into the algorithm - the swarm can always rise from the ashes as long as one walker remains.\n5015: :::\n5016: The general continuity analysis presented in the preceding sections is valid for the regime where the number of alive walkers is at least two. The state where exactly one walker survives represents a critical boundary condition where the system's dynamics change fundamentally. This section provides a formal theorem to characterize the behavior in this \"revival state,\" demonstrating how the foundational axioms ensure the swarm can recover from near-extinction events.\n5017: ### 16.1 Theorem of Guaranteed Revival from a Single Survivor",
      "metadata": {
        "label": "thm-k1-revival-state",
        "class": "note",
        "open": ""
      },
      "section": "## 17. The Revival State: Dynamics at $k=1$",
      "references": [
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "5007: :::{prf:remark} The Near-Extinction Recovery Mechanism (Phoenix Effect)\n5008: :label: rem-phoenix-effect\n5009: \n5010: This is perhaps the most dramatic moment in the swarm ({prf:ref}`def-swarm-and-state-space`)'s life cycle: when disaster strikes and only one walker ({prf:ref}`def-walker`) survives. Will the swarm go extinct, or can it rebuild itself from a single survivor?\n5011: \n5012: **The Beautiful Result**: Under the right conditions, one survivor is enough to resurrect the entire swarm! This section proves that the \"last walker standing\" scenario triggers a guaranteed revival ({prf:ref}`axiom-guaranteed-revival`) mechanism that brings all dead walkers back to life in a single step.\n5013: \n5014: This is like having a \"phoenix effect\" built into the algorithm - the swarm can always rise from the ashes as long as one walker remains.\n5015: :::\n5016: The general continuity analysis presented in the preceding sections is valid for the regime where the number of alive walkers is at least two. The state where exactly one walker survives represents a critical boundary condition where the system's dynamics change fundamentally. This section provides a formal theorem to characterize the behavior in this \"revival state,\" demonstrating how the foundational axioms ensure the swarm can recover from near-extinction events.\n5017: ### 16.1 Theorem of Guaranteed Revival from a Single Survivor\n5018: :::{prf:theorem} Theorem of Guaranteed Revival from a Single Survivor",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 17,
        "chapter_file": "chapter_17.json",
        "section_id": "## 17. The Revival State: Dynamics at $k=1$"
      }
    }
  ]
}