{
  "document_id": "01_fragile_gas_framework",
  "stage": "directives",
  "directive_type": "lemma",
  "generated_at": "2025-11-12T22:37:33.885978+00:00",
  "count": 47,
  "items": [
    {
      "directive_type": "lemma",
      "label": "lem-borel-image-of-the-projected-swarm-space",
      "title": "Borel image of the projected swarm ({prf:ref}`def-swarm-and-state-space`) space",
      "start_line": 469,
      "end_line": 481,
      "header_lines": [
        470
      ],
      "content_start": 471,
      "content_end": 480,
      "content": "471: :::{prf:lemma} Borel image of the projected swarm ({prf:ref}`def-swarm-and-state-space`) space\n472: :label: lem-borel-image-of-the-projected-swarm-space\n473: The swarm space ({prf:ref}`def-swarm-and-state-space`) equipped with the projection map ({prf:ref}`def-algorithmic-space-generic`) has the following property:\n474: \n475: Let $(\\mathcal X,d_{\\mathcal X})$ be Polish and $\\varphi:\\mathcal X\\to\\mathcal Y$ continuous. If $\\mathcal X$ is $\\sigma$‑compact and $\\Sigma_N\\subset(\\mathcal X\\times\\{0,1\\})^N$ is Borel, then the projected image\n476: \n477: $$\n478: \\widehat{\\Phi}(\\Sigma_N):=\\{((\\varphi(x_i),s_i))_{i=1}^N : ((x_i,s_i))\\in\\Sigma_N\\}\\subset (\\mathcal Y\\times\\{0,1\\})^N\n479: \n480: $$",
      "metadata": {
        "label": "lem-borel-image-of-the-projected-swarm-space"
      },
      "section": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "469: #### 1.6.2 Borel image and completion of the working space\n470: \n471: :::{prf:lemma} Borel image of the projected swarm ({prf:ref}`def-swarm-and-state-space`) space\n472: :label: lem-borel-image-of-the-projected-swarm-space\n473: The swarm space ({prf:ref}`def-swarm-and-state-space`) equipped with the projection map ({prf:ref}`def-algorithmic-space-generic`) has the following property:\n474: \n475: Let $(\\mathcal X,d_{\\mathcal X})$ be Polish and $\\varphi:\\mathcal X\\to\\mathcal Y$ continuous. If $\\mathcal X$ is $\\sigma$‑compact and $\\Sigma_N\\subset(\\mathcal X\\times\\{0,1\\})^N$ is Borel, then the projected image\n476: \n477: $$\n478: \\widehat{\\Phi}(\\Sigma_N):=\\{((\\varphi(x_i),s_i))_{i=1}^N : ((x_i,s_i))\\in\\Sigma_N\\}\\subset (\\mathcal Y\\times\\{0,1\\})^N\n479: \n480: $$\n481: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 2,
        "chapter_file": "chapter_2.json",
        "section_id": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-polishness-and-w2",
      "title": "Polishness of the quotient state space and $W_2$",
      "start_line": 498,
      "end_line": 502,
      "header_lines": [
        499
      ],
      "content_start": 501,
      "content_end": 501,
      "content": "501: :label: lem-polishness-and-w2",
      "metadata": {
        "label": "lem-polishness-and-w2"
      },
      "section": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters",
      "references": [
        "def-metric-quotient",
        "def-n-particle-displacement-metric",
        "axiom-bounded-algorithmic-diameter"
      ],
      "raw_directive": "498: #### 1.7.1 Polishness and $W_2$ well‑posedness (on the quotient)\n499: \n500: :::{prf:lemma} Polishness of the quotient state space and $W_2$\n501: :label: lem-polishness-and-w2\n502: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 2,
        "chapter_file": "chapter_2.json",
        "section_id": "## 2. Global Conventions: Foundational Objects and Core Algorithmic Parameters"
      }
    },
    {
      "directive_type": "lemma",
      "label": "proof-lem-validation-of-the-heat-kernel",
      "title": "Validation of the Heat Kernel",
      "start_line": 1156,
      "end_line": 1165,
      "header_lines": [
        1157,
        1160
      ],
      "content_start": 1158,
      "content_end": 1164,
      "content": "1158: :label: lem-validation-of-the-heat-kernel\n1159: If the state space $(\\mathcal{X}, d_{\\mathcal{X}}, \\mu)$ is a Polish metric measure space with a canonical heat kernel $p_t(x, \\cdot)$ that has a uniformly bounded second moment, then defining the perturbation noise measure ({prf:ref}`def-valid-noise-measure`) as $\\mathcal{P}_\\sigma(x, \\cdot) := p_{\\sigma^2}(x, \\cdot)$ satisfies the required axioms, provided the boundary ({prf:ref}`axiom-boundary-smoothness`)valid set $\\mathcal{X}_{\\mathrm{valid}}$ is sufficiently regular.\n1160: :::{prf:proof}\n1161: :label: proof-lem-validation-of-the-heat-kernel\n1162: **Proof.**\n1163: 1.  **Axiom of Bounded Second Moment of Perturbation** ({prf:ref}`axiom-non-degenerate-noise`): The definition of the state space requires that the heat kernel has a uniformly bounded second moment, i.e., $\\sup_{x \\in \\mathcal{X}} \\mathbb{E}_{x' \\sim p_t(x, \\cdot)} [ d_{\\mathcal{Y}}(\\varphi(x'), \\varphi(x))^2 ] \\le M_{\\text{pert}}^2$. This directly satisfies the axiom.\n1164: 2.  **Axiom of Boundary Regularity** ({prf:ref}`axiom-boundary-regularity`): The death probability is given by the function $P(s_{\\text{out}}=0 | x) = \\int_{\\mathcal{X} \\setminus \\mathcal{X}_{\\mathrm{valid}}} p_{\\sigma^2}(x, dx')$. This is the convolution of the indicator function of the invalid set with the heat kernel. For non-pathological boundaries (e.g., boundaries that are not space-filling curves), the heat kernel is a well-known smoothing operator. Standard results in analysis show that the convolution of a smooth kernel with an indicator function results in a continuous function. For heat kernels specifically, the resulting function $P$ is smooth and therefore locally Hölder continuous. Global Hölder continuity follows on compact subsets of $\\mathcal X$ by a finite subcover argument.",
      "metadata": {
        "label": "proof-lem-validation-of-the-heat-kernel"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [
        "def-valid-noise-measure",
        "axiom-boundary-smoothness",
        "axiom-non-degenerate-noise",
        "axiom-boundary-regularity"
      ],
      "raw_directive": "1156: #### 5.2.1 Lemma: Validation of the Heat Kernel\n1157: :::{prf:lemma} Validation of the Heat Kernel\n1158: :label: lem-validation-of-the-heat-kernel\n1159: If the state space $(\\mathcal{X}, d_{\\mathcal{X}}, \\mu)$ is a Polish metric measure space with a canonical heat kernel $p_t(x, \\cdot)$ that has a uniformly bounded second moment, then defining the perturbation noise measure ({prf:ref}`def-valid-noise-measure`) as $\\mathcal{P}_\\sigma(x, \\cdot) := p_{\\sigma^2}(x, \\cdot)$ satisfies the required axioms, provided the boundary ({prf:ref}`axiom-boundary-smoothness`)valid set $\\mathcal{X}_{\\mathrm{valid}}$ is sufficiently regular.\n1160: :::{prf:proof}\n1161: :label: proof-lem-validation-of-the-heat-kernel\n1162: **Proof.**\n1163: 1.  **Axiom of Bounded Second Moment of Perturbation** ({prf:ref}`axiom-non-degenerate-noise`): The definition of the state space requires that the heat kernel has a uniformly bounded second moment, i.e., $\\sup_{x \\in \\mathcal{X}} \\mathbb{E}_{x' \\sim p_t(x, \\cdot)} [ d_{\\mathcal{Y}}(\\varphi(x'), \\varphi(x))^2 ] \\le M_{\\text{pert}}^2$. This directly satisfies the axiom.\n1164: 2.  **Axiom of Boundary Regularity** ({prf:ref}`axiom-boundary-regularity`): The death probability is given by the function $P(s_{\\text{out}}=0 | x) = \\int_{\\mathcal{X} \\setminus \\mathcal{X}_{\\mathrm{valid}}} p_{\\sigma^2}(x, dx')$. This is the convolution of the indicator function of the invalid set with the heat kernel. For non-pathological boundaries (e.g., boundaries that are not space-filling curves), the heat kernel is a well-known smoothing operator. Standard results in analysis show that the convolution of a smooth kernel with an indicator function results in a continuous function. For heat kernels specifically, the resulting function $P$ is smooth and therefore locally Hölder continuous. Global Hölder continuity follows on compact subsets of $\\mathcal X$ by a finite subcover argument.\n1165: **Q.E.D.**",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-validation-of-the-uniform-ball-measure",
      "title": "Validation of the Uniform Ball Measure",
      "start_line": 1175,
      "end_line": 1186,
      "header_lines": [
        1176
      ],
      "content_start": 1177,
      "content_end": 1185,
      "content": "1177: :label: lem-validation-of-the-uniform-ball-measure\n1178: This lemma validates that the uniform ball measure from {prf:ref}`def-reference-measures` satisfies {prf:ref}`def-axiom-bounded-second-moment-perturbation`.\n1179: \n1180: Let the noise measure ({prf:ref}`def-valid-noise-measure`) $\\mathcal{P}_\\sigma(x, \\cdot)$ be defined as the uniform probability measure over a ball of radius $\\sigma$ centered at $x$ in the state space $\\mathcal{X}$. This measure satisfies theboundary ({prf:ref}`axiom-boundary-smoothness`), provided the boundary of the valid set is sufficiently regular. In particular, the death‑probability map is continuous under mild assumptions; to claim a global Lipschitz modulus with respect to $d_{\\text{Disp},\\mathcal{Y}}$, assume $\\mathcal{X}_{\\mathrm{valid}}$ has Lipschitz boundary or finite perimeter so that boundary layer estimates apply. In that case one obtains an explicit bound of the form\n1181: \n1182: $$\n1183: L_{\\text{death}}\\;\\le\\; \\frac{C_{\\text{perim}}}{\\sigma},\n1184: \n1185: $$",
      "metadata": {
        "label": "lem-validation-of-the-uniform-ball-measure"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [
        "def-reference-measures",
        "def-axiom-bounded-second-moment-perturbation",
        "def-valid-noise-measure",
        "axiom-boundary-smoothness"
      ],
      "raw_directive": "1175: #### 5.2.2 Lemma: Validation of the Uniform Ball Measure\n1176: :::{prf:lemma} Validation of the Uniform Ball Measure\n1177: :label: lem-validation-of-the-uniform-ball-measure\n1178: This lemma validates that the uniform ball measure from {prf:ref}`def-reference-measures` satisfies {prf:ref}`def-axiom-bounded-second-moment-perturbation`.\n1179: \n1180: Let the noise measure ({prf:ref}`def-valid-noise-measure`) $\\mathcal{P}_\\sigma(x, \\cdot)$ be defined as the uniform probability measure over a ball of radius $\\sigma$ centered at $x$ in the state space $\\mathcal{X}$. This measure satisfies theboundary ({prf:ref}`axiom-boundary-smoothness`), provided the boundary of the valid set is sufficiently regular. In particular, the death‑probability map is continuous under mild assumptions; to claim a global Lipschitz modulus with respect to $d_{\\text{Disp},\\mathcal{Y}}$, assume $\\mathcal{X}_{\\mathrm{valid}}$ has Lipschitz boundary or finite perimeter so that boundary layer estimates apply. In that case one obtains an explicit bound of the form\n1181: \n1182: $$\n1183: L_{\\text{death}}\\;\\le\\; \\frac{C_{\\text{perim}}}{\\sigma},\n1184: \n1185: $$\n1186: where $C_{\\text{perim}}$ depends on the perimeter (surface measure) of $\\partial\\mathcal{X}_{\\mathrm{valid}}$ in the algorithmic metric.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-boundary-uniform-ball",
      "title": "Uniform‑ball deatboundary ({prf:ref}`axiom-boundary-smoothness`) Lipschitz ({prf:ref}`axiom-reward-regularity`)nite perimeter",
      "start_line": 1208,
      "end_line": 1225,
      "header_lines": [
        1209
      ],
      "content_start": 1210,
      "content_end": 1224,
      "content": "1210: :label: lem-boundary-uniform-ball\n1211: This lemma provides the quantitative Lipschitz ({prf:ref}`axiom-reward-regularity`)quired by {prf:ref}`axiom-boundary-regularity` for the uniform ball perturbation measure ({prf:ref}`def-perturbation-mboundary ({prf:ref}`axiom-boundary-smoothness`)E=\\mathcal{X}_{\\mathrm{invalid}}\\subset\\mathcal X$ have finite perimeter (BV boundary) and let $\\mathcal P_\\sigma(x,\\cdot)$ be the uniform law on $B(x,\\sigma)$. Define\n1212: \n1213: $$\n1214: \n1215: P_\\sigma(x)\\;:=\\;\\mathcal P_\\sigma(x, E)\\;=\\;\\frac{1}{\\mathrm{Vol}(B_\\sigma)}\\int \\mathbb 1_E(y)\\,\\mathbb 1_{B_\\sigma}(y-x)\\,\\mathrm dy.\n1216: \n1217: $$\n1218: Then there exists a constant $C_d>0$ depending only on the dimension such that for all $x,y\\in\\mathcal X$,\n1219: \n1220: $$\n1221: \n1222: |P_\\sigma(x)-P_\\sigma(y)|\\;\\le\\; C_d\\,\\frac{\\mathrm{Per}(E)}{\\sigma}\\, d_{\\mathcal X}(x,y).\n1223: \n1224: $$",
      "metadata": {
        "label": "lem-boundary-uniform-ball"
      },
      "section": "## 5. Algorithmic Noise Measures",
      "references": [
        "axiom-reward-regularity",
        "axiom-boundary-regularity",
        "def-perturbation-mboundary ({prf:ref}",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "1208: #### 5.2.3 Lemma: BV/perimeter Lipschitz bound for uniform‑ball death probability\n1209: :::{prf:lemma} Uniform‑ball deatboundary ({prf:ref}`axiom-boundary-smoothness`) Lipschitz ({prf:ref}`axiom-reward-regularity`)nite perimeter\n1210: :label: lem-boundary-uniform-ball\n1211: This lemma provides the quantitative Lipschitz ({prf:ref}`axiom-reward-regularity`)quired by {prf:ref}`axiom-boundary-regularity` for the uniform ball perturbation measure ({prf:ref}`def-perturbation-mboundary ({prf:ref}`axiom-boundary-smoothness`)E=\\mathcal{X}_{\\mathrm{invalid}}\\subset\\mathcal X$ have finite perimeter (BV boundary) and let $\\mathcal P_\\sigma(x,\\cdot)$ be the uniform law on $B(x,\\sigma)$. Define\n1212: \n1213: $$\n1214: \n1215: P_\\sigma(x)\\;:=\\;\\mathcal P_\\sigma(x, E)\\;=\\;\\frac{1}{\\mathrm{Vol}(B_\\sigma)}\\int \\mathbb 1_E(y)\\,\\mathbb 1_{B_\\sigma}(y-x)\\,\\mathrm dy.\n1216: \n1217: $$\n1218: Then there exists a constant $C_d>0$ depending only on the dimension such that for all $x,y\\in\\mathcal X$,\n1219: \n1220: $$\n1221: \n1222: |P_\\sigma(x)-P_\\sigma(y)|\\;\\le\\; C_d\\,\\frac{\\mathrm{Per}(E)}{\\sigma}\\, d_{\\mathcal X}(x,y).\n1223: \n1224: $$\n1225: If $\\varphi$ is $L_\\varphi$‑Lipschitz and distances are measured in the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), the bound becomes $L_{\\text{death}}\\le C_d (\\mathrm{Per}(\\varphi(E))/\\sigma)\\,L_\\varphi$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-95",
      "title": "Heat‑Lipschitz ({prf:ref}`axiom-reward-regularity`)bility is Lipschitz with constant $\\lesssim boundary ({prf:ref}`axiom-boundary-smoothness`): lem-boLipschitz ({prf:ref}`axiom-reward-regularity`)",
      "start_line": 1236,
      "end_line": 1247,
      "header_lines": [],
      "content_start": 1237,
      "content_end": 1246,
      "content": "1237: :::{prf:lemma} Heat‑Lipschitz ({prf:ref}`axiom-reward-regularity`)bility is Lipschitz with constant $\\lesssim boundary ({prf:ref}`axiom-boundary-smoothness`): lem-boLipschitz ({prf:ref}`axiom-reward-regularity`)\n1238: This lemma provides the quantitative Lipschitz bouboundary ({prf:ref}`axiom-boundary-smoothness`)prf:ref}`axiom-boundary-regularity` for the heat kernel perturbation measure ({prf:ref}`def-perturbation-measure`).\n1239: \n1240: Let $E=\\mathcal{X}_{\\mathrm{invalid}}\\subset\\mathcal X$ have finite perimeter and let $p_{\\sigma^2}$ be the heat kernel at scale $\\sigma$. Define $P_\\sigma(x)=\\int \\chi_E(y)\\,p_{\\sigma^2}(x,\\mathrm dy)$. Then\n1241: \n1242: $$\n1243: \n1244: |P_\\sigma(x)-P_\\sigma(y)|\\;\\le\\; C_d'\\,\\frac{\\mathrm{Per}(E)}{\\sigma}\\, d_{\\mathcal X}(x,y),\n1245: \n1246: $$",
      "metadata": {},
      "section": "## 5. Algorithmic Noise Measures",
      "references": [
        "axiom-boundary-smoothness",
        "def-perturbation-measure"
      ],
      "raw_directive": "1236: #### 5.2.4 Lemma: Heat‑kernel Lipschitz bound via BV smoothing\n1237: :::{prf:lemma} Heat‑Lipschitz ({prf:ref}`axiom-reward-regularity`)bility is Lipschitz with constant $\\lesssim boundary ({prf:ref}`axiom-boundary-smoothness`): lem-boLipschitz ({prf:ref}`axiom-reward-regularity`)\n1238: This lemma provides the quantitative Lipschitz bouboundary ({prf:ref}`axiom-boundary-smoothness`)prf:ref}`axiom-boundary-regularity` for the heat kernel perturbation measure ({prf:ref}`def-perturbation-measure`).\n1239: \n1240: Let $E=\\mathcal{X}_{\\mathrm{invalid}}\\subset\\mathcal X$ have finite perimeter and let $p_{\\sigma^2}$ be the heat kernel at scale $\\sigma$. Define $P_\\sigma(x)=\\int \\chi_E(y)\\,p_{\\sigma^2}(x,\\mathrm dy)$. Then\n1241: \n1242: $$\n1243: \n1244: |P_\\sigma(x)-P_\\sigma(y)|\\;\\le\\; C_d'\\,\\frac{\\mathrm{Per}(E)}{\\sigma}\\, d_{\\mathcal X}(x,y),\n1245: \n1246: $$\n1247: with a constant $C_d'$ depending on dimension. Consequently $L_{\\text{death}}\\lesssim (\\mathrm{Per}(\\varphi(E))/\\sigma)\\,L_\\varphi$ in the algorithmic metric.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 5,
        "chapter_file": "chapter_5.json",
        "section_id": "## 5. Algorithmic Noise Measures"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-74",
      "title": "Empirical moments are Lipschitz in L2",
      "start_line": 1360,
      "end_line": 1379,
      "header_lines": [],
      "content_start": 1363,
      "content_end": 1378,
      "content": "1363: \n1364: Let $\\mathbf v\\in\\mathbb R^k$ collect the values of the $k=|\\mathcal A(\\mathcal S)|$ alive walkers ({prf:ref}`def-alive-dead-sets`). Consider the empirical mean and second raw moment\n1365: \n1366: $$\n1367: \\mu(\\mathbf v) = \\frac{1}{k}\\sum_{i=1}^k v_i,\\qquad m_2(\\mathbf v) = \\frac{1}{k}\\sum_{i=1}^k v_i^{\\,2}.\n1368: \n1369: $$\n1370: \n1371: Assume $|v_i|\\le V_{\\max}$ for all $i$. Then, with respect to the L2 norm on $\\mathbb R^k$,\n1372: \n1373: $$\n1374: |\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|\\;\\le\\; \\frac{1}{\\sqrt{k}}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2,\\qquad\n1375: |m_2(\\mathbf v_1)-m_2(\\mathbf v_2)|\\;\\le\\; \\frac{2 V_{\\max}}{\\sqrt{k}}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2.\n1376: \n1377: $$\n1378: ",
      "metadata": {},
      "section": "## 7. Swarm ({prf:ref}`def-swarm-and-state-space`) Measuring",
      "references": [
        "def-alive-dead-sets"
      ],
      "raw_directive": "1360: ##### 7.2.2.1 Lemma: Lipschitz constants for empirical moments (mean and second moment)\n1361: :::{prf:lemma} Empirical moments are Lipschitz in L2\n1362: :llipschitz ({prf:ref}`axiom-reward-regularity`)l-moments-lipschitz\n1363: \n1364: Let $\\mathbf v\\in\\mathbb R^k$ collect the values of the $k=|\\mathcal A(\\mathcal S)|$ alive walkers ({prf:ref}`def-alive-dead-sets`). Consider the empirical mean and second raw moment\n1365: \n1366: $$\n1367: \\mu(\\mathbf v) = \\frac{1}{k}\\sum_{i=1}^k v_i,\\qquad m_2(\\mathbf v) = \\frac{1}{k}\\sum_{i=1}^k v_i^{\\,2}.\n1368: \n1369: $$\n1370: \n1371: Assume $|v_i|\\le V_{\\max}$ for all $i$. Then, with respect to the L2 norm on $\\mathbb R^k$,\n1372: \n1373: $$\n1374: |\\mu(\\mathbf v_1)-\\mu(\\mathbf v_2)|\\;\\le\\; \\frac{1}{\\sqrt{k}}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2,\\qquad\n1375: |m_2(\\mathbf v_1)-m_2(\\mathbf v_2)|\\;\\le\\; \\frac{2 V_{\\max}}{\\sqrt{k}}\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2.\n1376: \n1377: $$\n1378: \n1379: In particular, for the empirical aggregator we may take $L_{\\mu,M}=1/\\sqrt{k}$ and $L_{m_2,M}=2V_{\\max}/\\sqrt{k}$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 7,
        "chapter_file": "chapter_7.json",
        "section_id": "## 7. Swarm ({prf:ref}`def-swarm-and-state-space`) Measuring"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-empirical-aggregator-properties",
      "title": "Axiomatic Properties of the Empirical Measure Aggregator",
      "start_line": 1394,
      "end_line": 1410,
      "header_lines": [
        1395
      ],
      "content_start": 1396,
      "content_end": 1409,
      "content": "1396: :label: lem-empirical-aggregator-properties\n1397: Let the aggregation operator $M$ be defined such that for any swarm state $\\mathcal{S}$ ({prf:ref}`def-swarm-and-state-space`) with alive set $\\mathcal{A}(\\mathcal{S})$ ({prf:ref}`def-alive-dead-sets`) of size $k = |\\mathcal{A}(\\mathcal{S})| \\ge 1$, and any raw value vector $\\mathbf{v}$, it produces the discrete empirical measure:\n1398: \n1399: $$\n1400: M(\\mathcal{S}, \\mathbf{v}) = \\frac{1}{k} \\sum_{i \\in \\mathcal{A}(\\mathcal{S})} \\delta_{v_i}\n1401: \n1402: $$\n1403: \n1404: :::{note}\n1405: **Breaking down this formula**:\n1406: - $k = |\\mathcal{A}(\\mathcal{S})|$ is the number of alive walker ({prf:ref}`def-walker`)s\n1407: - $\\delta_{v_i}$ is a \"spike\" (Dirac delta) at value $v_i$ - it puts all probability mass exactly at that point\n1408: - The sum creates a collection of spikes, one for each alive walker ({prf:ref}`def-walker`)'s value\n1409: - The $\\frac{1}{k}$ factor gives each walker ({prf:ref}`def-walker`) equal weight",
      "metadata": {
        "label": "lem-empirical-aggregator-properties"
      },
      "section": "## 7. Swarm ({prf:ref}`def-swarm-and-state-space`) Measuring",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "1394: The most fundamental aggregation operator is one that produces the standard empirical measure of the raw values from the alive set ({prf:ref}`def-alive-dead-sets`). We now formally prove that this operator satisfies the axiomatic requirements of {prf:ref}`def-swarm-aggregation-operator-axiomatic` and derive its specific continuity constants and growth exponents.\n1395: :::{prf:lemma} Axiomatic Properties of the Empirical Measure Aggregator\n1396: :label: lem-empirical-aggregator-properties\n1397: Let the aggregation operator $M$ be defined such that for any swarm state $\\mathcal{S}$ ({prf:ref}`def-swarm-and-state-space`) with alive set $\\mathcal{A}(\\mathcal{S})$ ({prf:ref}`def-alive-dead-sets`) of size $k = |\\mathcal{A}(\\mathcal{S})| \\ge 1$, and any raw value vector $\\mathbf{v}$, it produces the discrete empirical measure:\n1398: \n1399: $$\n1400: M(\\mathcal{S}, \\mathbf{v}) = \\frac{1}{k} \\sum_{i \\in \\mathcal{A}(\\mathcal{S})} \\delta_{v_i}\n1401: \n1402: $$\n1403: \n1404: :::{note}\n1405: **Breaking down this formula**:\n1406: - $k = |\\mathcal{A}(\\mathcal{S})|$ is the number of alive walker ({prf:ref}`def-walker`)s\n1407: - $\\delta_{v_i}$ is a \"spike\" (Dirac delta) at value $v_i$ - it puts all probability mass exactly at that point\n1408: - The sum creates a collection of spikes, one for each alive walker ({prf:ref}`def-walker`)'s value\n1409: - The $\\frac{1}{k}$ factor gives each walker ({prf:ref}`def-walker`) equal weight\n1410: **Result**: A probability distribution that treats each alive walker ({prf:ref}`def-walker`)'s measurement as equally important. This is the foundation for computing means, variances, and other statistics!",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 7,
        "chapter_file": "chapter_7.json",
        "section_id": "## 7. Swarm ({prf:ref}`def-swarm-and-state-space`) Measuring"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-set-difference-bound",
      "title": "Bound on the Error from Companion Set Change",
      "start_line": 1581,
      "end_line": 1593,
      "header_lines": [
        1582
      ],
      "content_start": 1583,
      "content_end": 1592,
      "content": "1583: :label: lem-set-difference-bound\n1584: Let $S_1$ and $S_2$ be two companion support sets, with $|S_1| > 0$. Let $f_j = f(x_j)$ be a real-valued function bounded by a constant $M_f$ such that $|f_j| \\le M_f$ for all $j$.\n1585: The absolute difference between the sums over these two sets, normalized by the initial set size $|S_1|$, is bounded by the size of the symmetric difference between the sets, $|S_1 \\Delta S_2|$.\n1586: \n1587: $$\n1588: \n1589: \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_1} f_j - \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j \\right| \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2|\n1590: \n1591: $$\n1592: ",
      "metadata": {
        "label": "lem-set-difference-bound"
      },
      "section": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)",
      "references": [
        "proof-thm-total-error-status-bound"
      ],
      "raw_directive": "1581: This lemma bounds the component of the error that arises purely from the change in the set of companions, holding the normalization constant fixed.\n1582: :::{prf:lemma} Bound on the Error from Companion Set Change\n1583: :label: lem-set-difference-bound\n1584: Let $S_1$ and $S_2$ be two companion support sets, with $|S_1| > 0$. Let $f_j = f(x_j)$ be a real-valued function bounded by a constant $M_f$ such that $|f_j| \\le M_f$ for all $j$.\n1585: The absolute difference between the sums over these two sets, normalized by the initial set size $|S_1|$, is bounded by the size of the symmetric difference between the sets, $|S_1 \\Delta S_2|$.\n1586: \n1587: $$\n1588: \n1589: \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_1} f_j - \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j \\right| \\le \\frac{M_f}{|S_1|} |S_1 \\Delta S_2|\n1590: \n1591: $$\n1592: \n1593: Used in {prf:ref}`proof-thm-total-error-status-bound`.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-normalization-difference-bound",
      "title": "Bound on the Error from Normalization Change",
      "start_line": 1620,
      "end_line": 1632,
      "header_lines": [
        1621
      ],
      "content_start": 1622,
      "content_end": 1631,
      "content": "1622: :label: lem-normalization-difference-bound\n1623: Let $S_1$ and $S_2$ be two companion support sets, with $|S_1|, |S_2| > 0$. Let $f_j = f(x_j)$ be a real-valued function bounded by a constant $M_f$.\n1624: The absolute difference between two sums over the *same* set $S_2$, but with different normalization constants, is bounded by the absolute difference in the set sizes.\n1625: \n1626: $$\n1627: \n1628: \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j - \\frac{1}{|S_2|} \\sum_{j \\in S_2} f_j \\right| \\le \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big|\n1629: \n1630: $$\n1631: ",
      "metadata": {
        "label": "lem-normalization-difference-bound"
      },
      "section": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)",
      "references": [
        "proof-thm-total-error-status-bound"
      ],
      "raw_directive": "1620: This lemma bounds the component of the error that arises from changing the normalization constants, from $1/|S_1|$ to $1/|S_2|$, while holding the summation set fixed.\n1621: :::{prf:lemma} Bound on the Error from Normalization Change\n1622: :label: lem-normalization-difference-bound\n1623: Let $S_1$ and $S_2$ be two companion support sets, with $|S_1|, |S_2| > 0$. Let $f_j = f(x_j)$ be a real-valued function bounded by a constant $M_f$.\n1624: The absolute difference between two sums over the *same* set $S_2$, but with different normalization constants, is bounded by the absolute difference in the set sizes.\n1625: \n1626: $$\n1627: \n1628: \\left| \\frac{1}{|S_1|} \\sum_{j \\in S_2} f_j - \\frac{1}{|S_2|} \\sum_{j \\in S_2} f_j \\right| \\le \\frac{M_f}{|S_1|} \\big||S_1| - |S_2|\\big|\n1629: \n1630: $$\n1631: \n1632: Used in {prf:ref}`proof-thm-total-error-status-bound`.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 8,
        "chapter_file": "chapter_8.json",
        "section_id": "## 8. Companion Selection ({prf:ref}`def-companion-selection-measure`)"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-cubic-patch-uniqueness",
      "title": "Existence and Uniqueness of the Smooth ({prf:ref}`axiom-boundary-smoothness`)le Patch",
      "start_line": 1772,
      "end_line": 1777,
      "header_lines": [
        1773
      ],
      "content_start": 1774,
      "content_end": 1776,
      "content": "1774: :label: lem-cubic-patch-uniqueness\n1775: This lemma establishes the mathematical foundation for the cboundary ({prf:ref}`axiom-boundary-smoothness`)rf:ref}`def-asymmetric-rescale-function`.\n1776: ",
      "metadata": {
        "label": "lem-cubic-patch-uniqueness"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-boundary-smoothness"
      ],
      "raw_directive": "1772: The construction of the $Smooth Piecewise Rescale Function ({prf:ref}`def-axiom-rescale-function`)$ relies on the existence of a unique cubic polynomial that seamlessly connects the logarithmic and constant segments. The following lemma provides the formal proof that such a polynomial is always uniquely determined by the specified boundary conditions.\n1773: :::{prf:lemma} Existence and Uniqueness of the Smooth ({prf:ref}`axiom-boundary-smoothness`)le Patch\n1774: :label: lem-cubic-patch-uniqueness\n1775: This lemma establishes the mathematical foundation for the cboundary ({prf:ref}`axiom-boundary-smoothness`)rf:ref}`def-asymmetric-rescale-function`.\n1776: \n1777: For any $z_max > 1$, there exists boundary ({prf:ref}`axiom-boundary-smoothness`)olynomial $P(z)$ that satisfies the four $C¹$ boundary conditions specified in the asymmetric rescale function definition.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-cubic-patch-coefficients",
      "title": "Explicit Coefficients of the Smooth ({prf:ref}`axiom-boundary-smoothness`)le Patch",
      "start_line": 1823,
      "end_line": 1833,
      "header_lines": [
        1824
      ],
      "content_start": 1825,
      "content_end": 1832,
      "content": "1825: :label: lem-cubic-patch-coefficients\n1826: Let the cubic polynomial patch $P(z)$ be defined on the interval $[z_{\\max}-1, z_{\\max}]$. Let this interval beboundary ({prf:ref}`axiom-boundary-smoothness`)he variable $s = z - (z_{\\max}-1)$, such that $z \\in [z_{\\max}-1, z_{\\max}]$ boundary ({prf:ref}`axiom-boundary-smoothness`)s \\in [0, 1]$. In this normalized coordinate system, the polynomial can be wrboundary ({prf:ref}`axiom-boundary-smoothness`)z(s)) = Q(s) = As^3 + Bs^2 + Cs + D\n1827: \n1828: $$\n1829: The four coefficients, $A, B, C, D$, are uniquely determined by the boundary conditions and the parameter $z_{\\max} > 1$:\n1830: *   $A = \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1831: *   $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}$\n1832: *   $C = \\frac{1}{z_{\\max}}$",
      "metadata": {
        "label": "lem-cubic-patch-coefficients"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-boundary-smoothness"
      ],
      "raw_directive": "1823: To analyze the properties of the derivative of the polynomial patch $P(z)$, we must first find its explicit coefficients. While {prf:ref}`lem-cubic-patch-uniqueness` guarantees their existence and uniqueness, the following lemma provides their exact form in terms of the single governing parameter, $z_{\\max}$.\n1824: :::{prf:lemma} Explicit Coefficients of the Smooth ({prf:ref}`axiom-boundary-smoothness`)le Patch\n1825: :label: lem-cubic-patch-coefficients\n1826: Let the cubic polynomial patch $P(z)$ be defined on the interval $[z_{\\max}-1, z_{\\max}]$. Let this interval beboundary ({prf:ref}`axiom-boundary-smoothness`)he variable $s = z - (z_{\\max}-1)$, such that $z \\in [z_{\\max}-1, z_{\\max}]$ boundary ({prf:ref}`axiom-boundary-smoothness`)s \\in [0, 1]$. In this normalized coordinate system, the polynomial can be wrboundary ({prf:ref}`axiom-boundary-smoothness`)z(s)) = Q(s) = As^3 + Bs^2 + Cs + D\n1827: \n1828: $$\n1829: The four coefficients, $A, B, C, D$, are uniquely determined by the boundary conditions and the parameter $z_{\\max} > 1$:\n1830: *   $A = \\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)$\n1831: *   $B = 3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}$\n1832: *   $C = \\frac{1}{z_{\\max}}$\n1833: *   $D = \\log(z_{\\max}) + 1$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-cubic-patch-derivative",
      "title": "Explicit Form of the Polynomial Patch Derivative",
      "start_line": 1875,
      "end_line": 1884,
      "header_lines": [
        1876
      ],
      "content_start": 1877,
      "content_end": 1883,
      "content": "1877: :label: lem-cubic-patch-derivative\n1878: Let $P(z)$ be the cubic polynomial patch on the interval $[z_{\\max}-1, z_{\\max}]$, and let $s = z - (z_{\\max}-1)$ be the normalized coordinate on $[0, 1]$. The first derivative of the polynomial, $P'(z)$, is a quadratic function of the normalized coordinate $s$, given by:\n1879: \n1880: $$\n1881: \n1882: P'(z(s)) = 3\\left(\\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}\\right)s + \\frac{1}{z_{\\max}}\n1883: ",
      "metadata": {
        "label": "lem-cubic-patch-derivative"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1875: Having derived the explicit coefficients for the cubic polynomial patch, we can now define the exact functional form of its first derivative. This isolates the quadratic function whose bounds we must analyze to establish the global Lipschitz continuity of the complete rescale function ({prf:ref}`def-axiom-rescale-function`).\n1876: :::{prf:lemma} Explicit Form of the Polynomial Patch Derivative\n1877: :label: lem-cubic-patch-derivative\n1878: Let $P(z)$ be the cubic polynomial patch on the interval $[z_{\\max}-1, z_{\\max}]$, and let $s = z - (z_{\\max}-1)$ be the normalized coordinate on $[0, 1]$. The first derivative of the polynomial, $P'(z)$, is a quadratic function of the normalized coordinate $s$, given by:\n1879: \n1880: $$\n1881: \n1882: P'(z(s)) = 3\\left(\\frac{1}{z_{\\max}} - 2\\log\\left(1 + \\frac{1}{z_{\\max}}\\right)\\right)s^2 + 2\\left(3\\log\\left(1 + \\frac{1}{z_{\\max}}\\right) - \\frac{2}{z_{\\max}}\\right)s + \\frac{1}{z_{\\max}}\n1883: \n1884: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-polynomial-patch-monotonicity",
      "title": "Monotonicity of the Polynomial Patch",
      "start_line": 1914,
      "end_line": 1917,
      "header_lines": [
        1915
      ],
      "content_start": 1916,
      "content_end": 1916,
      "content": "1916: :label: lem-polynomial-patch-monotonicity",
      "metadata": {
        "label": "lem-polynomial-patch-monotonicity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [],
      "raw_directive": "1914: ##### 8.2.2.4 Lemma: Monotonicity of the Polynomial Patch (Fritsch–Carlson/Hyman)\n1915: :::{prf:lemma} Monotonicity of the Polynomial Patch\n1916: :label: lem-polynomial-patch-monotonicity\n1917: Let $z_0=z_{\\max}-1$, $z_1=z_{\\max}$, $y_0=\\log(z_{\\max})+1$, $y_1=\\log(1+z_{\\max})+1$, and endpoint slopes $m_0=P'(z_0)=1/z_{\\max}$, $m_1=P'(z_1)=0$. Set the secant $\\Delta:=(y_1-y_0)/(z_1-z_0)=\\log(1+1/z_{\\max})>0$. Then the Hermite cubic $P$ on $[z_0,z_1]$ with $(y_0,m_0),(y_1,m_1)$ is monotonically non‑decreasing.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-cubic-patch-derivative-bounds",
      "title": "Bounds on the Polynomial Patch Derivative",
      "start_line": 1928,
      "end_line": 1944,
      "header_lines": [
        1929
      ],
      "content_start": 1930,
      "content_end": 1943,
      "content": "1930: :label: lem-cubic-patch-derivative-bounds\n1931: Let $P'(z(s))$ be the derivative of the cubic patch on the interval $s \\in [0, 1]$, as defined in {prf:ref}`lem-cubic-patch-derivative`. This derivative is uniformly bounded on its domain for any choice of $z_{\\max} > 1$. Specifically, it satisfies:\n1932: \n1933: $$\n1934: \n1935: 0 \\le P'(z(s)) \\le L_P\n1936: \n1937: $$\n1938: where $L_P$ is a constant slightly greater than 1, given by:\n1939: \n1940: $$\n1941: \n1942: L_P = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)} \\approx 1.0054\n1943: ",
      "metadata": {
        "label": "lem-cubic-patch-derivative-bounds"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "lem-cubic-patch-derivative"
      ],
      "raw_directive": "1928: ##### 8.2.2.5 Lemma: Bounds on the Polynomial Patch Derivative\n1929: :::{prf:lemma} Bounds on the Polynomial Patch Derivative\n1930: :label: lem-cubic-patch-derivative-bounds\n1931: Let $P'(z(s))$ be the derivative of the cubic patch on the interval $s \\in [0, 1]$, as defined in {prf:ref}`lem-cubic-patch-derivative`. This derivative is uniformly bounded on its domain for any choice of $z_{\\max} > 1$. Specifically, it satisfies:\n1932: \n1933: $$\n1934: \n1935: 0 \\le P'(z(s)) \\le L_P\n1936: \n1937: $$\n1938: where $L_P$ is a constant slightly greater than 1, given by:\n1939: \n1940: $$\n1941: \n1942: L_P = 1 + \\frac{(3\\log(2)-2)^2}{3(2\\log(2)-1)} \\approx 1.0054\n1943: \n1944: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-rescale-monotonicity",
      "title": "Monotonicity of the Smooth Rescale Function",
      "start_line": 2008,
      "end_line": 2012,
      "header_lines": [
        2009
      ],
      "content_start": 2011,
      "content_end": 2011,
      "content": "2011: ",
      "metadata": {
        "label": "lem-rescale-monotonicity"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "def-axiom-rescale-function"
      ],
      "raw_directive": "2008: A critical property of the rescale function ({prf:ref}`def-axiom-rescale-function`) $g_A(z)$ is that it must be monotonically non-decreasing. This ensures that a higher standardized score always results in a higher (or equal) rescaled value, preserving the intended ordering of walker potentials. The following lemma formalizes this property for the entire function.\n2009: :::{prf:lemma} Monotonicity of the Smooth Rescale Function\n2010: :label: lem-rescale-monotonicity\n2011: \n2012: The $Smooth Piecewise Rescale Function ({prf:ref}`def-axiom-rescale-function`)$ $g_A(z)$ is monotonically non-decreasing on $ℝ$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-lipschitz-constant-of-the-patched-standardization",
      "title": "Lipschitz constant of the patched standardization",
      "start_line": 2079,
      "end_line": 2089,
      "header_lines": [
        2080
      ],
      "content_start": 2081,
      "content_end": 2088,
      "content": "2081: :label: lem-lipschitz-constant-of-the-patched-standardization\n2082: Let $z=\\sigma\\'_{\\teLipschitz ({prf:ref}`axiom-reward-regularity`)enote the patched standardization of raw values with variance flooLipschitz ({prf:ref}`axiom-reward-regularity`)ext{std}}>0$, and let $g_A$ be the piecewise rescale in §8.2.2. Then $g_A\\circ z$ Lipschitz ({prf:ref}`axiom-reward-regularity`)itz. In particular, if the variance functional of the chosen aggregator is $L_{\\mathrm{var}}$‑Lipschitz (see §8.2.2.10), then\n2083: \n2084: $$\n2085: \n2086: L_{g_A\\circ z}\\;\\le\\; L_{g_A}\\cdot L_{z},\\qquad L_{g_A}\\le \\max\\{L_P,1\\},\\quad L_{z}\\le L_{\\sigma\\'_{\\text{reg}}}\\,L_{\\mathrm{var}}.\n2087: \n2088: $$",
      "metadata": {
        "label": "lem-lipschitz-constant-of-the-patched-standardization"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-reward-regularity",
        "lem-cubic-patch-derivative-bounds",
        "lem-sigma-patch-derivative-bound"
      ],
      "raw_directive": "2079: ##### 8.2.2.8 Global Lipschitz bound for the standardized map\n2080: :::{prf:lemma} Lipschitz constant of the patched standardization\n2081: :label: lem-lipschitz-constant-of-the-patched-standardization\n2082: Let $z=\\sigma\\'_{\\teLipschitz ({prf:ref}`axiom-reward-regularity`)enote the patched standardization of raw values with variance flooLipschitz ({prf:ref}`axiom-reward-regularity`)ext{std}}>0$, and let $g_A$ be the piecewise rescale in §8.2.2. Then $g_A\\circ z$ Lipschitz ({prf:ref}`axiom-reward-regularity`)itz. In particular, if the variance functional of the chosen aggregator is $L_{\\mathrm{var}}$‑Lipschitz (see §8.2.2.10), then\n2083: \n2084: $$\n2085: \n2086: L_{g_A\\circ z}\\;\\le\\; L_{g_A}\\cdot L_{z},\\qquad L_{g_A}\\le \\max\\{L_P,1\\},\\quad L_{z}\\le L_{\\sigma\\'_{\\text{reg}}}\\,L_{\\mathrm{var}}.\n2087: \n2088: $$\n2089: Here $L_P=\\|P'\\|_\\infty$ is the uniform derivative bound from {prf:ref}`lem-cubic-patch-derivative-bounds`. The factor $L_{\\sigma\\'_{\\text{reg}}}$ is the global Lipschitz constant of the regularized standard deviation, provided by {prf:ref}`lem-sigma-patch-derivative-bound`.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sigma-patch-derivative-bound",
      "title": "Derivative bound for \\sigma\\'_{\\text{reg}}",
      "start_line": 2091,
      "end_line": 2100,
      "header_lines": [
        2092
      ],
      "content_start": 2093,
      "content_end": 2099,
      "content": "2093: :label: lem-sigma-patch-derivative-bound\n2094: Let $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ be the regularized standard deviation, where $\\sigma'_{\\min} = \\sqrt{\\kappa_{\\text{var,min}}Lipschitz ({prf:ref}`axiom-reward-regularity`)ext{std}}^2}$. Its global derivative bound is:\n2095: \n2096: $$\n2097: \n2098: L_{\\sigma\\'_{\\text{reg}}}=\\sup_{V\\ge 0}\\big|\\,(\\sigma\\'_{\\text{reg}})'(Lipschitz ({prf:ref}`axiom-reward-regularity`)}{2\\sigma'_{\\min}} = \\frac{1}{2\\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}}\n2099: ",
      "metadata": {
        "label": "lem-sigma-patch-derivative-bound"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-reward-regularity"
      ],
      "raw_directive": "2091: ##### 8.2.2.9 Lemma: Patched standard deviation derivative bound\n2092: :::{prf:lemma} Derivative bound for \\sigma\\'_{\\text{reg}}\n2093: :label: lem-sigma-patch-derivative-bound\n2094: Let $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ be the regularized standard deviation, where $\\sigma'_{\\min} = \\sqrt{\\kappa_{\\text{var,min}}Lipschitz ({prf:ref}`axiom-reward-regularity`)ext{std}}^2}$. Its global derivative bound is:\n2095: \n2096: $$\n2097: \n2098: L_{\\sigma\\'_{\\text{reg}}}=\\sup_{V\\ge 0}\\big|\\,(\\sigma\\'_{\\text{reg}})'(Lipschitz ({prf:ref}`axiom-reward-regularity`)}{2\\sigma'_{\\min}} = \\frac{1}{2\\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}}\n2099: \n2100: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-lipschitz-bound-for-the-variance-functional",
      "title": "LipschitLipschitz ({prf:ref}`axiom-reward-regularity`)riance functional",
      "start_line": 2102,
      "end_line": 2112,
      "header_lines": [
        2103
      ],
      "content_start": 2104,
      "content_end": 2111,
      "content": "2104: :label: lem-lipschitz-bound-for-the-variance-functional\n2105: Let $\\mu(\\mathbf v)$ and $m_2(\\mathbf v)$ denote, respectively, the (aggregaLipschitz ({prf:ref}`axiom-reward-regularity`)nd raw moment computed from a value vector $\\mathbf v\\in\\mathbb{R}^k$ over the alive set ({prf:ref}`def-alive-dead-sets`). Assume the moment maps are Lipschitz in $\\mathbf v$ with constants $L_{\\mu,M}$ and $L_{m_2,M}$ as in §6.2.1, and suppose $|v_i|\\le V_{\\max}$. Define the variance functional $\\mathrm{Var}(\\mathbf v):=m_2(\\mathbf v) - \\mu(\\mathbf v)^2$. Then, for all $\\mathbf v_1,\\mathbf v_2$,\n2106: \n2107: $$\n2108: \n2109: \\big|\\,\\mathrm{Var}(\\mathbf v_1)-\\mathrm{Var}(\\mathbf v_2)\\,\\big|\\;\\le\\;\\Big( L_{m_2,M}\\; +\\; 2 V_{\\max}\\,L_{\\mu,M}\\Big)\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2.\n2110: \n2111: $$",
      "metadata": {
        "label": "lem-lipschitz-bound-for-the-variance-functional"
      },
      "section": "## 9. Rescale Transformation",
      "references": [
        "axiom-reward-regularity",
        "def-alive-dead-sets"
      ],
      "raw_directive": "2102: ##### 8.2.2.10 Lemma: Lipschitz constant of the empirical variance\n2103: :::{prf:lemma} LipschitLipschitz ({prf:ref}`axiom-reward-regularity`)riance functional\n2104: :label: lem-lipschitz-bound-for-the-variance-functional\n2105: Let $\\mu(\\mathbf v)$ and $m_2(\\mathbf v)$ denote, respectively, the (aggregaLipschitz ({prf:ref}`axiom-reward-regularity`)nd raw moment computed from a value vector $\\mathbf v\\in\\mathbb{R}^k$ over the alive set ({prf:ref}`def-alive-dead-sets`). Assume the moment maps are Lipschitz in $\\mathbf v$ with constants $L_{\\mu,M}$ and $L_{m_2,M}$ as in §6.2.1, and suppose $|v_i|\\le V_{\\max}$. Define the variance functional $\\mathrm{Var}(\\mathbf v):=m_2(\\mathbf v) - \\mu(\\mathbf v)^2$. Then, for all $\\mathbf v_1,\\mathbf v_2$,\n2106: \n2107: $$\n2108: \n2109: \\big|\\,\\mathrm{Var}(\\mathbf v_1)-\\mathrm{Var}(\\mathbf v_2)\\,\\big|\\;\\le\\;\\Big( L_{m_2,M}\\; +\\; 2 V_{\\max}\\,L_{\\mu,M}\\Big)\\,\\|\\mathbf v_1-\\mathbf v_2\\|_2.\n2110: \n2111: $$\n2112: In particular, the variance functional is $L_{\\mathrm{var}}$‑Lipschitz with $L_{\\mathrm{var}}:=L_{m_2,M}+2 V_{\\max} L_{\\mu,M}$.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 9,
        "chapter_file": "chapter_9.json",
        "section_id": "## 9. Rescale Transformation"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-positional-error",
      "title": "Bound on Single-Walker Error from Positional Change",
      "start_line": 2270,
      "end_line": 2280,
      "header_lines": [
        2271
      ],
      "content_start": 2272,
      "content_end": 2279,
      "content": "2272: :label: lem-single-walker-positional-error\n2273: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For a given walker ({prf:ref}`def-walker`) $i$ that is alive in swarm $\\mathcal{S}_1$ ($s_{1,i}=1$), let $\\mathbb{C}_i(\\mathcal{S}_1)$ be its companion selection measure.\n2274: The absolute error in its expected distance due to the positional displacement of the walker ({prf:ref}`def-walker`)s between the two states, evaluated over the fixed companion set from $\\mathcal{S}_1$, is bounded by the sum of its own displacement and the average displacement of its potential companions.\n2275: \n2276: $$\n2277: \n2278: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right]\n2279: ",
      "metadata": {
        "label": "lem-single-walker-positional-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2270: #### 10.2.1 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Positional Change\n2271: :::{prf:lemma} Bound on Single-Walker Error from Positional Change\n2272: :label: lem-single-walker-positional-error\n2273: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For a given walker ({prf:ref}`def-walker`) $i$ that is alive in swarm $\\mathcal{S}_1$ ($s_{1,i}=1$), let $\\mathbb{C}_i(\\mathcal{S}_1)$ be its companion selection measure.\n2274: The absolute error in its expected distance due to the positional displacement of the walker ({prf:ref}`def-walker`)s between the two states, evaluated over the fixed companion set from $\\mathcal{S}_1$, is bounded by the sum of its own displacement and the average displacement of its potential companions.\n2275: \n2276: $$\n2277: \n2278: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right]\n2279: \n2280: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-structural-error",
      "title": "Bound on Single-Walker Error from Structural Change",
      "start_line": 2314,
      "end_line": 2325,
      "header_lines": [
        2315
      ],
      "content_start": 2316,
      "content_end": 2324,
      "content": "2316: :label: lem-single-walker-structural-error\n2317: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with alive set ({prf:ref}`def-alive-dead-sets`)s $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let walker ({prf:ref}`def-walker`) $i$ be alive in both swarms ($i \\in \\mathcal{A}_1 \\cap \\mathcal{A}_2$), and let the initial swarm have at least two alive walkers, $k_1=|\\mathcal{A}_1| \\ge 2$. Let the walker positions $\\mathbf{x}_2$ from the second swarm be fixed for the analysis. Let $n_c$ be the total number of status changes in the swarm.\n2318: The absolute error in the expected distance for walker ({prf:ref}`def-walker`) $i$ due to the change in the companion selection measure is bounded by:\n2319: \n2320: $$\n2321: \n2322: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2323: \n2324: $$",
      "metadata": {
        "label": "lem-single-walker-structural-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2314: #### 10.2.2 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Structural Change\n2315: :::{prf:lemma} Bound on Single-Walker Error from Structural Change\n2316: :label: lem-single-walker-structural-error\n2317: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with alive set ({prf:ref}`def-alive-dead-sets`)s $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let walker ({prf:ref}`def-walker`) $i$ be alive in both swarms ($i \\in \\mathcal{A}_1 \\cap \\mathcal{A}_2$), and let the initial swarm have at least two alive walkers, $k_1=|\\mathcal{A}_1| \\ge 2$. Let the walker positions $\\mathbf{x}_2$ from the second swarm be fixed for the analysis. Let $n_c$ be the total number of status changes in the swarm.\n2318: The absolute error in the expected distance for walker ({prf:ref}`def-walker`) $i$ due to the change in the companion selection measure is bounded by:\n2319: \n2320: $$\n2321: \n2322: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2323: \n2324: $$\n2325: where $D_{\\mathcal{Y}}$ is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`).",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-own-status-error",
      "title": "Bound on Single-Walker Error from Own Status Change",
      "start_line": 2347,
      "end_line": 2356,
      "header_lines": [
        2348
      ],
      "content_start": 2349,
      "content_end": 2355,
      "content": "2349: :label: lem-single-walker-own-status-error\n2350: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For any walker ({prf:ref}`def-walker`) $i$ whose survival status changes ($s_{1,i} \\neq s_{2,i}$), the absolute difference in its expected raw distance measurement is bounded by the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`).\n2351: \n2352: $$\n2353: \n2354: \\left| \\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)] \\right| \\le D_{\\mathcal{Y}}\n2355: ",
      "metadata": {
        "label": "lem-single-walker-own-status-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-walker",
        "def-algorithmic-space-generic",
        "axiom-bounded-algorithmic-diameter"
      ],
      "raw_directive": "2347: #### 10.2.3 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Own Status Change\n2348: :::{prf:lemma} Bound on Single-Walker Error from Own Status Change\n2349: :label: lem-single-walker-own-status-error\n2350: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For any walker ({prf:ref}`def-walker`) $i$ whose survival status changes ($s_{1,i} \\neq s_{2,i}$), the absolute difference in its expected raw distance measurement is bounded by the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`).\n2351: \n2352: $$\n2353: \n2354: \\left| \\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)] \\right| \\le D_{\\mathcal{Y}}\n2355: \n2356: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-total-squared-error-unstable",
      "title": "Bound on the Total Squared Error for Unstable Walkers",
      "start_line": 2387,
      "end_line": 2397,
      "header_lines": [
        2388
      ],
      "content_start": 2389,
      "content_end": 2396,
      "content": "2389: :label: lem-total-squared-error-unstable\n2390: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared error in the expected raw distance from the set of unstable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{unstable}}$, is bounded by the total number of status changes:\n2391: \n2392: $$\n2393: \n2394: \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} \\big|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]\\big|^2 \\le D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2,\n2395: \n2396: $$",
      "metadata": {
        "label": "lem-total-squared-error-unstable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker",
        "axiom-bounded-algorithmic-diameter",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2387: #### 10.2.5 Lemma: Bound on the Total Squared Error for Unstable Walker ({prf:ref}`def-walker`)s\n2388: :::{prf:lemma} Bound on the Total Squared Error for Unstable Walkers\n2389: :label: lem-total-squared-error-unstable\n2390: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared error in the expected raw distance from the set of unstable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{unstable}}$, is bounded by the total number of status changes:\n2391: \n2392: $$\n2393: \n2394: \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} \\big|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]\\big|^2 \\le D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2,\n2395: \n2396: $$\n2397: where $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`).",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-total-squared-error-stable",
      "title": "Bound on the Total Squared Error for Stable Walkers",
      "start_line": 2407,
      "end_line": 2416,
      "header_lines": [
        2408
      ],
      "content_start": 2409,
      "content_end": 2415,
      "content": "2409: :label: lem-total-squared-error-stable\n2410: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). The total squared error in the expected raw distance from the set of stable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, is bounded as follows:\n2411: \n2412: $$\n2413: \n2414: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 12 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2415: ",
      "metadata": {
        "label": "lem-total-squared-error-stable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2407: #### 10.2.6. Lemma: Bound on the Total Squared Error for Stable Walker ({prf:ref}`def-walker`)s\n2408: :::{prf:lemma} Bound on the Total Squared Error for Stable Walkers\n2409: :label: lem-total-squared-error-stable\n2410: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). The total squared error in the expected raw distance from the set of stable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, is bounded as follows:\n2411: \n2412: $$\n2413: \n2414: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 12 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2415: \n2416: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-walker-error-decomposition",
      "title": "Decomposition of Stable Walker Error",
      "start_line": 2447,
      "end_line": 2462,
      "header_lines": [
        2448
      ],
      "content_start": 2450,
      "content_end": 2461,
      "content": "2450: \n2451: This lemma decomposes the error for stable walkers using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`, supporting {prf:ref}`thm-distance-operator-mean-square-continuity`.\n2452: \n2453: This lemma decomposes the stable walker error using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`.\n2454: \n2455: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, the error in its expected raw distance can be decomposed into a positional error term, $\\Delta_{\\text{pos},i}$, and a structural error term, $\\Delta_{\\text{struct},i}$.\n2456: The total squared error over the set of stable walker ({prf:ref}`def-walker`)s is bounded by twice the sum of the squared norms of these two error components:\n2457: \n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2461: ",
      "metadata": {
        "label": "lem-sub-stable-walker-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "lem-single-walker-positional-error",
        "lem-single-walker-structural-error",
        "thm-distance-operator-mean-square-continuity",
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2447: \n2448: :::{prf:lemma} Decomposition of Stable Walker Error\n2449: :label: lem-sub-stable-walker-error-decomposition\n2450: \n2451: This lemma decomposes the error for stable walkers using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`, supporting {prf:ref}`thm-distance-operator-mean-square-continuity`.\n2452: \n2453: This lemma decomposes the stable walker error using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`.\n2454: \n2455: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, the error in its expected raw distance can be decomposed into a positional error term, $\\Delta_{\\text{pos},i}$, and a structural error term, $\\Delta_{\\text{struct},i}$.\n2456: The total squared error over the set of stable walker ({prf:ref}`def-walker`)s is bounded by twice the sum of the squared norms of these two error components:\n2457: \n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2461: \n2462: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-positional-error-bound",
      "title": "Bounding the Positional Error Component",
      "start_line": 2480,
      "end_line": 2490,
      "header_lines": [
        2481
      ],
      "content_start": 2483,
      "content_end": 2489,
      "content": "2483: \n2484: The total squared error arising from positional changes for stable walker ({prf:ref}`def-walker`)s is bounded by the total positional displacement of all walkers in the swarm ({prf:ref}`def-swarm-and-state-space`).\n2485: \n2486: $$\n2487: \n2488: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2489: ",
      "metadata": {
        "label": "lem-sub-stable-positional-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "2480: \n2481: :::{prf:lemma} Bounding the Positional Error Component\n2482: :label: lem-sub-stable-positional-error-bound\n2483: \n2484: The total squared error arising from positional changes for stable walker ({prf:ref}`def-walker`)s is bounded by the total positional displacement of all walkers in the swarm ({prf:ref}`def-swarm-and-state-space`).\n2485: \n2486: $$\n2487: \n2488: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2489: \n2490: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-structural-error-bound",
      "title": "Bounding the Structural Error Component for Stable Walkers",
      "start_line": 2549,
      "end_line": 2560,
      "header_lines": [
        2550
      ],
      "content_start": 2552,
      "content_end": 2559,
      "content": "2552: \n2553: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$ be the set of stable walkers, and let $\\Delta_{\\text{struct},i}$ be the error in a single walker ({prf:ref}`def-walker`)'s expected distance due to structural change.\n2554: The total squared error arising from structural changes for stable walker ({prf:ref}`def-walker`)s is bounded by the square of the total number of status changes in the swarm.\n2555: \n2556: $$\n2557: \n2558: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2559: ",
      "metadata": {
        "label": "lem-sub-stable-structural-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2549: \n2550: :::{prf:lemma} Bounding the Structural Error Component for Stable Walkers\n2551: :label: lem-sub-stable-structural-error-bound\n2552: \n2553: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$ be the set of stable walkers, and let $\\Delta_{\\text{struct},i}$ be the error in a single walker ({prf:ref}`def-walker`)'s expected distance due to structural change.\n2554: The total squared error arising from structural changes for stable walker ({prf:ref}`def-walker`)s is bounded by the square of the total number of status changes in the swarm.\n2555: \n2556: $$\n2557: \n2558: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2559: \n2560: $$",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 11,
        "chapter_file": "chapter_11.json",
        "section_id": "## 11. Distance-to-Companion Measurement"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-stats-value-continuity",
      "title": "Value Continuity of Statistical Properties",
      "start_line": 3042,
      "end_line": 3068,
      "header_lines": [
        3043
      ],
      "content_start": 3044,
      "content_end": 3067,
      "content": "3044: rac{3}{8}(V + \\sigma'^2_{\\min})^{-5/2}\n3045: \n3046: $$\n3047: \n3048: Since $V \\ge 0$, the maximum magnitude of each derivative occurs at $V = 0$, yielding the stated bounds. The general form follows from the pattern of alternating signs and double factorials in the $n$-th derivative of $(V + \\sigma'^2_{\\min})^{1/2}$.\n3049: **Q.E.D.**\n3050: :::\n3051: #### 11.1.3 Continuity of Statistical Properties\n3052: The stability of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) hinges on the continuity of the measured mean ($\\mu_{\\mathcal{A}}$) and the regularized standard deviation ($\\sigma'_{\\mathcal{A}}$). These properties are not fundamental axioms themselves but are instead consequences of the axiomatic properties of the chosen **Swarm Aggregation Operator ({prf:ref}`def-swarm-aggregation-operator-axiomatic`)** $M$ ([](#def-swarm-aggregation-operator-axiomatic)) and the Lipschitz continuity of the new **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). The following lemmas formally derive the continuity bounds for $\\mu_{\\mathcal{A}}$ and $\\sigma'_{\\mathcal{A}}$ with respect to both changes in the raw value vector and changes in the swarm's structure.\n3053: :::{prf:lemma} Value Continuity of Statistical Properties\n3054: :label: lem-stats-value-continuity\n3055: LetLipschitz ({prf:ref}`axiom-reward-regularity`)a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state with alive set ({prf:ref}`def-alive-dead-sets`) $\\mathcal{A}$ of size $k = |\\mathcal{A}| \\geq 1$. Let $\\mathbf{v}_1$ anLipschitz ({prf:ref}`axiom-reward-regularity`)e two raw value ({prf:ref}`def-raw-value-operator`) with components bounded by $V_{\\max}$. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are Lipschitz continuous with respect to the raw value vector $\\mathbf{v}$.\n3056: \n3057: $$\n3058: |\\mu(\\mathcal{S}, \\mathbf{v}_1) - \\mu(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\mu,M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n3059: \n3060: $$\n3061: \n3062: $$\n3063: |\\sigma'(\\mathcal{S}, \\mathbf{v}_1) - \\sigma'(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\sigma',M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n3064: \n3065: $$\n3066: \n3067: where $L_{\\mu,M}$ is the axiomatic value Lipschitz function for the mean from [](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic) (explicit expressions for the empirical aggregator ({prf:ref}`lem-empirical-aggregator-properties`) appear in [](#lem-empirical-aggregator-properties)), and $L_{\\sigma',M}$ is the derived Lipschitz constant for the regularized standard deviation, given by:",
      "metadata": {
        "label": "lem-stats-value-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "axiom-reward-regularity",
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-raw-value-operator",
        "lem-empirical-aggregator-properties",
        "02_euclidean_gas"
      ],
      "raw_directive": "3042: $$\n3043: (\\sigma'_{\text{reg}})'''(V) = \n3044: rac{3}{8}(V + \\sigma'^2_{\\min})^{-5/2}\n3045: \n3046: $$\n3047: \n3048: Since $V \\ge 0$, the maximum magnitude of each derivative occurs at $V = 0$, yielding the stated bounds. The general form follows from the pattern of alternating signs and double factorials in the $n$-th derivative of $(V + \\sigma'^2_{\\min})^{1/2}$.\n3049: **Q.E.D.**\n3050: :::\n3051: #### 11.1.3 Continuity of Statistical Properties\n3052: The stability of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`) hinges on the continuity of the measured mean ($\\mu_{\\mathcal{A}}$) and the regularized standard deviation ($\\sigma'_{\\mathcal{A}}$). These properties are not fundamental axioms themselves but are instead consequences of the axiomatic properties of the chosen **Swarm Aggregation Operator ({prf:ref}`def-swarm-aggregation-operator-axiomatic`)** $M$ ([](#def-swarm-aggregation-operator-axiomatic)) and the Lipschitz continuity of the new **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). The following lemmas formally derive the continuity bounds for $\\mu_{\\mathcal{A}}$ and $\\sigma'_{\\mathcal{A}}$ with respect to both changes in the raw value vector and changes in the swarm's structure.\n3053: :::{prf:lemma} Value Continuity of Statistical Properties\n3054: :label: lem-stats-value-continuity\n3055: LetLipschitz ({prf:ref}`axiom-reward-regularity`)a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state with alive set ({prf:ref}`def-alive-dead-sets`) $\\mathcal{A}$ of size $k = |\\mathcal{A}| \\geq 1$. Let $\\mathbf{v}_1$ anLipschitz ({prf:ref}`axiom-reward-regularity`)e two raw value ({prf:ref}`def-raw-value-operator`) with components bounded by $V_{\\max}$. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are Lipschitz continuous with respect to the raw value vector $\\mathbf{v}$.\n3056: \n3057: $$\n3058: |\\mu(\\mathcal{S}, \\mathbf{v}_1) - \\mu(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\mu,M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n3059: \n3060: $$\n3061: \n3062: $$\n3063: |\\sigma'(\\mathcal{S}, \\mathbf{v}_1) - \\sigma'(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\sigma',M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n3064: \n3065: $$\n3066: \n3067: where $L_{\\mu,M}$ is the axiomatic value Lipschitz function for the mean from [](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic) (explicit expressions for the empirical aggregator ({prf:ref}`lem-empirical-aggregator-properties`) appear in [](#lem-empirical-aggregator-properties)), and $L_{\\sigma',M}$ is the derived Lipschitz constant for the regularized standard deviation, given by:\n3068: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-stats-structural-continuity",
      "title": "Structural Continuity of Statistical Properties",
      "start_line": 3081,
      "end_line": 3105,
      "header_lines": [
        3082
      ],
      "content_start": 3083,
      "content_end": 3104,
      "content": "3083: The bound for the mean $\\mu$ is a direct application of the axiom in [](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic). The bound for $\\sigma'$ is derived by composition. $\\sigma'(\\mathcal{S}, \\mathbf{v})$ is the composition of the variance function $\\text{Var}(\\mathbf{v}) = m_2(\\mathcal{S}, \\mathbf{v}) - \\mu(\\mathcal{S}, \\mathbf{v})^2$ and the smoothed function $\\sigma\\'_{\\text{reg}}(V)$.\n3084: 1.  **Lipschitz Constant of $\\sigma\\'_{\\text{reg}}(V)$:** The function $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ is infinitely differentiable. Its first derivative is $(\\sigma\\'_{\\text{reg}})'(V) = \\frac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}}$, which is maximized at $V = 0$. Therefore, its global Lipschitz constant is $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$, a finite, positive constant.\n3085: 2.  **Lipschitz Constant of the Variance:** The change in variance is $|\\text{Var}(\\mathbf{v}_1) - \\text{Var}(\\mathbf{v}_2)| = |(m_2(\\mathbf{v}_1) - \\mu(\\mathbf{v}_1)^2)- (m_2(\\mathbf{v}_2) - \\mu(\\mathbf{v}_2)^2)|$. By the triangle inequality, this is $\\leq |m_2(\\mathbf{v}_1) - m_2(\\mathbf{v}_2)| + |\\mu(\\mathbf{v}_1)^2 - \\mu(\\mathbf{v}_2)^2|$.\n3086:     *   The first term is bounded by $L_{m_2,M}(\\mathcal{S}) \\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2$.\n3087:     *   The second term, $|\\mu_1-\\mu_2||\\mu_1+\\mu_2|$, is bounded by $(L_{\\mu,M}(\\mathcal{S})\\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2)(2V_{\\max})$.\n3088:     *   Thus, the Lipschitz constant for the variance, $L_{\\text{Var}}$, is bounded by $L_{m_2,M}(\\mathcal{S}) + 2V_{\\max} L_{\\mu,M}(\\mathcal{S})$.\n3089: 3.  **Chain Rule for Lipschitz Functions:** The Lipschitz constant of the composition is bounded by the product of the individual Lipschitz constants, $L(\\sigma\\'_{\\text{reg}} \\circ \\text{Var}) \\le L_{\\sigma\\'_{\\text{reg}}} \\cdot L_{\\text{Var}}$, which yields the expression for $L_{\\sigma',M}$.\n3090: **Q.E.D.**\n3091: :::\n3092: :::{prf:lemma} Structural Continuity of Statistical Properties\n3093: :label: lem-stats-structural-continuity\n3094: Lraw value ({prf:ref}`def-raw-value-operator`) a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are continuous with respect to changes in the swarm structure.\n3095: \n3096: $$\n3097: |\\mu(\\mathcal{S}_1, \\mathbf{v}) - \\mu(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n3098: \n3099: $$\n3100: \n3101: $$\n3102: |\\sigma'(\\mathcal{S}_1, \\mathbf{v}) - \\sigma'(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n3103: \n3104: $$",
      "metadata": {
        "label": "lem-stats-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space",
        "02_euclidean_gas",
        "def-walker"
      ],
      "raw_directive": "3081: :label: proof-lem-stats-value-continuity\n3082: **Proof.**\n3083: The bound for the mean $\\mu$ is a direct application of the axiom in [](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic). The bound for $\\sigma'$ is derived by composition. $\\sigma'(\\mathcal{S}, \\mathbf{v})$ is the composition of the variance function $\\text{Var}(\\mathbf{v}) = m_2(\\mathcal{S}, \\mathbf{v}) - \\mu(\\mathcal{S}, \\mathbf{v})^2$ and the smoothed function $\\sigma\\'_{\\text{reg}}(V)$.\n3084: 1.  **Lipschitz Constant of $\\sigma\\'_{\\text{reg}}(V)$:** The function $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ is infinitely differentiable. Its first derivative is $(\\sigma\\'_{\\text{reg}})'(V) = \\frac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}}$, which is maximized at $V = 0$. Therefore, its global Lipschitz constant is $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$, a finite, positive constant.\n3085: 2.  **Lipschitz Constant of the Variance:** The change in variance is $|\\text{Var}(\\mathbf{v}_1) - \\text{Var}(\\mathbf{v}_2)| = |(m_2(\\mathbf{v}_1) - \\mu(\\mathbf{v}_1)^2)- (m_2(\\mathbf{v}_2) - \\mu(\\mathbf{v}_2)^2)|$. By the triangle inequality, this is $\\leq |m_2(\\mathbf{v}_1) - m_2(\\mathbf{v}_2)| + |\\mu(\\mathbf{v}_1)^2 - \\mu(\\mathbf{v}_2)^2|$.\n3086:     *   The first term is bounded by $L_{m_2,M}(\\mathcal{S}) \\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2$.\n3087:     *   The second term, $|\\mu_1-\\mu_2||\\mu_1+\\mu_2|$, is bounded by $(L_{\\mu,M}(\\mathcal{S})\\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2)(2V_{\\max})$.\n3088:     *   Thus, the Lipschitz constant for the variance, $L_{\\text{Var}}$, is bounded by $L_{m_2,M}(\\mathcal{S}) + 2V_{\\max} L_{\\mu,M}(\\mathcal{S})$.\n3089: 3.  **Chain Rule for Lipschitz Functions:** The Lipschitz constant of the composition is bounded by the product of the individual Lipschitz constants, $L(\\sigma\\'_{\\text{reg}} \\circ \\text{Var}) \\le L_{\\sigma\\'_{\\text{reg}}} \\cdot L_{\\text{Var}}$, which yields the expression for $L_{\\sigma',M}$.\n3090: **Q.E.D.**\n3091: :::\n3092: :::{prf:lemma} Structural Continuity of Statistical Properties\n3093: :label: lem-stats-structural-continuity\n3094: Lraw value ({prf:ref}`def-raw-value-operator`) a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are continuous with respect to changes in the swarm structure.\n3095: \n3096: $$\n3097: |\\mu(\\mathcal{S}_1, \\mathbf{v}) - \\mu(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n3098: \n3099: $$\n3100: \n3101: $$\n3102: |\\sigma'(\\mathcal{S}_1, \\mathbf{v}) - \\sigma'(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n3103: \n3104: $$\n3105: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-value-error-decomposition",
      "title": "Algebraic Decomposition of the Value Error",
      "start_line": 3331,
      "end_line": 3372,
      "header_lines": [
        3332
      ],
      "content_start": 3334,
      "content_end": 3371,
      "content": "3334: \n3335: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient**, a deterministic constant derived from the axiomatic properties of the aggregation operator and the global parameters, as formally defined in [](#def-lipschitz-value-error-coefficients).\n3336: \n3337: Proof provided in {prf:ref}`proof-thm-standardization-value-error-mean-square`.\n3338: :::\n3339: The proof of this theorem requires a careful algebraic decomposition of the total error vector into three distinct and manageable components. The subsequent subsections will state and prove a deterministic bound for each of these three components. These results are then assembled in the final proof of the main theorem.\n3340: ##### 11.2.2.1. Sub-Lemma: Algebraic Decomposition of the Value Error\n3341: \n3342: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3343: :label: lem-sub-value-error-decomposition\n3344: \n3345: Let $\\mathcal{S}$ be a fixed swarm ({prf:ref}`def-swarm ({prf:ref}`def-swarm-and-state-space`)-and-stateraw value ({prf:ref}`def-raw-value-operator`)h alive set ({prf:ref}`def-alive-dead-sets`) $\\mathcal{A}$ of size $k$. Let $\\mathbf{v}_1$raw value ({prf:ref}`def-raw-value-operator`)$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $\\mathbf{z}_1$ and $\\mathbf{z}_2$ be the corresponding standardized vectors.\n3346: The total value error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of three components:\n3347: \n3348: $$\n3349: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{fluc}}\n3350: \n3351: $$\n3352: \n3353: where:\n3354: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3355: \n3356: $$\n3357: \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3358: \n3359: $$\n3360: \n3361: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walker ({prf:ref}`def-walker`)s.\n3362: \n3363: $$\n3364: \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3365: \n3366: $$\n3367: \n3368: where $**1**$ is a k-dimensional vector of ones.\n3369: 3.  **The Statistical Fluctuation ($\\Delta_fluc$):** The error from the change in the aggregator's computed standard deviation, which rescales the second standardized vector.\n3370: \n3371: $$",
      "metadata": {
        "label": "lem-sub-value-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm ({prf:ref}",
        "def-raw-value-operator",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "3331: E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n3332: \n3333: $$\n3334: \n3335: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient**, a deterministic constant derived from the axiomatic properties of the aggregation operator and the global parameters, as formally defined in [](#def-lipschitz-value-error-coefficients).\n3336: \n3337: Proof provided in {prf:ref}`proof-thm-standardization-value-error-mean-square`.\n3338: :::\n3339: The proof of this theorem requires a careful algebraic decomposition of the total error vector into three distinct and manageable components. The subsequent subsections will state and prove a deterministic bound for each of these three components. These results are then assembled in the final proof of the main theorem.\n3340: ##### 11.2.2.1. Sub-Lemma: Algebraic Decomposition of the Value Error\n3341: \n3342: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3343: :label: lem-sub-value-error-decomposition\n3344: \n3345: Let $\\mathcal{S}$ be a fixed swarm ({prf:ref}`def-swarm ({prf:ref}`def-swarm-and-state-space`)-and-stateraw value ({prf:ref}`def-raw-value-operator`)h alive set ({prf:ref}`def-alive-dead-sets`) $\\mathcal{A}$ of size $k$. Let $\\mathbf{v}_1$raw value ({prf:ref}`def-raw-value-operator`)$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $\\mathbf{z}_1$ and $\\mathbf{z}_2$ be the corresponding standardized vectors.\n3346: The total value error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of three components:\n3347: \n3348: $$\n3349: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{fluc}}\n3350: \n3351: $$\n3352: \n3353: where:\n3354: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3355: \n3356: $$\n3357: \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3358: \n3359: $$\n3360: \n3361: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walker ({prf:ref}`def-walker`)s.\n3362: \n3363: $$\n3364: \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3365: \n3366: $$\n3367: \n3368: where $**1**$ is a k-dimensional vector of ones.\n3369: 3.  **The Statistical Fluctuation ($\\Delta_fluc$):** The error from the change in the aggregator's computed standard deviation, which rescales the second standardized vector.\n3370: \n3371: $$\n3372: \\Delta_{\\text{fluc}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-481",
      "title": "Bounding the Direct Shift Error Component",
      "start_line": 3407,
      "end_line": 3418,
      "header_lines": [],
      "content_start": 3410,
      "content_end": 3417,
      "content": "3410: \n3411: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_fluc$.\n3412: 3.  **Bound on the Squared Norm.**\n3413:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3414: **Q.E.D.**\n3415: :::\n3416: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3417: ",
      "metadata": {},
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "def-raw-value-operator",
        "def-alive-dead-sets"
      ],
      "raw_directive": "3407: = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + (\\mathbf{v}_2 - \\mu_2) \\left(\\frac{1}{\\sigma'_1} - \\frac{1}{\\sigma'_2}\\right) = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3408: \n3409: $$\n3410: \n3411: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_fluc$.\n3412: 3.  **Bound on the Squared Norm.**\n3413:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3414: **Q.E.D.**\n3415: :::\n3416: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3417: \n3418: :::{prf:lemma} Bounding the Direct Shift Error Component",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-mean-shift-bound",
      "title": "Boundiraw value ({prf:ref}`def-raw-value-operator`)Error Component",
      "start_line": 3428,
      "end_line": 3439,
      "header_lines": [
        3429
      ],
      "content_start": 3431,
      "content_end": 3438,
      "content": "3431: :::{prf:proof}\n3432: :label: proof-lem-sub-direct-value-shift-bound\n3433: **Proof.**\n3434: The proof is a direct application of the definition of $\\Delta_{\\text{direct}}$ and the lower bound on $\\sigma'_1$. The squared norm is $(1/(\\sigma'_1)^2)\\|\\mathbf v_1 - \\mathbf v_2\\|_2^2$. From [](#def-statistical-properties-measurement), the regularized standard deviation obeys $\\sigma'_1\\ge \\sigma'_{\\min,\\text{bound}}$, hence $1/(\\sigma'_1)^2 \\le 1/(\\sigma'_{\\min,\\text{bound}})^2$.\n3435: **Q.E.D.**\n3436: :::\n3437: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3438: ",
      "metadata": {
        "label": "lem-sub-mean-shift-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-aliveLipschiraw value ({prf:ref}",
        "axiom-reward-regularity"
      ],
      "raw_directive": "3428: where $\\sigma'_{\\min,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}}+\\varepsilon_{\\text{std}}^2}$ is the uniform lower bound from the regularized standard deviation.\n3429: :::\n3430: \n3431: :::{prf:proof}\n3432: :label: proof-lem-sub-direct-value-shift-bound\n3433: **Proof.**\n3434: The proof is a direct application of the definition of $\\Delta_{\\text{direct}}$ and the lower bound on $\\sigma'_1$. The squared norm is $(1/(\\sigma'_1)^2)\\|\\mathbf v_1 - \\mathbf v_2\\|_2^2$. From [](#def-statistical-properties-measurement), the regularized standard deviation obeys $\\sigma'_1\\ge \\sigma'_{\\min,\\text{bound}}$, hence $1/(\\sigma'_1)^2 \\le 1/(\\sigma'_{\\min,\\text{bound}})^2$.\n3435: **Q.E.D.**\n3436: :::\n3437: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3438: \n3439: :::{prf:lemma} Boundiraw value ({prf:ref}`def-raw-value-operator`)Error Component",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-statistical-fluctuation-bound",
      "title": "Bounding the Statistical Fluctuation Error Component",
      "start_line": 3449,
      "end_line": 3460,
      "header_lines": [
        3450
      ],
      "content_start": 3452,
      "content_end": 3459,
      "content": "3452: :::{prf:proof}\n3453: :label: proof-lem-sub-mean-shift-bound\n3454: **Proof.**\n3455: The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. From the aggregator axiom ([](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic)), $(\\mu_2 - \\mu_1)^2 \\leq (L_{\\mu,M}(S))^2 \\|v_1 - v_2\\|_2^2$. Combining this with the lower bound on $\\sigma'_1$ gives the final result.\n3456: **Q.E.D.**\n3457: :::\n3458: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3459: ",
      "metadata": {
        "label": "lem-sub-statistical-fluctuation-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "def-raw-value-operator",
        "def-alive-dead-sets"
      ],
      "raw_directive": "3449: where $L_{\\mu,M}(S)$ is the axiomatic **Value Lipschitz Function** for the aggregator's mean.\n3450: :::\n3451: \n3452: :::{prf:proof}\n3453: :label: proof-lem-sub-mean-shift-bound\n3454: **Proof.**\n3455: The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. From the aggregator axiom ([](#def-swarm ({prf:ref}`def-swarm-and-state-space`)-aggregation-operator-axiomatic)), $(\\mu_2 - \\mu_1)^2 \\leq (L_{\\mu,M}(S))^2 \\|v_1 - v_2\\|_2^2$. Combining this with the lower bound on $\\sigma'_1$ gives the final result.\n3456: **Q.E.D.**\n3457: :::\n3458: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3459: \n3460: :::{prf:lemma} Bounding the Statistical Fluctuation Error Component",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-structural-error-decomposition",
      "title": "Algebraic Decomposition of the Structural Error",
      "start_line": 3571,
      "end_line": 3585,
      "header_lines": [
        3572
      ],
      "content_start": 3574,
      "content_end": 3584,
      "content": "3574: \n3575: $$\n3576: \n3577: where $C_{S,\\text{direct}}$ and $C_{S,\\text{indirect}}$ are the **Structural Error Coefficients**, deterministic constants derived from the axiomatic properties of the aggregation operator and the global parameters, as formally defined in [](#def-structural-error-coefficients).\n3578: :::\n3579: The proof of this theorem requires an algebraic decomposition of the total structural error into two distinct components: a \"direct\" error from walker ({prf:ref}`def-walker`)s appearing or disappearing from the alive set ({prf:ref}`def-alive-dead-sets`), and an \"indirect\" error from the resulting change in the statistical moments that affects all other walkers.\n3580: ##### 11.2.3.1. Sub-Lemma: Algebraic Decomposition of the Structural Error\n3581: \n3582: :::{prf:lemma} Algebraic Decomposition of the Structural Error\n3583: :label: lem-sub-structural-error-decomposition\n3584: ",
      "metadata": {
        "label": "lem-sub-structural-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "3571: \n3572: $$\n3573: E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3574: \n3575: $$\n3576: \n3577: where $C_{S,\\text{direct}}$ and $C_{S,\\text{indirect}}$ are the **Structural Error Coefficients**, deterministic constants derived from the axiomatic properties of the aggregation operator and the global parameters, as formally defined in [](#def-structural-error-coefficients).\n3578: :::\n3579: The proof of this theorem requires an algebraic decomposition of the total structural error into two distinct components: a \"direct\" error from walker ({prf:ref}`def-walker`)s appearing or disappearing from the alive set ({prf:ref}`def-alive-dead-sets`), and an \"indirect\" error from the resulting change in the statistical moments that affects all other walkers.\n3580: ##### 11.2.3.1. Sub-Lemma: Algebraic Decomposition of the Structural Error\n3581: \n3582: :::{prf:lemma} Algebraic Decomposition of the Structural Error\n3583: :label: lem-sub-structural-error-decomposition\n3584: \n3585: Let $\\mathbf{v}$ be a fixed raw value ({prf:ref}`def-raw-value-operator`) vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with alive set ({prf:ref}`def-alive-dead-sets`)s $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let $\\mathbf{z}_1 = \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v})$ and $\\mathbf{z}_2 = \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v})$ be the corresponding N-dimensional standardized vectors.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-669",
      "title": "Bounding the Direct Structural Error Component",
      "start_line": 3595,
      "end_line": 3607,
      "header_lines": [],
      "content_start": 3596,
      "content_end": 3606,
      "content": "3596: :::\n3597: \n3598: :::{prf:proof}\n3599: :label: proof-lem-sub-structural-error-decomposition\n3600: **Proof.**\n3601: The proof follows from partitioning the sum of squared errors over the N walker ({prf:ref}`def-walker`) indices into a sum over walkers whose status changes and a sum over walkers whose status is stable. These two sets of indices are disjoint. The two corresponding error vectors therefore have disjoint support, are orthogonal, and the squared norm of their sum is the sum of their squared norms.\n3602: **Q.E.D.**\n3603: :::\n3604: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3605: \n3606: :::{prf:lemma} Bounding the Direct Structural Error Component",
      "metadata": {},
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-expected-squared-structural-error"
      ],
      "raw_directive": "3595: 2.  **The Indirect Error ($\\Delta_{\\text{indirect}}$):** The error vector whose non-zero components correspond to walker ({prf:ref}`def-walker`)s whose status remains the same.\n3596: :::\n3597: \n3598: :::{prf:proof}\n3599: :label: proof-lem-sub-structural-error-decomposition\n3600: **Proof.**\n3601: The proof follows from partitioning the sum of squared errors over the N walker ({prf:ref}`def-walker`) indices into a sum over walkers whose status changes and a sum over walkers whose status is stable. These two sets of indices are disjoint. The two corresponding error vectors therefore have disjoint support, are orthogonal, and the squared norm of their sum is the sum of their squared norms.\n3602: **Q.E.D.**\n3603: :::\n3604: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3605: \n3606: :::{prf:lemma} Bounding the Direct Structural Error Component\n3607: raw value ({prf:ref}`def-raw-value-operator`)rect-structural-error",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-indirect-structural-error",
      "title": "Bounding the Indirect Structural Error Component",
      "start_line": 3617,
      "end_line": 3628,
      "header_lines": [
        3618
      ],
      "content_start": 3620,
      "content_end": 3627,
      "content": "3620: :::{prf:proof}\n3621: :label: proof-lem-sub-direct-structural-error\n3622: **Proof.**\n3623: The direct error vector has $n_c$ non-zero components. For each such component **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero, and the other is a valid Z-score. From [](#thm-z-score-norm-bound), any single Z-score is bounded by $|z_j| \\leq 2V_{\\max}/\\sigma'_{\\min,\\text{bound}}$. The squared error for component **i** is thus bounded by $(2V_{\\max}/\\sigma'_{\\min,\\text{bound}})^2$. Summing this bound over the $n_c$ unstable walker ({prf:ref}`def-walker`)s gives the final result.\n3624: **Q.E.D.**\n3625: :::\n3626: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3627: ",
      "metadata": {
        "label": "lem-sub-indirect-structural-error"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "3617: \n3618: :::\n3619: \n3620: :::{prf:proof}\n3621: :label: proof-lem-sub-direct-structural-error\n3622: **Proof.**\n3623: The direct error vector has $n_c$ non-zero components. For each such component **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero, and the other is a valid Z-score. From [](#thm-z-score-norm-bound), any single Z-score is bounded by $|z_j| \\leq 2V_{\\max}/\\sigma'_{\\min,\\text{bound}}$. The squared error for component **i** is thus bounded by $(2V_{\\max}/\\sigma'_{\\min,\\text{bound}})^2$. Summing this bound over the $n_c$ unstable walker ({prf:ref}`def-walker`)s gives the final result.\n3624: **Q.E.D.**\n3625: :::\n3626: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3627: \n3628: :::{prf:lemma} Bounding the Indirect Structural Error Component",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-833",
      "title": "Algebraic Decomposition of the Value Error",
      "start_line": 3759,
      "end_line": 3799,
      "header_lines": [],
      "content_start": 3761,
      "content_end": 3798,
      "content": "3761: \n3762: \\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2 \\le 2 \\| \\mathbf{z}_1 - \\mathbf{z}_{\\text{inter}} \\|_2^2 + 2 \\| \\mathbf{z}_{\\text{inter}} - \\mathbf{z}_2 \\|_2^2\n3763: \n3764: $$\n3765: The first term on the right-hand side is the squared Value Error, $E_V^2$, as it arises from the change $v_1 → v_2$ for a fixed structure $S_1$. The second term is the squared Structural Error, $E_S^2$, as it arises from the change $S_1 → S_2$ for a fixed value vector $v_2$. This completes the decomposition.\n3766: **Q.E.D.**\n3767: :::\n3768: #### 11.3.2 Sub-Lemma: Algebraic Decomposition of the Value Error\n3769: To bound the squared value error, $E_V^2$, we first perform a purely algebraic decomposition of the error vector $\\Deltaz = z(S, v_1, M) - z(S, v_2, M)$ for a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state **S**. This decomposition isolates the different sources of error: the direct change in the raw values, the change in the computed mean, and the change in the computed standard deviation.\n3770: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3771: :labraw value ({prf:ref}`def-raw-value-operator`)itz-value-error-decomposition\n3772: Let **S** be a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state with alive set ({prf:ref}`def-alive-dead-sets`) **A** of size **k**. Let $v_1$ and $v_2$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $z_1$ and $z_2$ be the corresponding standardized vectors.\n3773: The total value error vector, $\\Deltaz = z_1 - z_2$, can be expressed as the sum of three components:\n3774: \n3775: $$\n3776: \n3777: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{denom}}\n3778: \n3779: $$\n3780: where:\n3781: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3782: \n3783: $$\n3784: \n3785:     \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3786: \n3787: $$\n3788: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walker ({prf:ref}`def-walker`)s.\n3789: \n3790: $$\n3791: \n3792:     \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3793: \n3794: $$\n3795: where $**1**$ is a k-dimensional vector of ones.\n3796: 3.  **The Denominator Shift ($\\Delta_denom$):** The error from the change in the regularized standard deviation, which rescales the second standardized vector.\n3797: \n3798: $$",
      "metadata": {},
      "section": "## 12. Standardization pipeline",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "3759: \n3760: $$\n3761: \n3762: \\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2 \\le 2 \\| \\mathbf{z}_1 - \\mathbf{z}_{\\text{inter}} \\|_2^2 + 2 \\| \\mathbf{z}_{\\text{inter}} - \\mathbf{z}_2 \\|_2^2\n3763: \n3764: $$\n3765: The first term on the right-hand side is the squared Value Error, $E_V^2$, as it arises from the change $v_1 → v_2$ for a fixed structure $S_1$. The second term is the squared Structural Error, $E_S^2$, as it arises from the change $S_1 → S_2$ for a fixed value vector $v_2$. This completes the decomposition.\n3766: **Q.E.D.**\n3767: :::\n3768: #### 11.3.2 Sub-Lemma: Algebraic Decomposition of the Value Error\n3769: To bound the squared value error, $E_V^2$, we first perform a purely algebraic decomposition of the error vector $\\Deltaz = z(S, v_1, M) - z(S, v_2, M)$ for a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state **S**. This decomposition isolates the different sources of error: the direct change in the raw values, the change in the computed mean, and the change in the computed standard deviation.\n3770: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3771: :labraw value ({prf:ref}`def-raw-value-operator`)itz-value-error-decomposition\n3772: Let **S** be a fixed swarm ({prf:ref}`def-swarm-and-state-space`) state with alive set ({prf:ref}`def-alive-dead-sets`) **A** of size **k**. Let $v_1$ and $v_2$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $z_1$ and $z_2$ be the corresponding standardized vectors.\n3773: The total value error vector, $\\Deltaz = z_1 - z_2$, can be expressed as the sum of three components:\n3774: \n3775: $$\n3776: \n3777: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{denom}}\n3778: \n3779: $$\n3780: where:\n3781: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3782: \n3783: $$\n3784: \n3785:     \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3786: \n3787: $$\n3788: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walker ({prf:ref}`def-walker`)s.\n3789: \n3790: $$\n3791: \n3792:     \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3793: \n3794: $$\n3795: where $**1**$ is a k-dimensional vector of ones.\n3796: 3.  **The Denominator Shift ($\\Delta_denom$):** The error from the change in the regularized standard deviation, which rescales the second standardized vector.\n3797: \n3798: $$\n3799: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 12,
        "chapter_file": "chapter_12.json",
        "section_id": "## 12. Standardization pipeline"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-potential-boundedness",
      "title": "Boundedness of the Fitness Potential",
      "start_line": 4079,
      "end_line": 4093,
      "header_lines": [
        4080
      ],
      "content_start": 4082,
      "content_end": 4092,
      "content": "4082:     *   Set the $j$-th component of the output vector: $V_{\\text{fit},j} := V_j$.\n4083: **Output:** The full N-dimensional fitness potential vector $\\mathbf{V}_{\\text{fit}}$.\n4084: :::\n4085: ### 12.2. Mean-Square Continuity of the Fitness Potential Operator\n4086: The Fitness Potential Operator is the result of a multi-stage composition of functions, including the stochastic measurement operators. Its continuity is therefore analyzed in a probabilistic sense. This section proves that the operator is **mean-square continuous**, which provides a bound on the *average* squared error between the output potential vectors of two input swarms. This property is the foundation for analyzing the long-term stability and ergodicity of the system. A subsequent section will establish a stronger, deterministic continuity property required for certain convergence theorems.\n4087: The proof is built upon two key properties of the potential function: its boundedness and its Lipschitz continuity with respect to its inputs.\n4088: #### 12.2.1. Lemma: Boundedness of the Fitness Potential\n4089: \n4090: :::{prf:lemma} Boundedness of the Fitness Potential\n4091: :label: lem-potential-boundedness\n4092: ",
      "metadata": {
        "label": "lem-potential-boundedness"
      },
      "section": "## 13. Fitness potential operator",
      "references": [
        "def-walker"
      ],
      "raw_directive": "4079: 1.  Initialize an N-dimensional zero vector, $\\mathbf{V}_{\\text{fit}} \\leftarrow \\mathbf{0}$.\n4080: 2.  For each walker ({prf:ref}`def-walker`) $j \\in \\mathcal{A}(\\mathcal{S}_t)$:\n4081:     *   Let $V_j$ be the corresponding value from the input vector $\\mathbf{V}_{\\mathcal{A}}$.\n4082:     *   Set the $j$-th component of the output vector: $V_{\\text{fit},j} := V_j$.\n4083: **Output:** The full N-dimensional fitness potential vector $\\mathbf{V}_{\\text{fit}}$.\n4084: :::\n4085: ### 12.2. Mean-Square Continuity of the Fitness Potential Operator\n4086: The Fitness Potential Operator is the result of a multi-stage composition of functions, including the stochastic measurement operators. Its continuity is therefore analyzed in a probabilistic sense. This section proves that the operator is **mean-square continuous**, which provides a bound on the *average* squared error between the output potential vectors of two input swarms. This property is the foundation for analyzing the long-term stability and ergodicity of the system. A subsequent section will establish a stronger, deterministic continuity property required for certain convergence theorems.\n4087: The proof is built upon two key properties of the potential function: its boundedness and its Lipschitz continuity with respect to its inputs.\n4088: #### 12.2.1. Lemma: Boundedness of the Fitness Potential\n4089: \n4090: :::{prf:lemma} Boundedness of the Fitness Potential\n4091: :label: lem-potential-boundedness\n4092: \n4093: For any alive walker ({prf:ref}`def-walker`) $i$, its fitness potential $V_i$ is strictly positive and uniformly bounded. That is, there exist finite, state-independent constants $V_{\\text{pot,min}}$ and $V_{\\text{pot,max}}$ such that:",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-component-potential-lipschitz",
      "title": "Lipschitz Continuity of the Fitness Potential Function",
      "start_line": 4112,
      "end_line": 4125,
      "header_lines": [
        4113
      ],
      "content_start": 4115,
      "content_end": 4124,
      "content": "4115:     Since $\\alpha, \\beta \\geq 0$, the potential $V_i$ is bounded by raising these component bounds to the appropriate powers.\n4116:     *   **Lower Bound:** $V_i \\geq (\\eta)^\\beta \\cdot (\\eta)^\\alpha = \\eta^{(\\alpha+\\beta)} =: V_{\\text{pot,min}}$.\n4117:     *   **Upper Bound:** $V_i \\leq (g_{A,\\max} + \\eta)^\\beta \\cdot (g_{A,\\max} + \\eta)^\\alpha = (g_{A,\\max} + \\eta)^{(\\alpha+\\beta)} =: V_{\\text{pot,max}}$.\n4118: This completes the proof.\n4119: **Q.E.D.**\n4120: :::\n4121: #### 12.2.2. Lemma: Lipschitz Continuity of the Fitness Potential Function\n4122: \n4123: :::{prf:lemma} Lipschitz Continuity of the Fitness Potential Function\n4124: :label: lem-component-potential-lipschitz",
      "metadata": {
        "label": "lem-component-potential-lipschitz"
      },
      "section": "## 13. Fitness potential operator",
      "references": [
        "axiom-reward-regularity",
        "thm-rescale-function-lipschitz",
        "def-alive-set-potential-operator"
      ],
      "raw_directive": "4112:     From the analysis of the **Smooth Piecewise Rescale Function ({prf:ref}`def-axiom-rescale-function`)** in Section 8.2, for any real input $z$, the function $g_A(z)$ is bounded on the interval $(0, g_{A,\\max}]$.\n4113:     Therefore, the rescaled components $r'_i = g_A(z_{r,i}) + \\eta$ and $d'_i = g_A(z_{d,i}) + \\eta$ are bounded on the interval $(\\eta, g_{A,\\max} + \\eta]$. Since $\\eta > 0$, these components are always strictly positive.\n4114: 2.  **Combine for Final Bounds.**\n4115:     Since $\\alpha, \\beta \\geq 0$, the potential $V_i$ is bounded by raising these component bounds to the appropriate powers.\n4116:     *   **Lower Bound:** $V_i \\geq (\\eta)^\\beta \\cdot (\\eta)^\\alpha = \\eta^{(\\alpha+\\beta)} =: V_{\\text{pot,min}}$.\n4117:     *   **Upper Bound:** $V_i \\leq (g_{A,\\max} + \\eta)^\\beta \\cdot (g_{A,\\max} + \\eta)^\\alpha = (g_{A,\\max} + \\eta)^{(\\alpha+\\beta)} =: V_{\\text{pot,max}}$.\n4118: This completes the proof.\n4119: **Q.E.D.**\n4120: :::\n4121: #### 12.2.2. Lemma: Lipschitz Continuity of the Fitness Potential Function\n4122: \n4123: :::{prf:lemma} Lipschitz Continuity of the Fitness Potential Function\n4124: :label: lem-component-potential-lipschitz\n4125: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-potential-unstable-error-mean-square",
      "title": "Bounding the Expected Error from Unstable Walkers",
      "start_line": 4151,
      "end_line": 4163,
      "header_lines": [
        4152
      ],
      "content_start": 4154,
      "content_end": 4162,
      "content": "4154:     Since each term in the product is uniformly bounded by a finite constant, the partial derivative $\\partial F/\\partial z_r$ is uniformly bounded. Let this bound be $L_{F,r}$.\n4155: 2.  **Partial Derivative with respect to $z_d$:**\n4156:     The argument is symmetric to the one above, yielding a uniform bound $L_{F,d}$.\n4157: 3.  **Conclusion:**\n4158:     Since the partial derivatives are uniformly bounded, the function $F$ is Lipschitz continuous, and the total change is bounded by the sum of the changes along each dimension, weighted by the corresponding Lipschitz constants.\n4159: **Q.E.D.**\n4160: :::\n4161: #### 12.2.4. Sub-Lemma: Bounding the Expected Error from Unstable Walker ({prf:ref}`def-walker`)s\n4162: :::{prf:lemma} Bounding the Expected Error from Unstable Walkers",
      "metadata": {
        "label": "lem-sub-potential-unstable-error-mean-square"
      },
      "section": "## 13. Fitness potential operator",
      "references": [
        "def-alive ({prf:ref}",
        "def-walker"
      ],
      "raw_directive": "4151:     *   $|\\alpha| = \\alpha$.\n4152:     *   $|(g_A(z_r) + \\eta)^{(\\alpha-1)}|$: If $\\alpha \\geq 1$, this is bounded by $(g_{A,\\max} + \\eta)^{(\\alpha-1)}$. If $\\alpha < 1$, this is $1/(g_A(z_r)+\\eta)^{(1-\\alpha)}$, which is bounded by $1/\\eta^{(1-\\alpha)}$. In both cases, this term is uniformly bounded.\n4153:     *   $|g'_A(z_r)| \\leq L_{g_A}$ from [](#thm-rescale-function-lipschitz).\n4154:     Since each term in the product is uniformly bounded by a finite constant, the partial derivative $\\partial F/\\partial z_r$ is uniformly bounded. Let this bound be $L_{F,r}$.\n4155: 2.  **Partial Derivative with respect to $z_d$:**\n4156:     The argument is symmetric to the one above, yielding a uniform bound $L_{F,d}$.\n4157: 3.  **Conclusion:**\n4158:     Since the partial derivatives are uniformly bounded, the function $F$ is Lipschitz continuous, and the total change is bounded by the sum of the changes along each dimension, weighted by the corresponding Lipschitz constants.\n4159: **Q.E.D.**\n4160: :::\n4161: #### 12.2.4. Sub-Lemma: Bounding the Expected Error from Unstable Walker ({prf:ref}`def-walker`)s\n4162: :::{prf:lemma} Bounding the Expected Error from Unstable Walkers\n4163: :label: lem-sub-potential-unstable-error-mean-square",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-potential-stable-error-mean-square",
      "title": "Bounding the Expected Error from Stable Walkers",
      "start_line": 4173,
      "end_line": 4188,
      "header_lines": [
        4174
      ],
      "content_start": 4176,
      "content_end": 4187,
      "content": "4176: :label: proof-lem-sub-potential-unstable-error-mean-square\n4177: **Proof.**\n4178: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) any walker ({prf:ref}`def-walker`) $i$ in the unstable set $\\mathcal{A}_{\\text{unstable}}$, its survival status changes. This means one of $V_{1,i}$ or $V_{2,i}$ is zero, while the other is a non-zero potential. From [](#lem-potential-boundedness), any non-zero potential is bounded by $V_{\\text{pot,max}}$. Thus, the squared difference $|V_{1,i} - V_{2,i}|^2$ is deterministically bounded by $V_{\\text{pot,max}}^2$.\n4179: The total squared error from this set is therefore bounded by the number of unstable walker ({prf:ref}`def-walker`)s ($n_c$) multiplied by this bound: $V_{\\text{pot,max}}^2 \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)$. Since this bound is a deterministic constant, its expectation is the constant itself.\n4180: **Q.E.D.**\n4181: :::\n4182: #### 12.2.5. Sub-Lemma: Bounding the Expected Error from Stable Walker ({prf:ref}`def-walker`)s\n4183: \n4184: :::{prf:lemma} Bounding the Expected Error from Stable Walkers\n4185: :label: lem-sub-potential-stable-error-mean-square\n4186: \n4187: This lemma bounds the stable walker error by combining {prf:ref}`lem-component-potential-lipschitz` with the standardization continuity from {prf:ref}`thm-standardization-operator-unified-mean-square-continuity`.",
      "metadata": {
        "label": "lem-sub-potential-stable-error-mean-square"
      },
      "section": "## 13. Fitness potential operator",
      "references": [
        "lem-component-potential-lipschitz",
        "thm-standardization-operator-unified-mean-square-continuity",
        "def-walker",
        "def-alive-dead-sets"
      ],
      "raw_directive": "4173: \n4174: :::\n4175: :::{prf:proof}\n4176: :label: proof-lem-sub-potential-unstable-error-mean-square\n4177: **Proof.**\n4178: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) any walker ({prf:ref}`def-walker`) $i$ in the unstable set $\\mathcal{A}_{\\text{unstable}}$, its survival status changes. This means one of $V_{1,i}$ or $V_{2,i}$ is zero, while the other is a non-zero potential. From [](#lem-potential-boundedness), any non-zero potential is bounded by $V_{\\text{pot,max}}$. Thus, the squared difference $|V_{1,i} - V_{2,i}|^2$ is deterministically bounded by $V_{\\text{pot,max}}^2$.\n4179: The total squared error from this set is therefore bounded by the number of unstable walker ({prf:ref}`def-walker`)s ($n_c$) multiplied by this bound: $V_{\\text{pot,max}}^2 \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)$. Since this bound is a deterministic constant, its expectation is the constant itself.\n4180: **Q.E.D.**\n4181: :::\n4182: #### 12.2.5. Sub-Lemma: Bounding the Expected Error from Stable Walker ({prf:ref}`def-walker`)s\n4183: \n4184: :::{prf:lemma} Bounding the Expected Error from Stable Walkers\n4185: :label: lem-sub-potential-stable-error-mean-square\n4186: \n4187: This lemma bounds the stable walker error by combining {prf:ref}`lem-component-potential-lipschitz` with the standardization continuity from {prf:ref}`thm-standardization-operator-unified-mean-square-continuity`.\n4188: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 13,
        "chapter_file": "chapter_13.json",
        "section_id": "## 13. Fitness potential operator"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-perturbation-positional-bound-reproof",
      "title": "Bounding the Output Positional Displacement",
      "start_line": 4346,
      "end_line": 4358,
      "header_lines": [
        4347
      ],
      "content_start": 4348,
      "content_end": 4357,
      "content": "4348: \n4349: M_{\\text{pert}}^2 \\ge \\sup_{x_{\\text{in}} \\in \\mathcal{X}} \\mathbb{E}[Y]\n4350: \n4351: $$\n4352: *   **Framework Application:** This axiom provides a uniform bound on the *mean* of the random displacement. The *fluctuations* around this mean are bounded via **McDiarmid’s inequality** for functions of independent inputs (Assumption A), applied to the average of per‑walker ({prf:ref}`def-walker`) squared displacements. Bounded differences ({prf:ref}`thm-mcdiarmids-inequality`) hold with constants $c_i=D_{\\mathcal{Y}}^2/N$ since each term lies in $[0,D_{\\mathcal{Y}}^2]$ (finite diameter). No further variance assumptions are required. See Boucheron–Lugosi–Massart (Appendix B).\n4353: *   **Failure Mode Analysis:** If this axiom is violated (i.e., if the supremum is infinite), walker ({prf:ref}`def-walker`)s could be displaced by an infinite amount on average, making the operator's behavior unpredictable and breaking the continuity guarantees.\n4354: :::\n4355: #### 13.2.2. Bounding the Output Positional Displacement\n4356: The first step is to establish an algebraic bound on the positional displacement between the two output swarms. This bound decomposes the total output displacement into the initial input displacement and the random displacement introduced by the perturbation operator ({prf:ref}`def-perturbation-operator`) acting on each swarm ({prf:ref}`def-swarm-and-state-space`).\n4357: :::{prf:lemma} Bounding the Output Positional Displacement",
      "metadata": {
        "label": "lem-sub-perturbation-positional-bound-reproof"
      },
      "section": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)",
      "references": [
        "def-perturbation-operator",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "4346: \n4347: $$\n4348: \n4349: M_{\\text{pert}}^2 \\ge \\sup_{x_{\\text{in}} \\in \\mathcal{X}} \\mathbb{E}[Y]\n4350: \n4351: $$\n4352: *   **Framework Application:** This axiom provides a uniform bound on the *mean* of the random displacement. The *fluctuations* around this mean are bounded via **McDiarmid’s inequality** for functions of independent inputs (Assumption A), applied to the average of per‑walker ({prf:ref}`def-walker`) squared displacements. Bounded differences ({prf:ref}`thm-mcdiarmids-inequality`) hold with constants $c_i=D_{\\mathcal{Y}}^2/N$ since each term lies in $[0,D_{\\mathcal{Y}}^2]$ (finite diameter). No further variance assumptions are required. See Boucheron–Lugosi–Massart (Appendix B).\n4353: *   **Failure Mode Analysis:** If this axiom is violated (i.e., if the supremum is infinite), walker ({prf:ref}`def-walker`)s could be displaced by an infinite amount on average, making the operator's behavior unpredictable and breaking the continuity guarantees.\n4354: :::\n4355: #### 13.2.2. Bounding the Output Positional Displacement\n4356: The first step is to establish an algebraic bound on the positional displacement between the two output swarms. This bound decomposes the total output displacement into the initial input displacement and the random displacement introduced by the perturbation operator ({prf:ref}`def-perturbation-operator`) acting on each swarm ({prf:ref}`def-swarm-and-state-space`).\n4357: :::{prf:lemma} Bounding the Output Positional Displacement\n4358: :label: lem-sub-perturbation-positional-bound-reproof",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)"
      }
    },
    {
      "directive_type": "lemma",
      "label": "unlabeled-lemma-83",
      "title": "Bounded differences ({prf:ref}`thm-mcdiarmids-inequality`) for $f_{\\text{avg}}$",
      "start_line": 4385,
      "end_line": 4391,
      "header_lines": [],
      "content_start": 4388,
      "content_end": 4390,
      "content": "4388: \n4389: $$\n4390: ",
      "metadata": {},
      "section": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)",
      "references": [
        "thm-mcdiarmids-inequality",
        "def-perturbation-operator"
      ],
      "raw_directive": "4385: The algebraic bound from the previous section shows that the final positional displacement depends on the random variable $\\Delta_{\\text{pert}}^2(\\mathcal{S})$. To establish a probabilistic continuity bound, we must find a high-probability bound for this random variable. The term $\\Delta_{\\text{pert}}^2(\\mathcal{S})$ is a sum of the **N** random squared displacements of each walker ({prf:ref}`def-walker`), which are statistically independent for a fixed initial state $\\mathcal{S}$. This allows us to apply a concentration inequality for functions of independent random variables to bound its deviation from its expected value. We will use McDiarmid's Inequality.\n4386: ##### 13.2.3.0. Inputs and Lipschitz constants for McDiarmid\n4387: For clarity, we analyze the normalized functional\n4388: \n4389: $$\n4390: \n4391: f_{\\text{avg}}\\;:=\\;\\frac{1}{N}\\,\\Delta_{\\text{pert}}^2(\\mathcal{S}_{\\text{in}})",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-probabilistic-bound-perturbation-displacement-reproof",
      "title": "Probabilistic Bound on Total Perturbation-Induced Displacement",
      "start_line": 4413,
      "end_line": 4423,
      "header_lines": [
        4414
      ],
      "content_start": 4415,
      "content_end": 4422,
      "content": "4415: Then for any $t > 0$, the probability that the function's value deviates from its expected value by more than $t$ is bounded by:\n4416: \n4417: $$\n4418: \n4419: P(|f(X_1, \\dots, X_N) - \\mathbb{E}[f(X_1, \\dots, X_N)]| \\ge t) \\le 2\\exp\\left(\\frac{-2t^2}{\\sum_{i=1}^N c_i^2}\\right)\n4420: \n4421: $$\n4422: :::",
      "metadata": {
        "label": "lem-sub-probabilistic-bound-perturbation-displacement-reproof"
      },
      "section": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)",
      "references": [
        "def-swarm-and-state-space"
      ],
      "raw_directive": "4413: \n4414: $$\n4415: Then for any $t > 0$, the probability that the function's value deviates from its expected value by more than $t$ is bounded by:\n4416: \n4417: $$\n4418: \n4419: P(|f(X_1, \\dots, X_N) - \\mathbb{E}[f(X_1, \\dots, X_N)]| \\ge t) \\le 2\\exp\\left(\\frac{-2t^2}{\\sum_{i=1}^N c_i^2}\\right)\n4420: \n4421: $$\n4422: :::\n4423: ##### 13.2.3.2. Probabilistic Bound on Total Perturbation-Induced Displacement",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 14,
        "chapter_file": "chapter_14.json",
        "section_id": "## 14. The Perturbation Operator ({prf:ref}`def-perturbation-operator`)"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-cloning-probability-lipschitz",
      "title": "Lipschitz Continuity of the Conditional Cloning Probability ({prf:ref}`def-cloning-probability-function`)it)",
      "start_line": 4705,
      "end_line": 4728,
      "header_lines": [
        4706
      ],
      "content_start": 4708,
      "content_end": 4727,
      "content": "4708: \n4709: $$\n4710: \n4711: \\pi(v_c, v_i) := P(S(v_c, v_i) > T_{\\text{clone}}) = \\min\\left(1, \\max\\left(0, \\frac{S(v_c, v_i)}{p_{\\max}}\\right)\\right)\n4712: \n4713: $$\n4714: This function effectively clips the normalized score to the valid probability range $[0, 1]$.\n4715: :::\n4716: :::{prf:lemma} Lipschitz Continuity of the Conditional Cloning Probability ({prf:ref}`def-cloning-probability-function`)it)\n4717: :label: lem-cloning-probability-lipschitz\n4718: \n4719: $$\n4720: \n4721: |\\pi(v_{c1}, v_{i1}) - \\pi(v_{c2}, v_{i2})| \\Lipschitz ({prf:ref}`axiom-reward-regularity`)} - v_{c2}| + L_{\\pi,i}|v_{i1} - v_{i2}|\n4722: \n4723: $$\n4724: where the **Cloning Probability Lipschitz Constants** can be chosen uniformly over both alive and dead walkers by the worst‑case (dead‑walker ({prf:ref}`def-walker`)) bounds:\n4725: *   **Companion Potential Lipschitz Constant ($L_{\\pi,c}$):**\n4726: \n4727: $$",
      "metadata": {
        "label": "lem-cloning-probability-lipschitz"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [
        "axiom-reward-regularity",
        "def-walker"
      ],
      "raw_directive": "4705: :label: def-cloning-probability-function\n4706: The **Conditional Cloning Probability Function**, denoted $\\pi: \\mathbb{R}_{\\ge 0} \\times \\mathbb{R}_{\\ge 0} \\to [0, 1]$, maps the fitness potential of a companion ($v_c$) and a primary walker ({prf:ref}`def-walker`) ($v_i$) to the probability that the \"Clone\" action is selected.\n4707: Given that the score is $S(v_c, v_i)$ and the threshold is $T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})$, the probability is:\n4708: \n4709: $$\n4710: \n4711: \\pi(v_c, v_i) := P(S(v_c, v_i) > T_{\\text{clone}}) = \\min\\left(1, \\max\\left(0, \\frac{S(v_c, v_i)}{p_{\\max}}\\right)\\right)\n4712: \n4713: $$\n4714: This function effectively clips the normalized score to the valid probability range $[0, 1]$.\n4715: :::\n4716: :::{prf:lemma} Lipschitz Continuity of the Conditional Cloning Probability ({prf:ref}`def-cloning-probability-function`)it)\n4717: :label: lem-cloning-probability-lipschitz\n4718: \n4719: $$\n4720: \n4721: |\\pi(v_{c1}, v_{i1}) - \\pi(v_{c2}, v_{i2})| \\Lipschitz ({prf:ref}`axiom-reward-regularity`)} - v_{c2}| + L_{\\pi,i}|v_{i1} - v_{i2}|\n4722: \n4723: $$\n4724: where the **Cloning Probability Lipschitz Constants** can be chosen uniformly over both alive and dead walkers by the worst‑case (dead‑walker ({prf:ref}`def-walker`)) bounds:\n4725: *   **Companion Potential Lipschitz Constant ($L_{\\pi,c}$):**\n4726: \n4727: $$\n4728: ",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-bound-sum-total-cloning-probs",
      "title": "Bounding the Sum of Total Cloning Probabilities",
      "start_line": 4935,
      "end_line": 4949,
      "header_lines": [
        4936
      ],
      "content_start": 4938,
      "content_end": 4948,
      "content": "4938: \n4939:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\left(3 + \\frac{3D_{\\mathcal{Y}}^2 C_P}{N}\\right)V_{\\text{in}} + \\left(\\frac{3D_{\\mathcal{Y}}^2 H_P}{N}\\right)\\sqrt{V_{\\text{in}}} + \\frac{3D_{\\mathcal{Y}}^2 K_P}{N}\n4940: \n4941: $$\n4942: This expression is of the required form $C_L V + C_H sqrt(V) + K$. By inspection, we can identify the coefficients $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ from this final expression. This completes the proof.\n4943: **Q.E.D.**\n4944: :::\n4945: ##### 15.2.8.3. Sub-Lemma: Bounding the Sum of Total Cloning Probabilities\n4946: :::{prf:lemma} Bounding the Sum of Total Cloning Probabilities\n4947: :label: lem-sub-bound-sum-total-cloning-probs\n4948: ",
      "metadata": {
        "label": "lem-sub-bound-sum-total-cloning-probs"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [
        "def-swarm-and-state-space",
        "def-expected-cloning-action"
      ],
      "raw_directive": "4935: Finally, we divide by **N** to get the bound on the expected output squared metric, $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2]$:\n4936: \n4937: $$\n4938: \n4939:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\left(3 + \\frac{3D_{\\mathcal{Y}}^2 C_P}{N}\\right)V_{\\text{in}} + \\left(\\frac{3D_{\\mathcal{Y}}^2 H_P}{N}\\right)\\sqrt{V_{\\text{in}}} + \\frac{3D_{\\mathcal{Y}}^2 K_P}{N}\n4940: \n4941: $$\n4942: This expression is of the required form $C_L V + C_H sqrt(V) + K$. By inspection, we can identify the coefficients $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ from this final expression. This completes the proof.\n4943: **Q.E.D.**\n4944: :::\n4945: ##### 15.2.8.3. Sub-Lemma: Bounding the Sum of Total Cloning Probabilities\n4946: :::{prf:lemma} Bounding the Sum of Total Cloning Probabilities\n4947: :label: lem-sub-bound-sum-total-cloning-probs\n4948: \n4949: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\matExpected Cloning ({prf:ref}`def-expected-cloning-action`)ared displacement.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 16,
        "chapter_file": "chapter_16.json",
        "section_id": "## 16. The Cloning Transition Measure"
      }
    },
    {
      "directive_type": "lemma",
      "label": "lem-final-status-change-bound",
      "title": "Bounding the Expected Final Status Change",
      "start_line": 5202,
      "end_line": 5216,
      "header_lines": [
        5203
      ],
      "content_start": 5205,
      "content_end": 5215,
      "content": "5205: \n5206: K_{\\text{status},\\text{var}} := \\frac{N}{2}\n5207: \n5208: $$\n5209: :::\n5210: \n5211: ##### 17.2.3.2. Lemma: Bounding the Expected Final Status Change\n5212: \n5213: :::{prf:lemma} Bounding the Expected Final Status Change\n5214: :label: lem-final-status-change-bound\n5215: ",
      "metadata": {
        "label": "lem-final-status-change-bound"
      },
      "section": "## 18. Swarm Update Operator: A Composition of Measures",
      "references": [
        "def-status-update-operator"
      ],
      "raw_directive": "5202: 2.  **The Status Change Variance Bound ($K_{\\text{status},\\text{var}}$):** This coefficient provides a state-independent upper bound on the total variance of the final status variables, which represents irreducible stochasticity.\n5203: \n5204: $$\n5205: \n5206: K_{\\text{status},\\text{var}} := \\frac{N}{2}\n5207: \n5208: $$\n5209: :::\n5210: \n5211: ##### 17.2.3.2. Lemma: Bounding the Expected Final Status Change\n5212: \n5213: :::{prf:lemma} Bounding the Expected Final Status Change\n5214: :label: lem-final-status-change-bound\n5215: \n5216: This lemma bounds the status changes introduced by {prf:ref}`def-status-update-operator`.",
      "_registry_context": {
        "stage": "directives",
        "document_id": "01_fragile_gas_framework",
        "chapter_index": 18,
        "chapter_file": "chapter_18.json",
        "section_id": "## 18. Swarm Update Operator: A Composition of Measures"
      }
    }
  ]
}