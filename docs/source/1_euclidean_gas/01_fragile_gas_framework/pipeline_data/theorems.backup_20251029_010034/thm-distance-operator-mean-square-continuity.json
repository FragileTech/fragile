{
  "label": "thm-distance-operator-mean-square-continuity",
  "name": "Mean-Square Continuity of the Distance Operator",
  "statement_type": "theorem",
  "source": {
    "document_id": "01_fragile_gas_framework",
    "file_path": "docs/source/1_euclidean_gas/01_fragile_gas_framework.md",
    "section": "ยง10.3.2",
    "label": "thm-distance-operator-mean-square-continuity",
    "equation": null,
    "line_range": [
      2688,
      2750
    ],
    "url_fragment": "#thm-distance-operator-mean-square-continuity"
  },
  "chapter": "1_euclidean_gas",
  "document": "01_fragile_gas_framework",
  "proof": null,
  "proof_status": "expanded",
  "input_objects": [
    "obj-distance-to-companion-measurement",
    "obj-swarm-state",
    "obj-alive-set-potential-operator",
    "obj-raw-value-operator"
  ],
  "input_axioms": [
    "axiom-raw-value-mean-square-continuity",
    "axiom-bounded-measurement-variance"
  ],
  "input_parameters": [
    "param-N",
    "param-D-Y",
    "param-k",
    "param-n-c",
    "param-delta-pos"
  ],
  "attributes_required": {},
  "internal_lemmas": [
    "thm-distance-operator-satisfies-bounded-variance-axiom",
    "thm-expected-raw-distance-bound"
  ],
  "internal_propositions": [],
  "lemma_dag_edges": [
    [
      "thm-distance-operator-satisfies-bounded-variance-axiom",
      "thm-distance-operator-mean-square-continuity"
    ],
    [
      "thm-expected-raw-distance-bound",
      "thm-distance-operator-mean-square-continuity"
    ]
  ],
  "output_type": "Bound",
  "attributes_added": [],
  "relations_established": [],
  "natural_language_statement": "This theorem establishes that the Distance-to-Companion Measurement operator (V=d) exhibits mean-square continuity for transitions in the k >= 2 regime. It proves that for any two swarm states where the first state has at least two alive walkers (k1 >= 2), the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by an explicit function F_{d,ms}. This bound function depends on the number of walkers N, the diameter of the algorithmic space D_Y, the positional displacement, and the number of status changes between the two swarm states. The existence of this explicit bounding function formally verifies that the Distance-to-Companion operator satisfies the Axiom of Mean-Square Continuity for Raw Values, making it a valid and well-behaved component within the Fragile Gas framework.",
  "assumptions": [],
  "conclusion": null,
  "equation_label": "F_{d,ms}",
  "uses_definitions": [
    "def-distance-to-companion-measurement",
    "def-mean-square-continuity",
    "def-expected-squared-distance-error-bound",
    "def-expected-distance-error-coefficients",
    "def-raw-value-operator",
    "def-swarm-state",
    "def-alive-set"
  ],
  "validation_errors": [],
  "raw_fallback": {
    "theorem_id": "thm-distance-operator-mean-square-continuity",
    "label": "thm-distance-operator-mean-square-continuity",
    "title": "Mean-Square Continuity of the Distance Operator",
    "statement_type": "theorem",
    "statement": "The **Distance-to-Companion Measurement** operator ($V=d$) is mean-square continuous for transitions in the $k \\geq 2$ regime. For any two swarm states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$, the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by the function $F_{d,ms}$:",
    "formal_statement": "$$\n\\mathbb{E}[\\|\\mathbf{d}(\\mathcal{S}_1) - \\mathbf{d}(\\mathcal{S}_2)\\|_2^2] \\le F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n$$\n\nwhere the **Expected Squared Distance Error Bound** is defined as:\n\n$$\n\\boxed{\nF_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2) := 6 N D_{\\mathcal{Y}}^2 + 3 \\left( C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2 \\right)\n}\n$$\n\nand the coefficients $C_{\\dots,d}$ are the deterministic **Expected Distance Error Coefficients** from thm-expected-raw-distance-bound:\n- $C_{\\text{pos},d} = 12$\n- $C_{\\text{status},d}^{(1)} = D_{\\mathcal{Y}}^2$\n- $C_{\\text{status},d}^{(2)}(k_1) = \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2}$\n\nWith the explicit derivation of this function, we have formally proven that the Distance-to-Companion operator is a valid raw value operator that satisfies the **Axiom of Mean-Square Continuity for Raw Values**.",
    "proof_sketch": "1. Decompose the total error using the triangle inequality with intermediate expectation vectors:\n   $\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2 \\le 3\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2 + 3\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 + 3\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2$\n2. Take the expectation of both sides.\n3. Bound the stochastic variance terms (first and third) using thm-distance-operator-satisfies-bounded-variance-axiom with $\\kappa^2_{\\text{variance}} = N D_{\\mathcal{Y}}^2$.\n4. Bound the deterministic mean term (middle) using thm-expected-raw-distance-bound.\n5. Combine all bounds to get the final expression for $F_{d,ms}$.",
    "proof_status": "complete",
    "dependencies": [
      "thm-distance-operator-satisfies-bounded-variance-axiom",
      "thm-expected-raw-distance-bound",
      "axiom-raw-value-mean-square-continuity"
    ],
    "used_in": [],
    "tags": [
      "mean-square-continuity",
      "distance",
      "axiom-verification",
      "error-bound",
      "stochastic"
    ],
    "importance": "major",
    "notes": "This theorem is the culmination of the distance operator continuity analysis. It provides the explicit bound function that will be used as input to the standardization operator continuity analysis. The function $F_{d,ms}$ captures both the stochastic variance (constant term $6ND_{\\mathcal{Y}}^2$) and the deterministic signal change (displacement-dependent terms)."
  }
}