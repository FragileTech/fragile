{
  "chapter_index": 11,
  "section_id": "## 11. Distance-to-Companion Measurement",
  "directive_count": 32,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-distance-to-companion-measurement",
      "title": "Distance-to-Companion Measurement",
      "start_line": 2248,
      "end_line": 2259,
      "header_lines": [
        2249
      ],
      "content_start": 2250,
      "content_end": 2258,
      "content": "2250: :label: def-distance-to-companion-measurement\n2251: The distance value $d_i$ for walker ({prf:ref}`def-walker`) $i$ is the result of a two-stage sampling process. First, a **potential companion** index, denoted $c_{\\text{pot}}(i)$, is sampled from the **Companion Selection ({prf:ref}`def-companion-selection-measure`) Measure** $\\mathbb{C}_i$. Second, the **Algorithmic Distance ({prf:ref}`def-alg-distance`)** is computed to that specific companion.\n2252: This process is equivalent to sampling a single value from the **Distance-to-Companion Measure** $\\mathbb{D}_i$, which is the pushforward of $\\mathbb{C}_i$ by the distance function $D_i(j) = d_{\\text{alg}}(x_i, x_j)$.\n2253: \n2254: $$\n2255: \n2256: d_i := d_{\\text{alg}}(x_i, x_{c_{\\text{pot}}(i)}) \\quad \\text{where} \\quad c_{\\text{pot}}(i) \\sim \\mathbb{C}_i(\\cdot)\n2257: \n2258: $$",
      "metadata": {
        "label": "def-distance-to-companion-measurement"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-companion-selection-measure",
        "def-alg-distance",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "2248: ### 10.1 Definition of Distance-to-Companion Measurement\n2249: :::{prf:definition} Distance-to-Companion Measurement\n2250: :label: def-distance-to-companion-measurement\n2251: The distance value $d_i$ for walker ({prf:ref}`def-walker`) $i$ is the result of a two-stage sampling process. First, a **potential companion** index, denoted $c_{\\text{pot}}(i)$, is sampled from the **Companion Selection ({prf:ref}`def-companion-selection-measure`) Measure** $\\mathbb{C}_i$. Second, the **Algorithmic Distance ({prf:ref}`def-alg-distance`)** is computed to that specific companion.\n2252: This process is equivalent to sampling a single value from the **Distance-to-Companion Measure** $\\mathbb{D}_i$, which is the pushforward of $\\mathbb{C}_i$ by the distance function $D_i(j) = d_{\\text{alg}}(x_i, x_j)$.\n2253: \n2254: $$\n2255: \n2256: d_i := d_{\\text{alg}}(x_i, x_{c_{\\text{pot}}(i)}) \\quad \\text{where} \\quad c_{\\text{pot}}(i) \\sim \\mathbb{C}_i(\\cdot)\n2257: \n2258: $$\n2259: The **Raw Distance Vector Operator**, denoted $\\mathbf{d}(\\mathcal{S})$, maps a swarm ({prf:ref}`def-swarm-and-state-space`) state $\\mathcal{S}$ to a *distribution* over N-dimensional vectors. A single realization of this vector is produced by performing the distance-to-companion measurement independently for each alive walker ({prf:ref}`def-walker`). For dead walkers, the component is zero."
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-positional-error",
      "title": "Bound on Single-Walker Error from Positional Change",
      "start_line": 2270,
      "end_line": 2280,
      "header_lines": [
        2271
      ],
      "content_start": 2272,
      "content_end": 2279,
      "content": "2272: :label: lem-single-walker-positional-error\n2273: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For a given walker ({prf:ref}`def-walker`) $i$ that is alive in swarm $\\mathcal{S}_1$ ($s_{1,i}=1$), let $\\mathbb{C}_i(\\mathcal{S}_1)$ be its companion selection measure.\n2274: The absolute error in its expected distance due to the positional displacement of the walker ({prf:ref}`def-walker`)s between the two states, evaluated over the fixed companion set from $\\mathcal{S}_1$, is bounded by the sum of its own displacement and the average displacement of its potential companions.\n2275: \n2276: $$\n2277: \n2278: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right]\n2279: ",
      "metadata": {
        "label": "lem-single-walker-positional-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2270: #### 10.2.1 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Positional Change\n2271: :::{prf:lemma} Bound on Single-Walker Error from Positional Change\n2272: :label: lem-single-walker-positional-error\n2273: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For a given walker ({prf:ref}`def-walker`) $i$ that is alive in swarm $\\mathcal{S}_1$ ($s_{1,i}=1$), let $\\mathbb{C}_i(\\mathcal{S}_1)$ be its companion selection measure.\n2274: The absolute error in its expected distance due to the positional displacement of the walker ({prf:ref}`def-walker`)s between the two states, evaluated over the fixed companion set from $\\mathcal{S}_1$, is bounded by the sum of its own displacement and the average displacement of its potential companions.\n2275: \n2276: $$\n2277: \n2278: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right]\n2279: \n2280: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-positional-error",
      "title": null,
      "start_line": 2281,
      "end_line": 2312,
      "header_lines": [
        2282
      ],
      "content_start": 2283,
      "content_end": 2311,
      "content": "2283: :label: proof-lem-single-walker-positional-error\n2284: **Proof.**\n2285: Let $\\Delta_{\\text{pos},i}$ denote the absolute error term we wish to bound for walker ({prf:ref}`def-walker`) $i$ in swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$.\n2286: 1.  **Apply Linearity of Expectation:**\n2287:     We combine the two terms into a single expectation.\n2288: \n2289: $$\n2290: \n2291:     \\Delta_{\\text{pos},i} = \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|\n2292: \n2293: $$\n2294: 2.  **Move the Absolute Value Inside the Expectation:**\n2295:     Using Jensen's inequality, $|\\mathbb{E}[X]| \\le \\mathbb{E}[|X|]$, we move the absolute value inside, which provides an upper bound:\n2296: \n2297: $$\n2298: \n2299:     \\Delta_{\\text{pos},i} \\le \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\right]\n2300: \n2301: $$\n2302: 3.  **Apply the Reverse Triangle Inequality:**\n2303:     The term inside the expectation is the absolute difference between two distance values. We apply the **reverse triangle inequality**, which states that for any points $a,b,c,d$ in a metric space $(M,d)$, $|d(a,b) - d(c,d)| \\le d(a,c) + d(b,d)$. Applying this to the Euclidean algorithmic distance ({prf:ref}`def-alg-distance`) $d_{\\text{alg}}$ yields:\n2304: \n2305: $$\n2306: \n2307:     \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + d_{\\text{alg}}(x_{1,c}, x_{2,c})\n2308: \n2309: $$\n2310: 4.  **Finalize the Bound:**\n2311:     We substitute this inequality back into the expression from Step 2. By linearity of expectation, the first term, $d_{\\text{alg}}(x_{1,i}, x_{2,i})$, is a constant with respect to the expectation over the companion index $c$. This gives the final bound.",
      "metadata": {
        "label": "proof-lem-single-walker-positional-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-swarm-and-state-space",
        "def-alg-distance"
      ],
      "raw_directive": "2281: :::\n2282: :::{prf:proof}\n2283: :label: proof-lem-single-walker-positional-error\n2284: **Proof.**\n2285: Let $\\Delta_{\\text{pos},i}$ denote the absolute error term we wish to bound for walker ({prf:ref}`def-walker`) $i$ in swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$.\n2286: 1.  **Apply Linearity of Expectation:**\n2287:     We combine the two terms into a single expectation.\n2288: \n2289: $$\n2290: \n2291:     \\Delta_{\\text{pos},i} = \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|\n2292: \n2293: $$\n2294: 2.  **Move the Absolute Value Inside the Expectation:**\n2295:     Using Jensen's inequality, $|\\mathbb{E}[X]| \\le \\mathbb{E}[|X|]$, we move the absolute value inside, which provides an upper bound:\n2296: \n2297: $$\n2298: \n2299:     \\Delta_{\\text{pos},i} \\le \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\right]\n2300: \n2301: $$\n2302: 3.  **Apply the Reverse Triangle Inequality:**\n2303:     The term inside the expectation is the absolute difference between two distance values. We apply the **reverse triangle inequality**, which states that for any points $a,b,c,d$ in a metric space $(M,d)$, $|d(a,b) - d(c,d)| \\le d(a,c) + d(b,d)$. Applying this to the Euclidean algorithmic distance ({prf:ref}`def-alg-distance`) $d_{\\text{alg}}$ yields:\n2304: \n2305: $$\n2306: \n2307:     \\left| d_{\\text{alg}}(x_{1,i}, x_{1,c}) - d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right| \\le d_{\\text{alg}}(x_{1,i}, x_{2,i}) + d_{\\text{alg}}(x_{1,c}, x_{2,c})\n2308: \n2309: $$\n2310: 4.  **Finalize the Bound:**\n2311:     We substitute this inequality back into the expression from Step 2. By linearity of expectation, the first term, $d_{\\text{alg}}(x_{1,i}, x_{2,i})$, is a constant with respect to the expectation over the companion index $c$. This gives the final bound.\n2312: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-structural-error",
      "title": "Bound on Single-Walker Error from Structural Change",
      "start_line": 2314,
      "end_line": 2325,
      "header_lines": [
        2315
      ],
      "content_start": 2316,
      "content_end": 2324,
      "content": "2316: :label: lem-single-walker-structural-error\n2317: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with alive set ({prf:ref}`def-alive-dead-sets`)s $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let walker ({prf:ref}`def-walker`) $i$ be alive in both swarms ($i \\in \\mathcal{A}_1 \\cap \\mathcal{A}_2$), and let the initial swarm have at least two alive walkers, $k_1=|\\mathcal{A}_1| \\ge 2$. Let the walker positions $\\mathbf{x}_2$ from the second swarm be fixed for the analysis. Let $n_c$ be the total number of status changes in the swarm.\n2318: The absolute error in the expected distance for walker ({prf:ref}`def-walker`) $i$ due to the change in the companion selection measure is bounded by:\n2319: \n2320: $$\n2321: \n2322: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2323: \n2324: $$",
      "metadata": {
        "label": "lem-single-walker-structural-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2314: #### 10.2.2 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Structural Change\n2315: :::{prf:lemma} Bound on Single-Walker Error from Structural Change\n2316: :label: lem-single-walker-structural-error\n2317: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with alive set ({prf:ref}`def-alive-dead-sets`)s $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let walker ({prf:ref}`def-walker`) $i$ be alive in both swarms ($i \\in \\mathcal{A}_1 \\cap \\mathcal{A}_2$), and let the initial swarm have at least two alive walkers, $k_1=|\\mathcal{A}_1| \\ge 2$. Let the walker positions $\\mathbf{x}_2$ from the second swarm be fixed for the analysis. Let $n_c$ be the total number of status changes in the swarm.\n2318: The absolute error in the expected distance for walker ({prf:ref}`def-walker`) $i$ due to the change in the companion selection measure is bounded by:\n2319: \n2320: $$\n2321: \n2322: \\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2323: \n2324: $$\n2325: where $D_{\\mathcal{Y}}$ is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`)."
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-structural-error",
      "title": null,
      "start_line": 2326,
      "end_line": 2345,
      "header_lines": [
        2327
      ],
      "content_start": 2328,
      "content_end": 2344,
      "content": "2328: :label: proof-lem-single-walker-structural-error\n2329: **Proof.**\n2330: This result is a direct application of the [](#thm-total-error-status-bound).\n2331: 1.  **Identify the Function and Bound:**\n2332:     Let the function being evaluated be $f(c) := d_{\\text{alg}}(x_{2,i}, x_{2,c})$. This function measures the distance in the algorithmic space ({prf:ref}`def-algorithmic-space-generic`) from walker ({prf:ref}`def-walker`) $i$ to a potential companion $c$ in swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with alive/dead sets ({prf:ref}`def-alive-dead-sets`). The distance is, by definition, bounded by the space's diameter, $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`). Therefore, we have a uniform bound $M_f = D_{\\mathcal{Y}}$.\n2333: 2.  **Identify the Support Sets:**\n2334:     Let $S_1 = \\mathbb{C}_i(\\mathcal{S}_1)$ and $S_2 = \\mathbb{C}_i(\\mathcal{S}_2)$ be the companion support sets for walker ({prf:ref}`def-walker`) $i$ in the two swarms. Since walker $i$ is alive in $\\mathcal{S}_1$ and the precondition states $k_1 \\ge 2$, the initial support set is $S_1 = \\mathcal{A}_1 \\setminus \\{i\\}$, and its size is $|S_1| = k_1 - 1 > 0$.\n2335: 3.  **Apply [](#thm-total-error-status-bound):**\n2336:     [](#thm-total-error-status-bound) provides a general bound for the change in expectation due to a change in the support set:\n2337: \n2338: $$\n2339: \n2340:     \\text{Error} \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n2341: \n2342: $$\n2343: 4.  **Substitute and Finalize:**\n2344:     We substitute our specific function bound $M_f = D_{\\mathcal{Y}}$ and the support set size $|S_1| = k_1 - 1$ into the general formula. This immediately yields the stated bound.",
      "metadata": {
        "label": "proof-lem-single-walker-structural-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-algorithmic-space-generic",
        "def-walker",
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "axiom-bounded-algorithmic-diameter"
      ],
      "raw_directive": "2326: :::\n2327: :::{prf:proof}\n2328: :label: proof-lem-single-walker-structural-error\n2329: **Proof.**\n2330: This result is a direct application of the [](#thm-total-error-status-bound).\n2331: 1.  **Identify the Function and Bound:**\n2332:     Let the function being evaluated be $f(c) := d_{\\text{alg}}(x_{2,i}, x_{2,c})$. This function measures the distance in the algorithmic space ({prf:ref}`def-algorithmic-space-generic`) from walker ({prf:ref}`def-walker`) $i$ to a potential companion $c$ in swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with alive/dead sets ({prf:ref}`def-alive-dead-sets`). The distance is, by definition, bounded by the space's diameter, $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`). Therefore, we have a uniform bound $M_f = D_{\\mathcal{Y}}$.\n2333: 2.  **Identify the Support Sets:**\n2334:     Let $S_1 = \\mathbb{C}_i(\\mathcal{S}_1)$ and $S_2 = \\mathbb{C}_i(\\mathcal{S}_2)$ be the companion support sets for walker ({prf:ref}`def-walker`) $i$ in the two swarms. Since walker $i$ is alive in $\\mathcal{S}_1$ and the precondition states $k_1 \\ge 2$, the initial support set is $S_1 = \\mathcal{A}_1 \\setminus \\{i\\}$, and its size is $|S_1| = k_1 - 1 > 0$.\n2335: 3.  **Apply [](#thm-total-error-status-bound):**\n2336:     [](#thm-total-error-status-bound) provides a general bound for the change in expectation due to a change in the support set:\n2337: \n2338: $$\n2339: \n2340:     \\text{Error} \\le \\frac{2 M_f}{|S_1|} \\cdot n_c\n2341: \n2342: $$\n2343: 4.  **Substitute and Finalize:**\n2344:     We substitute our specific function bound $M_f = D_{\\mathcal{Y}}$ and the support set size $|S_1| = k_1 - 1$ into the general formula. This immediately yields the stated bound.\n2345: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-single-walker-own-status-error",
      "title": "Bound on Single-Walker Error from Own Status Change",
      "start_line": 2347,
      "end_line": 2356,
      "header_lines": [
        2348
      ],
      "content_start": 2349,
      "content_end": 2355,
      "content": "2349: :label: lem-single-walker-own-status-error\n2350: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For any walker ({prf:ref}`def-walker`) $i$ whose survival status changes ($s_{1,i} \\neq s_{2,i}$), the absolute difference in its expected raw distance measurement is bounded by the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`).\n2351: \n2352: $$\n2353: \n2354: \\left| \\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)] \\right| \\le D_{\\mathcal{Y}}\n2355: ",
      "metadata": {
        "label": "lem-single-walker-own-status-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-walker",
        "def-algorithmic-space-generic",
        "axiom-bounded-algorithmic-diameter"
      ],
      "raw_directive": "2347: #### 10.2.3 Lemma: Bound on Single-Walker ({prf:ref}`def-walker`) Error from Own Status Change\n2348: :::{prf:lemma} Bound on Single-Walker Error from Own Status Change\n2349: :label: lem-single-walker-own-status-error\n2350: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. For any walker ({prf:ref}`def-walker`) $i$ whose survival status changes ($s_{1,i} \\neq s_{2,i}$), the absolute difference in its expected raw distance measurement is bounded by the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`), $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`).\n2351: \n2352: $$\n2353: \n2354: \\left| \\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)] \\right| \\le D_{\\mathcal{Y}}\n2355: \n2356: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-single-walker-own-status-error",
      "title": null,
      "start_line": 2357,
      "end_line": 2365,
      "header_lines": [
        2358
      ],
      "content_start": 2359,
      "content_end": 2364,
      "content": "2359: :label: proof-lem-single-walker-own-status-error\n2360: **Proof.**\n2361: The proof considers the two possible cases for a status change.\n2362: 1.  **Case 1: Walker ({prf:ref}`def-walker`) Dies ($s_{1,i}=1 \\to s_{2,i}=0$)**: The expected distance in state $\\mathcal{S}_1$ is $\\mathbb{E}[d_i(\\mathcal{S}_1)]$, which must lie in the interval $[0, D_{\\mathcal{Y}}]$. The expected distance in state $\\mathcal{S}_2$ is defined to be $\\mathbb{E}[d_i(\\mathcal{S}_2)] = 0$. The absolute difference is therefore $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - 0| \\le D_{\\mathcal{Y}}$.\n2363: 2.  **Case 2: Walker ({prf:ref}`def-walker`) is Revived ($s_{1,i}=0 \\to s_{2,i}=1$)**: The logic is symmetric. $\\mathbb{E}[d_i(\\mathcal{S}_1)] = 0$ and $\\mathbb{E}[d_i(\\mathcal{S}_2)] \\in [0, D_{\\mathcal{Y}}]$. The absolute difference is again bounded by $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic ({prf:ref}`def-algorithmic-space-generic`)-diameter`).\n2364: In both cases, the bound holds.",
      "metadata": {
        "label": "proof-lem-single-walker-own-status-error"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "axiom-bounded-algorithmic ({prf:ref}"
      ],
      "raw_directive": "2357: :::\n2358: :::{prf:proof}\n2359: :label: proof-lem-single-walker-own-status-error\n2360: **Proof.**\n2361: The proof considers the two possible cases for a status change.\n2362: 1.  **Case 1: Walker ({prf:ref}`def-walker`) Dies ($s_{1,i}=1 \\to s_{2,i}=0$)**: The expected distance in state $\\mathcal{S}_1$ is $\\mathbb{E}[d_i(\\mathcal{S}_1)]$, which must lie in the interval $[0, D_{\\mathcal{Y}}]$. The expected distance in state $\\mathcal{S}_2$ is defined to be $\\mathbb{E}[d_i(\\mathcal{S}_2)] = 0$. The absolute difference is therefore $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - 0| \\le D_{\\mathcal{Y}}$.\n2363: 2.  **Case 2: Walker ({prf:ref}`def-walker`) is Revived ($s_{1,i}=0 \\to s_{2,i}=1$)**: The logic is symmetric. $\\mathbb{E}[d_i(\\mathcal{S}_1)] = 0$ and $\\mathbb{E}[d_i(\\mathcal{S}_2)] \\in [0, D_{\\mathcal{Y}}]$. The absolute difference is again bounded by $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic ({prf:ref}`def-algorithmic-space-generic`)-diameter`).\n2364: In both cases, the bound holds.\n2365: **Q.E.D.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-total-expected-distance-error-decomposition",
      "title": "Decomposition of the Total Squared Error",
      "start_line": 2368,
      "end_line": 2377,
      "header_lines": [
        2369
      ],
      "content_start": 2371,
      "content_end": 2376,
      "content": "2371: \n2372: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared difference between their expected raw distance vectors is the sum of the squared differences over all walker ({prf:ref}`def-walker`)s. This sum can be partitioned into a sum over the set of *stable walkers*, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and a sum over the set of *unstable walkers*, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$.\n2373: \n2374: $$\n2375: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Stable Walker ({prf:ref}`def-walker`)s}} + \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Unstable Walkers}}\n2376: ",
      "metadata": {
        "label": "thm-total-expected-distance-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2368: \n2369: :::{prf:theorem} Decomposition of the Total Squared Error\n2370: :label: thm-total-expected-distance-error-decomposition\n2371: \n2372: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared difference between their expected raw distance vectors is the sum of the squared differences over all walker ({prf:ref}`def-walker`)s. This sum can be partitioned into a sum over the set of *stable walkers*, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and a sum over the set of *unstable walkers*, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$.\n2373: \n2374: $$\n2375: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Stable Walker ({prf:ref}`def-walker`)s}} + \\underbrace{\\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2}_{\\text{Error from Unstable Walkers}}\n2376: \n2377: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-total-expected-distance-error-decomposition",
      "title": null,
      "start_line": 2379,
      "end_line": 2385,
      "header_lines": [
        2380
      ],
      "content_start": 2381,
      "content_end": 2384,
      "content": "2381: :label: proof-thm-total-expected-distance-error-decomposition\n2382: **Proof.**\n2383: This decomposition is an identity that follows directly from partitioning the set of all walker ({prf:ref}`def-walker`) indices $\\{1, ..., N\\}$ into two disjoint subsets: those whose survival status is the same in both swarm ({prf:ref}`def-swarm-and-state-space`)s, and those whose status changes. The total sum of squared errors over all walkers is simply the sum of the errors over these two partitions.\n2384: The set of walker ({prf:ref}`def-walker`)s whose error contribution could be non-zero is the union of the alive set ({prf:ref}`def-alive-dead-sets`)s, $\\mathcal{A}(\\mathcal{S}_1) \\cup \\mathcal{A}(\\mathcal{S}_2)$. We partition this set into stable walkers, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and unstable walkers, whose indices lie in the symmetric difference of the alive sets, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$. For any walker **i** that is dead in both states, its expected distance is 0 in both states, so its error contribution is 0.",
      "metadata": {
        "label": "proof-thm-total-expected-distance-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-swarm-and-state-space",
        "def-alive-dead-sets"
      ],
      "raw_directive": "2379: \n2380: :::{prf:proof}\n2381: :label: proof-thm-total-expected-distance-error-decomposition\n2382: **Proof.**\n2383: This decomposition is an identity that follows directly from partitioning the set of all walker ({prf:ref}`def-walker`) indices $\\{1, ..., N\\}$ into two disjoint subsets: those whose survival status is the same in both swarm ({prf:ref}`def-swarm-and-state-space`)s, and those whose status changes. The total sum of squared errors over all walkers is simply the sum of the errors over these two partitions.\n2384: The set of walker ({prf:ref}`def-walker`)s whose error contribution could be non-zero is the union of the alive set ({prf:ref}`def-alive-dead-sets`)s, $\\mathcal{A}(\\mathcal{S}_1) \\cup \\mathcal{A}(\\mathcal{S}_2)$. We partition this set into stable walkers, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, and unstable walkers, whose indices lie in the symmetric difference of the alive sets, $\\mathcal{A}_{\\text{unstable}} = \\mathcal{A}(\\mathcal{S}_1) \\Delta \\mathcal{A}(\\mathcal{S}_2)$. For any walker **i** that is dead in both states, its expected distance is 0 in both states, so its error contribution is 0.\n2385: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-total-squared-error-unstable",
      "title": "Bound on the Total Squared Error for Unstable Walkers",
      "start_line": 2387,
      "end_line": 2397,
      "header_lines": [
        2388
      ],
      "content_start": 2389,
      "content_end": 2396,
      "content": "2389: :label: lem-total-squared-error-unstable\n2390: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared error in the expected raw distance from the set of unstable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{unstable}}$, is bounded by the total number of status changes:\n2391: \n2392: $$\n2393: \n2394: \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} \\big|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]\\big|^2 \\le D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2,\n2395: \n2396: $$",
      "metadata": {
        "label": "lem-total-squared-error-unstable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker",
        "axiom-bounded-algorithmic-diameter",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2387: #### 10.2.5 Lemma: Bound on the Total Squared Error for Unstable Walker ({prf:ref}`def-walker`)s\n2388: :::{prf:lemma} Bound on the Total Squared Error for Unstable Walkers\n2389: :label: lem-total-squared-error-unstable\n2390: Let $\\mathcal{S}_1$ ({prf:ref}`def-alive-dead-sets`) and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states. The total squared error in the expected raw distance from the set of unstable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{unstable}}$, is bounded by the total number of status changes:\n2391: \n2392: $$\n2393: \n2394: \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} \\big|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]\\big|^2 \\le D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2,\n2395: \n2396: $$\n2397: where $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`)."
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-squared-error-unstable",
      "title": null,
      "start_line": 2398,
      "end_line": 2405,
      "header_lines": [
        2399
      ],
      "content_start": 2400,
      "content_end": 2404,
      "content": "2400: :label: proof-lem-total-squared-error-unstable\n2401: **Proof.** For any unstable walker ({prf:ref}`def-walker`) $i$ (i.e., $s_{1,i}\\neq s_{2,i}$), [](#lem-single-walker-own-status-error) gives\n2402: $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le D_{\\mathcal{Y}}$.\n2403: Squaring and summing over all unstable walker ({prf:ref}`def-walker`)s yields the stated bound, since the count\n2404: $\\big|\\mathcal{A}_{\\text{unstable}}\\big| = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$.",
      "metadata": {
        "label": "proof-lem-total-squared-error-unstable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2398: :::\n2399: :::{prf:proof}\n2400: :label: proof-lem-total-squared-error-unstable\n2401: **Proof.** For any unstable walker ({prf:ref}`def-walker`) $i$ (i.e., $s_{1,i}\\neq s_{2,i}$), [](#lem-single-walker-own-status-error) gives\n2402: $|\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le D_{\\mathcal{Y}}$.\n2403: Squaring and summing over all unstable walker ({prf:ref}`def-walker`)s yields the stated bound, since the count\n2404: $\\big|\\mathcal{A}_{\\text{unstable}}\\big| = \\sum_{j=1}^N (s_{1,j}-s_{2,j})^2$.\n2405: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-total-squared-error-stable",
      "title": "Bound on the Total Squared Error for Stable Walkers",
      "start_line": 2407,
      "end_line": 2416,
      "header_lines": [
        2408
      ],
      "content_start": 2409,
      "content_end": 2415,
      "content": "2409: :label: lem-total-squared-error-stable\n2410: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). The total squared error in the expected raw distance from the set of stable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, is bounded as follows:\n2411: \n2412: $$\n2413: \n2414: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 12 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2415: ",
      "metadata": {
        "label": "lem-total-squared-error-stable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2407: #### 10.2.6. Lemma: Bound on the Total Squared Error for Stable Walker ({prf:ref}`def-walker`)s\n2408: :::{prf:lemma} Bound on the Total Squared Error for Stable Walkers\n2409: :label: lem-total-squared-error-stable\n2410: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). The total squared error in the expected raw distance from the set of stable walker ({prf:ref}`def-walker`)s, $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$, is bounded as follows:\n2411: \n2412: $$\n2413: \n2414: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 12 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2415: \n2416: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-squared-error-stable",
      "title": null,
      "start_line": 2417,
      "end_line": 2444,
      "header_lines": [
        2418
      ],
      "content_start": 2419,
      "content_end": 2443,
      "content": "2419: :label: proof-lem-total-squared-error-stable\n2420: **Proof.**\n2421: The total error for a single stable walker ({prf:ref}`def-walker`) is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2422: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker ({prf:ref}`def-walker`)-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2423: \n2424: $$\n2425: \n2426: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2427: \n2428: $$\n2429: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2430: \n2431: $$\n2432: \n2433: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2434: \n2435: $$\n2436: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2437: \n2438: $$\n2439: \n2440: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2441: \n2442: $$\n2443: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.",
      "metadata": {
        "label": "proof-lem-total-squared-error-stable"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2417: :::\n2418: :::{prf:proof}\n2419: :label: proof-lem-total-squared-error-stable\n2420: **Proof.**\n2421: The total error for a single stable walker ({prf:ref}`def-walker`) is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2422: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker ({prf:ref}`def-walker`)-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2423: \n2424: $$\n2425: \n2426: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2427: \n2428: $$\n2429: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2430: \n2431: $$\n2432: \n2433: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2434: \n2435: $$\n2436: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2437: \n2438: $$\n2439: \n2440: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2441: \n2442: $$\n2443: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.\n2444: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-walker-error-decomposition",
      "title": "Decomposition of Stable Walker Error",
      "start_line": 2447,
      "end_line": 2462,
      "header_lines": [
        2448
      ],
      "content_start": 2450,
      "content_end": 2461,
      "content": "2450: \n2451: This lemma decomposes the error for stable walkers using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`, supporting {prf:ref}`thm-distance-operator-mean-square-continuity`.\n2452: \n2453: This lemma decomposes the stable walker error using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`.\n2454: \n2455: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, the error in its expected raw distance can be decomposed into a positional error term, $\\Delta_{\\text{pos},i}$, and a structural error term, $\\Delta_{\\text{struct},i}$.\n2456: The total squared error over the set of stable walker ({prf:ref}`def-walker`)s is bounded by twice the sum of the squared norms of these two error components:\n2457: \n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2461: ",
      "metadata": {
        "label": "lem-sub-stable-walker-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "lem-single-walker-positional-error",
        "lem-single-walker-structural-error",
        "thm-distance-operator-mean-square-continuity",
        "def-alive-dead-sets",
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "2447: \n2448: :::{prf:lemma} Decomposition of Stable Walker Error\n2449: :label: lem-sub-stable-walker-error-decomposition\n2450: \n2451: This lemma decomposes the error for stable walkers using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`, supporting {prf:ref}`thm-distance-operator-mean-square-continuity`.\n2452: \n2453: This lemma decomposes the stable walker error using {prf:ref}`lem-single-walker-positional-error` and {prf:ref}`lem-single-walker-structural-error`.\n2454: \n2455: For ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`) each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, the error in its expected raw distance can be decomposed into a positional error term, $\\Delta_{\\text{pos},i}$, and a structural error term, $\\Delta_{\\text{struct},i}$.\n2456: The total squared error over the set of stable walker ({prf:ref}`def-walker`)s is bounded by twice the sum of the squared norms of these two error components:\n2457: \n2458: $$\n2459: \n2460: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2461: \n2462: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-walker-error-decomposition",
      "title": null,
      "start_line": 2464,
      "end_line": 2477,
      "header_lines": [
        2465
      ],
      "content_start": 2466,
      "content_end": 2476,
      "content": "2466: :label: proof-lem-sub-stable-walker-error-decomposition\n2467: **Proof.**\n2468: 1.  **Decompose Single-Walker ({prf:ref}`def-walker`) Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2469: \n2470: $$\n2471: \n2472: |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2473: \n2474: $$\n2475: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker ({prf:ref}`def-walker`)-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2476: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker ({prf:ref}`def-walker`) error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.",
      "metadata": {
        "label": "proof-lem-sub-stable-walker-error-decomposition"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2464: \n2465: :::{prf:proof}\n2466: :label: proof-lem-sub-stable-walker-error-decomposition\n2467: **Proof.**\n2468: 1.  **Decompose Single-Walker ({prf:ref}`def-walker`) Error:** For each stable walker $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2469: \n2470: $$\n2471: \n2472: |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2473: \n2474: $$\n2475: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker ({prf:ref}`def-walker`)-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2476: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker ({prf:ref}`def-walker`) error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.\n2477: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-positional-error-bound",
      "title": "Bounding the Positional Error Component",
      "start_line": 2480,
      "end_line": 2490,
      "header_lines": [
        2481
      ],
      "content_start": 2483,
      "content_end": 2489,
      "content": "2483: \n2484: The total squared error arising from positional changes for stable walker ({prf:ref}`def-walker`)s is bounded by the total positional displacement of all walkers in the swarm ({prf:ref}`def-swarm-and-state-space`).\n2485: \n2486: $$\n2487: \n2488: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2489: ",
      "metadata": {
        "label": "lem-sub-stable-positional-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "2480: \n2481: :::{prf:lemma} Bounding the Positional Error Component\n2482: :label: lem-sub-stable-positional-error-bound\n2483: \n2484: The total squared error arising from positional changes for stable walker ({prf:ref}`def-walker`)s is bounded by the total positional displacement of all walkers in the swarm ({prf:ref}`def-swarm-and-state-space`).\n2485: \n2486: $$\n2487: \n2488: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2489: \n2490: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-positional-error-bound",
      "title": null,
      "start_line": 2492,
      "end_line": 2546,
      "header_lines": [
        2493
      ],
      "content_start": 2494,
      "content_end": 2545,
      "content": "2494: :label: proof-lem-sub-stable-positional-error-bound\n2495: **Proof.**\n2496: 1.  **Bound the Single-Walker ({prf:ref}`def-walker`) Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2497: \n2498: $$\n2499: \n2500: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2501: \n2502: $$\n2503: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2504: \n2505: $$\n2506: \n2507: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2508: \n2509: $$\n2510: 3.  **Sum Over All Stable Walker ({prf:ref}`def-walker`)s:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2511: \n2512: $$\n2513: \n2514: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2515: \n2516: $$\n2517: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2518: \n2519: $$\n2520: \n2521: 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{|\\mathcal{A}_1 \\setminus \\{i\\}|} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right)\n2522: \n2523: $$\n2524: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. The normalization factor is $\\frac{1}{k_1-1}$. Therefore, the double summation is bounded by:\n2525: \n2526: $$\n2527: \n2528: \\le \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\le \\frac{2|\\mathcal{A}_{\\text{stable}}|}{k_1 - 1} \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2529: \n2530: $$\n2531: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, and for $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$, the entire second term from Step 3 is bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2532: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2533: \n2534: $$\n2535: \n2536: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2537: \n2538: $$\n2539: Both sums can be bounded by the sum over all $N$ walkers, which is the definition of $\\Delta_{\\text{pos}}^2$:\n2540: \n2541: $$\n2542: \n2543: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2544: \n2545: $$",
      "metadata": {
        "label": "proof-lem-sub-stable-positional-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2492: \n2493: :::{prf:proof}\n2494: :label: proof-lem-sub-stable-positional-error-bound\n2495: **Proof.**\n2496: 1.  **Bound the Single-Walker ({prf:ref}`def-walker`) Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2497: \n2498: $$\n2499: \n2500: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2501: \n2502: $$\n2503: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2504: \n2505: $$\n2506: \n2507: (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2508: \n2509: $$\n2510: 3.  **Sum Over All Stable Walker ({prf:ref}`def-walker`)s:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2511: \n2512: $$\n2513: \n2514: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2515: \n2516: $$\n2517: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2518: \n2519: $$\n2520: \n2521: 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{|\\mathcal{A}_1 \\setminus \\{i\\}|} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right)\n2522: \n2523: $$\n2524: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. The normalization factor is $\\frac{1}{k_1-1}$. Therefore, the double summation is bounded by:\n2525: \n2526: $$\n2527: \n2528: \\le \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\le \\frac{2|\\mathcal{A}_{\\text{stable}}|}{k_1 - 1} \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2529: \n2530: $$\n2531: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, and for $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$, the entire second term from Step 3 is bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2532: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2533: \n2534: $$\n2535: \n2536: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2537: \n2538: $$\n2539: Both sums can be bounded by the sum over all $N$ walkers, which is the definition of $\\Delta_{\\text{pos}}^2$:\n2540: \n2541: $$\n2542: \n2543: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2544: \n2545: $$\n2546: **Q.E.D.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-stable-structural-error-bound",
      "title": "Bounding the Structural Error Component for Stable Walkers",
      "start_line": 2549,
      "end_line": 2560,
      "header_lines": [
        2550
      ],
      "content_start": 2552,
      "content_end": 2559,
      "content": "2552: \n2553: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$ be the set of stable walkers, and let $\\Delta_{\\text{struct},i}$ be the error in a single walker ({prf:ref}`def-walker`)'s expected distance due to structural change.\n2554: The total squared error arising from structural changes for stable walker ({prf:ref}`def-walker`)s is bounded by the square of the total number of status changes in the swarm.\n2555: \n2556: $$\n2557: \n2558: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2559: ",
      "metadata": {
        "label": "lem-sub-stable-structural-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2549: \n2550: :::{prf:lemma} Bounding the Structural Error Component for Stable Walkers\n2551: :label: lem-sub-stable-structural-error-bound\n2552: \n2553: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathcal{A}_{\\text{stable}} = \\mathcal{A}(\\mathcal{S}_1) \\cap \\mathcal{A}(\\mathcal{S}_2)$ be the set of stable walkers, and let $\\Delta_{\\text{struct},i}$ be the error in a single walker ({prf:ref}`def-walker`)'s expected distance due to structural change.\n2554: The total squared error arising from structural changes for stable walker ({prf:ref}`def-walker`)s is bounded by the square of the total number of status changes in the swarm.\n2555: \n2556: $$\n2557: \n2558: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2559: \n2560: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-stable-structural-error-bound",
      "title": null,
      "start_line": 2562,
      "end_line": 2589,
      "header_lines": [
        2563
      ],
      "content_start": 2564,
      "content_end": 2588,
      "content": "2564: :label: proof-lem-sub-stable-structural-error-bound\n2565: **Proof.**\n2566: The proof proceeds by taking the established bound for the structural error of a single stable walker ({prf:ref}`def-walker`) and summing its square over all stable walkers.\n2567: 1.  **Bound the Single-Walker ({prf:ref}`def-walker`) Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). The bound is:\n2568: \n2569: $$\n2570: \n2571: |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n2572: \n2573: $$\n2574: Squaring this expression provides a deterministic bound for the squared error of a single stable walker ({prf:ref}`def-walker`):\n2575: \n2576: $$\n2577: \n2578: (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2579: \n2580: $$\n2581: 2.  **Sum Over All Stable Walker ({prf:ref}`def-walker`)s:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2582: \n2583: $$\n2584: \n2585: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2586: \n2587: $$\n2588: 3.  **Finalize:** Using the fact that the number of stable walker ({prf:ref}`def-walker`)s is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, we arrive at the final bound stated in the sub-lemma.",
      "metadata": {
        "label": "proof-lem-sub-stable-structural-error-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2562: \n2563: :::{prf:proof}\n2564: :label: proof-lem-sub-stable-structural-error-bound\n2565: **Proof.**\n2566: The proof proceeds by taking the established bound for the structural error of a single stable walker ({prf:ref}`def-walker`) and summing its square over all stable walkers.\n2567: 1.  **Bound the Single-Walker ({prf:ref}`def-walker`) Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). The bound is:\n2568: \n2569: $$\n2570: \n2571: |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n2572: \n2573: $$\n2574: Squaring this expression provides a deterministic bound for the squared error of a single stable walker ({prf:ref}`def-walker`):\n2575: \n2576: $$\n2577: \n2578: (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2579: \n2580: $$\n2581: 2.  **Sum Over All Stable Walker ({prf:ref}`def-walker`)s:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2582: \n2583: $$\n2584: \n2585: \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n2586: \n2587: $$\n2588: 3.  **Finalize:** Using the fact that the number of stable walker ({prf:ref}`def-walker`)s is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, we arrive at the final bound stated in the sub-lemma.\n2589: **Q.E.D.**"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2408",
      "title": null,
      "start_line": 2591,
      "end_line": 2604,
      "header_lines": [
        2592
      ],
      "content_start": 2593,
      "content_end": 2603,
      "content": "2593: :label: proof-line-2408\n2594: **Proof.**\n2595: 1.  **Analyze a Single Unstable Walker ({prf:ref}`def-walker`):** Let $i$ be an unstable walker, meaning its status $s_i$ changes. From [](#lem-single-walker-own-status-error), the absolute error in its expected distance is bounded by $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic ({prf:ref}`def-algorithmic-space-generic`)-diameter`). Therefore, the squared error for any single unstable walker is bounded by $D_{\\mathcal{Y}}^2$.\n2596: 2.  **Sum Over All Unstable Walker ({prf:ref}`def-walker`)s:** The set of unstable walkers, $\\mathcal{A}_{\\text{unstable}}$, is precisely the set of indices where $s_{1,i} \\neq s_{2,i}$. The number of walkers in this set is $|\\mathcal{A}_{\\text{unstable}}| = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$, since $(s_{1,j} - s_{2,j})^2$ is 1 if the status changes and 0 otherwise.\n2597: 3.  **Combine and Finalize:** The total squared error from unstable walker ({prf:ref}`def-walker`)s is the sum of their individual squared errors. Since each is bounded by $D_{\\mathcal{Y}}^2$, the total sum is bounded by the number of such walkers multiplied by this bound:\n2598: \n2599: $$\n2600: \n2601:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\dots|^2 \\le |\\mathcal{A}_{\\text{unstable}}| \\cdot D_{\\mathcal{Y}}^2 = D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2\n2602: \n2603: $$",
      "metadata": {
        "label": "proof-line-2408"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "axiom-bounded-algorithmic ({prf:ref}"
      ],
      "raw_directive": "2591: #### 10.2.5 Lemma: Bound on the Total Squared Error for Unstable Walker ({prf:ref}`def-walker`)s\n2592: :::{prf:proof}\n2593: :label: proof-line-2408\n2594: **Proof.**\n2595: 1.  **Analyze a Single Unstable Walker ({prf:ref}`def-walker`):** Let $i$ be an unstable walker, meaning its status $s_i$ changes. From [](#lem-single-walker-own-status-error), the absolute error in its expected distance is bounded by $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic ({prf:ref}`def-algorithmic-space-generic`)-diameter`). Therefore, the squared error for any single unstable walker is bounded by $D_{\\mathcal{Y}}^2$.\n2596: 2.  **Sum Over All Unstable Walker ({prf:ref}`def-walker`)s:** The set of unstable walkers, $\\mathcal{A}_{\\text{unstable}}$, is precisely the set of indices where $s_{1,i} \\neq s_{2,i}$. The number of walkers in this set is $|\\mathcal{A}_{\\text{unstable}}| = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$, since $(s_{1,j} - s_{2,j})^2$ is 1 if the status changes and 0 otherwise.\n2597: 3.  **Combine and Finalize:** The total squared error from unstable walker ({prf:ref}`def-walker`)s is the sum of their individual squared errors. Since each is bounded by $D_{\\mathcal{Y}}^2$, the total sum is bounded by the number of such walkers multiplied by this bound:\n2598: \n2599: $$\n2600: \n2601:     \\sum_{i \\in \\mathcal{A}_{\\text{unstable}}} |\\dots|^2 \\le |\\mathcal{A}_{\\text{unstable}}| \\cdot D_{\\mathcal{Y}}^2 = D_{\\mathcal{Y}}^2 \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2\n2602: \n2603: $$\n2604: **Q.E.D.**"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2422",
      "title": null,
      "start_line": 2606,
      "end_line": 2633,
      "header_lines": [
        2607
      ],
      "content_start": 2608,
      "content_end": 2632,
      "content": "2608: :label: proof-line-2422\n2609: **Proof.**\n2610: The total error for a single stable walker ({prf:ref}`def-walker`) is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2611: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2612: \n2613: $$\n2614: \n2615:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2616: \n2617: $$\n2618: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2619: \n2620: $$\n2621: \n2622:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2623: \n2624: $$\n2625: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2626: \n2627: $$\n2628: \n2629:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2630: \n2631: $$\n2632: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.",
      "metadata": {
        "label": "proof-line-2422"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2606: #### 10.2.6 Lemma: Bound on the Total Squared Error for Stable Walkers\n2607: :::{prf:proof}\n2608: :label: proof-line-2422\n2609: **Proof.**\n2610: The total error for a single stable walker ({prf:ref}`def-walker`) is first decomposed into a positional component and a structural component. The squared L2-norm of the total error over all stable walkers is then bounded by combining the established bounds for the sum of the squares of these individual components.\n2611: 1.  **Decomposition of Total Stable Error:** From [](#sub-lem-stable-walker-error-decomposition), the total squared error for stable walkers is bounded by twice the sum of the squared positional and structural error components:\n2612: \n2613: $$\n2614: \n2615:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]|^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2\n2616: \n2617: $$\n2618: 2.  **Bound the Positional Component:** From [](#sub-lem-stable-positional-error-bound), the total squared positional error component is bounded by:\n2619: \n2620: $$\n2621: \n2622:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2623: \n2624: $$\n2625: 3.  **Bound the Structural Component:** From [](#sub-lem-stable-structural-error-bound), the total squared structural error component is bounded by:\n2626: \n2627: $$\n2628: \n2629:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2630: \n2631: $$\n2632: 4.  **Combine the Bounds:** Substituting the bounds from steps 2 and 3 into the inequality from step 1 and multiplying by the factor of 2 yields the final result stated in the lemma.\n2633: **Q.E.D.**"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2450",
      "title": null,
      "start_line": 2635,
      "end_line": 2648,
      "header_lines": [
        2636
      ],
      "content_start": 2637,
      "content_end": 2647,
      "content": "2637: :label: proof-line-2450\n2638: **Proof.**\n2639: 1.  **Decompose Single-Walker Error:** For each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2640: \n2641: $$\n2642: \n2643:     |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2644: \n2645: $$\n2646: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2647: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.",
      "metadata": {
        "label": "proof-line-2450"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2635: ##### 10.2.6.1 Sub-Lemma: Decomposition of Stable Walker Error\n2636: :::{prf:proof}\n2637: :label: proof-line-2450\n2638: **Proof.**\n2639: 1.  **Decompose Single-Walker Error:** For each stable walker ({prf:ref}`def-walker`) $i \\in \\mathcal{A}_{\\text{stable}}$, we introduce the intermediate term $\\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} [d_{\\text{alg}}(x_{2,i}, x_{2,c})]$ and apply the triangle inequality:\n2640: \n2641: $$\n2642: \n2643:     |\\mathbb{E}[d_i(\\mathcal{S}_1)] - \\mathbb{E}[d_i(\\mathcal{S}_2)]| \\le \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,i}, x_{1,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{pos},i}} + \\underbrace{\\left| \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] - \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_2)} \\left[ d_{\\text{alg}}(x_{2,i}, x_{2,c}) \\right] \\right|}_{\\Delta_{\\text{struct},i}}\n2644: \n2645: $$\n2646: The term $\\Delta_{\\text{pos},i}$ is the error from positional change over a fixed companion set, bounded by [](#lem-single-walker-positional-error). The term $\\Delta_{\\text{struct},i}$ is the error from structural change with fixed positions, bounded by [](#lem-single-walker-structural-error).\n2647: 2.  **Bound the Squared Sum:** Using the elementary inequality $(a+b)^2 \\le 2a^2 + 2b^2$, we can bound the square of the single-walker error. Summing over all $i \\in \\mathcal{A}_{\\text{stable}}$ yields the inequality stated in the lemma.\n2648: **Q.E.D.**"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2464",
      "title": null,
      "start_line": 2650,
      "end_line": 2711,
      "header_lines": [
        2651
      ],
      "content_start": 2652,
      "content_end": 2710,
      "content": "2652: :label: proof-line-2464\n2653: **Proof.**\n2654: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker ({prf:ref}`def-walker`)-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2655: \n2656: $$\n2657: \n2658:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2659: \n2660: $$\n2661: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2662: \n2663: $$\n2664: \n2665:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2666: \n2667: $$\n2668: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2669: \n2670: $$\n2671: \n2672:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2673: \n2674: $$\n2675: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2676: \n2677: $$\n2678: \n2679:     2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{k_1 - 1} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right) = \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2\n2680: \n2681: $$\n2682: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. Therefore, the double summation is bounded by:\n2683: \n2684: $$\n2685: \n2686:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} (\\dots)^2 \\le |\\mathcal{A}_{\\text{stable}}| \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2687: \n2688: $$\n2689: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, the entire second term from Step 3 is bounded by:\n2690: \n2691: $$\n2692: \n2693:     \\frac{2}{k_1 - 1} \\cdot k_1 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2694: \n2695: $$\n2696: For $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$. The term is therefore bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2697: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2698: \n2699: $$\n2700: \n2701:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2702: \n2703: $$\n2704: Both sums can be bounded by the sum over all $N$ walkers, giving the final result:\n2705: \n2706: $$\n2707: \n2708:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2709: \n2710: $$",
      "metadata": {
        "label": "proof-line-2464"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2650: ##### 10.2.6.2 Sub-Lemma: Bounding the Positional Error Component\n2651: :::{prf:proof}\n2652: :label: proof-line-2464\n2653: **Proof.**\n2654: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on $\\Delta_{\\text{pos},i}$ from [](#lem-single-walker ({prf:ref}`def-walker`)-positional-error) and apply the inequality $(a+b)^2 \\le 2a^2 + 2b^2$:\n2655: \n2656: $$\n2657: \n2658:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c}) \\right] \\right)^2\n2659: \n2660: $$\n2661: 2.  **Apply Jensen's Inequality:** For the second term, we apply Jensen's inequality, $(\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$, to move the square inside the expectation:\n2662: \n2663: $$\n2664: \n2665:     (\\Delta_{\\text{pos},i})^2 \\le 2 \\cdot d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\cdot \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2666: \n2667: $$\n2668: 3.  **Sum Over All Stable Walkers:** We sum this inequality over all $i \\in \\mathcal{A}_{\\text{stable}}$.\n2669: \n2670: $$\n2671: \n2672:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)} \\left[ d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right]\n2673: \n2674: $$\n2675: 4.  **Analyze the Second Term's Double Summation:** The second term is a double summation. We expand the expectation:\n2676: \n2677: $$\n2678: \n2679:     2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\left( \\frac{1}{k_1 - 1} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2 \\right) = \\frac{2}{k_1 - 1} \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} d_{\\text{alg}}(x_{1,c}, x_{2,c})^2\n2680: \n2681: $$\n2682: Consider a specific squared distance term $d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$ where $j \\in \\mathcal{A}_1$. This term appears in the inner sum for every $i \\in \\mathcal{A}_{\\text{stable}}$ such that $i \\neq j$. The number of such appearances is $|\\mathcal{A}_{\\text{stable}} \\setminus \\{j\\}|$, which is bounded above by $|\\mathcal{A}_{\\text{stable}}|$. Therefore, the double summation is bounded by:\n2683: \n2684: $$\n2685: \n2686:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} \\sum_{c \\in \\mathcal{A}_1 \\setminus \\{i\\}} (\\dots)^2 \\le |\\mathcal{A}_{\\text{stable}}| \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2687: \n2688: $$\n2689: Since $|\\mathcal{A}_{\\text{stable}}| \\le k_1$, the entire second term from Step 3 is bounded by:\n2690: \n2691: $$\n2692: \n2693:     \\frac{2}{k_1 - 1} \\cdot k_1 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2694: \n2695: $$\n2696: For $k_1 \\ge 2$, the fraction $k_1/(k_1-1) \\le 2$. The term is therefore bounded by $4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2$.\n2697: 5.  **Combine and Finalize:** Substituting this back into the inequality from Step 3:\n2698: \n2699: $$\n2700: \n2701:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 2 \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 4 \\sum_{j \\in \\mathcal{A}_1} d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2702: \n2703: $$\n2704: Both sums can be bounded by the sum over all $N$ walkers, giving the final result:\n2705: \n2706: $$\n2707: \n2708:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{pos},i})^2 \\le 6 \\sum_{j=1}^N d_{\\text{alg}}(x_{1,j}, x_{2,j})^2\n2709: \n2710: $$\n2711: **Q.E.D.**"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-2526",
      "title": null,
      "start_line": 2713,
      "end_line": 2746,
      "header_lines": [
        2714
      ],
      "content_start": 2715,
      "content_end": 2745,
      "content": "2715: :label: proof-line-2526\n2716: **Proof.**\n2717: The proof proceeds by taking the established bound for the structural error of a single stable walker ({prf:ref}`def-walker`) and summing its square over all stable walkers in the set $\\mathcal{A}_{\\text{stable}}$.\n2718: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). Let $n_c = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$ be the total number of status changes. The bound from [](#lem-single-walker-structural-error) is:\n2719: \n2720: $$\n2721: \n2722:     |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2723: \n2724: $$\n2725: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2726: \n2727: $$\n2728: \n2729:     (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2730: \n2731: $$\n2732: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker and does not depend on the index $i$, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2733: \n2734: $$\n2735: \n2736:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2737: \n2738: $$\n2739: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, and substituting the definition of $n_c^2$, we arrive at the final bound stated in the sub-lemma.\n2740: \n2741: $$\n2742: \n2743:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2 = \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2744: \n2745: $$",
      "metadata": {
        "label": "proof-line-2526"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2713: ##### 10.2.6.3 Sub-Lemma: Bounding the Structural Error Component for Stable Walkers\n2714: :::{prf:proof}\n2715: :label: proof-line-2526\n2716: **Proof.**\n2717: The proof proceeds by taking the established bound for the structural error of a single stable walker ({prf:ref}`def-walker`) and summing its square over all stable walkers in the set $\\mathcal{A}_{\\text{stable}}$.\n2718: 1.  **Bound the Single-Walker Squared Error:** We start with the bound on the structural error component for a single walker $i$, $\\Delta_{\\text{struct},i}$, as established in [](#lem-single-walker-structural-error). Let $n_c = \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2$ be the total number of status changes. The bound from [](#lem-single-walker-structural-error) is:\n2719: \n2720: $$\n2721: \n2722:     |\\Delta_{\\text{struct},i}| \\le \\frac{2 D_{\\mathcal{Y}}}{k_1 - 1} \\cdot n_c\n2723: \n2724: $$\n2725: Squaring this expression provides a deterministic bound for the squared error of a single stable walker:\n2726: \n2727: $$\n2728: \n2729:     (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2730: \n2731: $$\n2732: 2.  **Sum Over All Stable Walkers:** We sum this inequality over all stable walkers $i \\in \\mathcal{A}_{\\text{stable}}$. Since the derived bound is identical for every stable walker and does not depend on the index $i$, we multiply the single-walker bound by the number of stable walkers, $|\\mathcal{A}_{\\text{stable}}|$.\n2733: \n2734: $$\n2735: \n2736:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le |\\mathcal{A}_{\\text{stable}}| \\cdot \\frac{4 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2\n2737: \n2738: $$\n2739: 3.  **Finalize:** Using the fact that the number of stable walkers is bounded by the initial number of alive walkers, $|\\mathcal{A}_{\\text{stable}}| \\le |\\mathcal{A}(\\mathcal{S}_1)| = k_1$, and substituting the definition of $n_c^2$, we arrive at the final bound stated in the sub-lemma.\n2740: \n2741: $$\n2742: \n2743:     \\sum_{i \\in \\mathcal{A}_{\\text{stable}}} (\\Delta_{\\text{struct},i})^2 \\le \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2 = \\frac{4 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\left( \\sum_{j=1}^N (s_{1,j} - s_{2,j})^2 \\right)^2\n2744: \n2745: $$\n2746: **Q.E.D.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-expected-raw-distance-bound",
      "title": "Bound on the Expected Raw Distance Vector Change",
      "start_line": 2749,
      "end_line": 2759,
      "header_lines": [
        2750
      ],
      "content_start": 2751,
      "content_end": 2758,
      "content": "2751: :label: thm-expected-raw-distance-bound\n2752: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ be the $N$-dimensional vector of expected raw distances.\n2753: The squared Euclidean distance between the expected raw distance vectors of the two swarms is deterministically bounded by a function of the displacement component ({prf:ref}`def-displacement-components`)mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(1)} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2754: \n2755: $$\n2756: where the **Expected Distance Error Coefficients** are defined as:\n2757: *   $C_{\\text{pos},d} := 12$\n2758: *   $C_{\\text{status},d}^{(1)} := D_{\\mathcal{Y}}^2$",
      "metadata": {
        "label": "thm-expected-raw-distance-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-algorithmic-space-generic",
        "def-alive-dead-sets",
        "def-displacement-components"
      ],
      "raw_directive": "2749: This theorem consolidates the error bounds from the preceding lemmas to establish a deterministic bound on the change of the *expected* raw distance vector. This bound is expressed as a function of the formal displacement components ([](#def-displacement-components)) and serves as the deterministic part of the continuity axiom for the distance operator.\n2750: :::{prf:theorem} Bound on the Expected Raw Distance Vector Change\n2751: :label: thm-expected-raw-distance-bound\n2752: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm ({prf:ref}`def-swarm-and-state-space`) states, with $|\\mathcal{A}(\\mathcal{S}_1)| = k_1 \\ge 2$ ({prf:ref}`def-algorithmic-space-generic`) ({prf:ref}`def-alive-dead-sets`) ({prf:ref}`def-swarm-and-state-space`). Let $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ be the $N$-dimensional vector of expected raw distances.\n2753: The squared Euclidean distance between the expected raw distance vectors of the two swarms is deterministically bounded by a function of the displacement component ({prf:ref}`def-displacement-components`)mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(1)} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2(\\mathcal{S}_1, \\mathcal{S}_2)\n2754: \n2755: $$\n2756: where the **Expected Distance Error Coefficients** are defined as:\n2757: *   $C_{\\text{pos},d} := 12$\n2758: *   $C_{\\text{status},d}^{(1)} := D_{\\mathcal{Y}}^2$\n2759: *   $C_{\\text{status},d}^{(2)}(k_1) := \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2}$"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-raw-distance-bound",
      "title": null,
      "start_line": 2760,
      "end_line": 2770,
      "header_lines": [
        2761
      ],
      "content_start": 2762,
      "content_end": 2769,
      "content": "2762: :label: proof-thm-expected-raw-distance-bound\n2763: **Proof.**\n2764: The proof is a direct consequence of decomposing the total error and applying the bounds established in the preceding lemmas.\n2765: 1.  **Decomposition of Total Error:** Following [](#thm-total-expected-distance-error-decomposition), the total squared error is the sum of the error from the set of stable walker ({prf:ref}`def-walker`)s ($E^2_{\\text{stable}}$) and the set of unstable walkers ($E^2_{\\text{unstable}}$).\n2766: 2.  **Bound Error Components:**\n2767:     *   The error from unstable walker ({prf:ref}`def-walker`)s, $E^2_{\\text{unstable}}$, is bounded by [](#lem-total-squared-error-unstable): $E^2_{\\text{unstable}} \\le D_{\\mathcal{Y}}^2 \\cdot n_c$.\n2768:     *   The error from stable walker ({prf:ref}`def-walker`)s, $E^2_{\\text{stable}}$, is bounded by [](#lem-total-squared-error-stable): $E^2_{\\text{stable}} \\le 12 \\cdot \\Delta_{\\text{pos}}^2 + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2$.\n2769: 3.  **Combine Bounds:** Summing the two bounds gives the final inequality. This theorem recasts that result by explicitly naming the coefficients for each displacement component, formalizing the bound for use in subsequent proofs.",
      "metadata": {
        "label": "proof-thm-expected-raw-distance-bound"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker"
      ],
      "raw_directive": "2760: :::\n2761: :::{prf:proof}\n2762: :label: proof-thm-expected-raw-distance-bound\n2763: **Proof.**\n2764: The proof is a direct consequence of decomposing the total error and applying the bounds established in the preceding lemmas.\n2765: 1.  **Decomposition of Total Error:** Following [](#thm-total-expected-distance-error-decomposition), the total squared error is the sum of the error from the set of stable walker ({prf:ref}`def-walker`)s ($E^2_{\\text{stable}}$) and the set of unstable walkers ($E^2_{\\text{unstable}}$).\n2766: 2.  **Bound Error Components:**\n2767:     *   The error from unstable walker ({prf:ref}`def-walker`)s, $E^2_{\\text{unstable}}$, is bounded by [](#lem-total-squared-error-unstable): $E^2_{\\text{unstable}} \\le D_{\\mathcal{Y}}^2 \\cdot n_c$.\n2768:     *   The error from stable walker ({prf:ref}`def-walker`)s, $E^2_{\\text{stable}}$, is bounded by [](#lem-total-squared-error-stable): $E^2_{\\text{stable}} \\le 12 \\cdot \\Delta_{\\text{pos}}^2 + \\frac{8 k_1 D_{\\mathcal{Y}}^2}{(k_1 - 1)^2} \\cdot n_c^2$.\n2769: 3.  **Combine Bounds:** Summing the two bounds gives the final inequality. This theorem recasts that result by explicitly naming the coefficients for each displacement component, formalizing the bound for use in subsequent proofs.\n2770: **Q.E.D.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-expected-raw-distance-k1",
      "title": "Deterministic Behavior of the Expected Raw Distance Vector at $k=1$",
      "start_line": 2773,
      "end_line": 2790,
      "header_lines": [
        2774
      ],
      "content_start": 2775,
      "content_end": 2789,
      "content": "2775: :label: thm-expected-raw-distance-k1\n2776: Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) state with exactly one alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`), $|\\mathcal{A}(\\mathcal{S})| = 1$. The N-dimensional vector of expected raw distances, $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$, is deterministically the zero vector.\n2777: \n2778: $$\n2779: \n2780: |\\mathcal{A}(\\mathcal{S})| = 1 \\implies \\mathbb{E}[\\mathbf{d}(\\mathcal{S})] = \\mathbf{0}\n2781: \n2782: $$\n2783: **Implication for Continuity:**\n2784: Any transition between a state $\\mathcal{S}_1$ with $|\\mathcal{A}(\\mathcal{S}_1)| \\ge 2$ and a state $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_2)| = 1$ induces a discontinuous change in the expected raw distance vector. The magnitude of this change is not governed by the Lipschitz bounds derived for the $k \\geq 2$ regime, but is instead given by the norm of the vector in the $k \\geq 2$ state:\n2785: \n2786: $$\n2787: \n2788: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] \\|_2^2\n2789: ",
      "metadata": {
        "label": "thm-expected-raw-distance-k1"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-alive-dead-sets",
        "def-walker"
      ],
      "raw_directive": "2773: The continuity analysis in the preceding sections is expressly valid for the $k \\geq 2$ regime. When the number of alive walker ({prf:ref}`def-walker`)s becomes one, the diversity measurement mechanism behaves in a fundamentally different, deterministic manner. The following theorem formally describes this behavior.\n2774: :::{prf:theorem} Deterministic Behavior of the Expected Raw Distance Vector at $k=1$\n2775: :label: thm-expected-raw-distance-k1\n2776: Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) state with exactly one alive ({prf:ref}`def-alive-dead-sets`) walker ({prf:ref}`def-walker`), $|\\mathcal{A}(\\mathcal{S})| = 1$. The N-dimensional vector of expected raw distances, $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$, is deterministically the zero vector.\n2777: \n2778: $$\n2779: \n2780: |\\mathcal{A}(\\mathcal{S})| = 1 \\implies \\mathbb{E}[\\mathbf{d}(\\mathcal{S})] = \\mathbf{0}\n2781: \n2782: $$\n2783: **Implication for Continuity:**\n2784: Any transition between a state $\\mathcal{S}_1$ with $|\\mathcal{A}(\\mathcal{S}_1)| \\ge 2$ and a state $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_2)| = 1$ induces a discontinuous change in the expected raw distance vector. The magnitude of this change is not governed by the Lipschitz bounds derived for the $k \\geq 2$ regime, but is instead given by the norm of the vector in the $k \\geq 2$ state:\n2785: \n2786: $$\n2787: \n2788: \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_2)] \\|_2^2 = \\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] \\|_2^2\n2789: \n2790: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-raw-distance-k1",
      "title": null,
      "start_line": 2791,
      "end_line": 2812,
      "header_lines": [
        2792
      ],
      "content_start": 2793,
      "content_end": 2811,
      "content": "2793: :label: proof-thm-expected-raw-distance-k1\n2794: **Proof.**\n2795: The proof follows directly from the definitions of the Raw Value Operator ({prf:ref}`def-raw-value-operator`) for distance and the Companion Selection Measure for the $k=1$ case. Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) with $|\\mathcal{A}(\\mathcal{S})| = 1$, and let the single survivor be walker ({prf:ref}`def-walker`) $j$.\n2796: 1.  **Expected Distance for the Survivor (Walker ({prf:ref}`def-walker`) **j**):**\n2797:     *   From the **Companion Selection Measure ({prf:ref}`def-companion-selection-measure`) ([](#def-companion-selection-measure))**, if a walker ({prf:ref}`def-walker`) is the only one alive, it is its own companion. Thus, the companion index is deterministically $c(j) = j$.\n2798:     *   The expected distance for walker ({prf:ref}`def-walker`) $j$ is the expectation over a single outcome:\n2799: \n2800: $$\n2801: \n2802:         \\mathbb{E}[d_j(\\mathcal{S})] = d_{\\text{alg}}(x_j, x_j) = 0\n2803: \n2804: $$\n2805: This holds because $d_{\\text{alg}}$ is a metric, for which the distance from a point to itself is zero.\n2806: 2.  **Expected Distance for Dead Walker ({prf:ref}`def-walker`)s (all **i \u2260 j**):**\n2807:     *   From the definition of the **Raw Value Operator ({prf:ref}`def-raw-value-operator`) ([](#def-raw-value-operator))**, the raw value for any walker ({prf:ref}`def-walker`) that is not in the alive set ({prf:ref}`def-alive-dead-sets`) is deterministically zero.\n2808:     *   Therefore, for any dead walker ({prf:ref}`def-walker`) $i \\in \\mathcal{D}(\\mathcal{S})$, its expected distance is $\\mathbb{E}[d_i(\\mathcal{S})] = 0$.\n2809: 3.  **Conclusion:**\n2810:     Since the expected distance is zero for the single alive walker ({prf:ref}`def-walker`) and for all dead walkers, every component of the N-dimensional vector $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ is zero. This proves that the vector is deterministically the zero vector when $k=1$.\n2811:     The implication for continuity follows directly. For a transition from $\\mathcal{S}_1$ ($k_1 \\ge 2$) to $\\mathcal{S}_2$ ($k_2=1$), the change is $\\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbf{0} \\|_2^2$, which is not described by a continuous function of the displacement between the states but represents a discrete jump. This special case is handled by the revival dynamics of the algorithm rather than the continuity framework.",
      "metadata": {
        "label": "proof-thm-expected-raw-distance-k1"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-raw-value-operator",
        "def-swarm-and-state-space",
        "def-walker",
        "def-companion-selection-measure",
        "def-alive-dead-sets"
      ],
      "raw_directive": "2791: :::\n2792: :::{prf:proof}\n2793: :label: proof-thm-expected-raw-distance-k1\n2794: **Proof.**\n2795: The proof follows directly from the definitions of the Raw Value Operator ({prf:ref}`def-raw-value-operator`) for distance and the Companion Selection Measure for the $k=1$ case. Let $\\mathcal{S}$ be a swarm ({prf:ref}`def-swarm-and-state-space`) with $|\\mathcal{A}(\\mathcal{S})| = 1$, and let the single survivor be walker ({prf:ref}`def-walker`) $j$.\n2796: 1.  **Expected Distance for the Survivor (Walker ({prf:ref}`def-walker`) **j**):**\n2797:     *   From the **Companion Selection Measure ({prf:ref}`def-companion-selection-measure`) ([](#def-companion-selection-measure))**, if a walker ({prf:ref}`def-walker`) is the only one alive, it is its own companion. Thus, the companion index is deterministically $c(j) = j$.\n2798:     *   The expected distance for walker ({prf:ref}`def-walker`) $j$ is the expectation over a single outcome:\n2799: \n2800: $$\n2801: \n2802:         \\mathbb{E}[d_j(\\mathcal{S})] = d_{\\text{alg}}(x_j, x_j) = 0\n2803: \n2804: $$\n2805: This holds because $d_{\\text{alg}}$ is a metric, for which the distance from a point to itself is zero.\n2806: 2.  **Expected Distance for Dead Walker ({prf:ref}`def-walker`)s (all **i \u2260 j**):**\n2807:     *   From the definition of the **Raw Value Operator ({prf:ref}`def-raw-value-operator`) ([](#def-raw-value-operator))**, the raw value for any walker ({prf:ref}`def-walker`) that is not in the alive set ({prf:ref}`def-alive-dead-sets`) is deterministically zero.\n2808:     *   Therefore, for any dead walker ({prf:ref}`def-walker`) $i \\in \\mathcal{D}(\\mathcal{S})$, its expected distance is $\\mathbb{E}[d_i(\\mathcal{S})] = 0$.\n2809: 3.  **Conclusion:**\n2810:     Since the expected distance is zero for the single alive walker ({prf:ref}`def-walker`) and for all dead walkers, every component of the N-dimensional vector $\\mathbb{E}[\\mathbf{d}(\\mathcal{S})]$ is zero. This proves that the vector is deterministically the zero vector when $k=1$.\n2811:     The implication for continuity follows directly. For a transition from $\\mathcal{S}_1$ ($k_1 \\ge 2$) to $\\mathcal{S}_2$ ($k_2=1$), the change is $\\| \\mathbb{E}[\\mathbf{d}(\\mathcal{S}_1)] - \\mathbf{0} \\|_2^2$, which is not described by a continuous function of the displacement between the states but represents a discrete jump. This special case is handled by the revival dynamics of the algorithm rather than the continuity framework.\n2812: **Q.E.D.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-distance-operator-satisfies-bounded-variance-axiom",
      "title": "The Distance Operator Satisfies the Bounded Variance Axiom",
      "start_line": 2817,
      "end_line": 2829,
      "header_lines": [
        2818
      ],
      "content_start": 2819,
      "content_end": 2828,
      "content": "2819: :label: thm-distance-operator-satisfies-bounded-variance-axiom\n2820: This theorem validates that {prf:ref}`def-distance-to-companion-measurement` satisfies {prf:ref}`axiom-bounded-measurement-variance`.\n2821: \n2822: The **Distance-to-Companion Measurement** operator ($V=d$) satisfies the **Axiom of Bounded Measurement Variance ([](#axiom-bounded-measurement-variance))**. Its maximum measurement variance is deterministically bounded by:\n2823: \n2824: $$\n2825: \n2826: \\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2\n2827: \n2828: $$",
      "metadata": {
        "label": "thm-distance-operator-satisfies-bounded-variance-axiom"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-distance-to-companion-measurement",
        "axiom-bounded-measurement-variance",
        "def-walker",
        "axiom-bounded-algorithmic-diameter",
        "def-algorithmic-space-generic"
      ],
      "raw_directive": "2817: First, we must prove that our specific stochastic measurement process\u2014the distance-to-companion operator\u2014is compliant with the foundational axiom for bounded variance.\n2818: :::{prf:theorem} The Distance Operator Satisfies the Bounded Variance Axiom\n2819: :label: thm-distance-operator-satisfies-bounded-variance-axiom\n2820: This theorem validates that {prf:ref}`def-distance-to-companion-measurement` satisfies {prf:ref}`axiom-bounded-measurement-variance`.\n2821: \n2822: The **Distance-to-Companion Measurement** operator ($V=d$) satisfies the **Axiom of Bounded Measurement Variance ([](#axiom-bounded-measurement-variance))**. Its maximum measurement variance is deterministically bounded by:\n2823: \n2824: $$\n2825: \n2826: \\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2\n2827: \n2828: $$\n2829: where $N$ is the total number of walker ({prf:ref}`def-walker`)s and $D_{\\mathcal{Y}}$ ({prf:ref}`axiom-bounded-algorithmic-diameter`) is the diameter of the algorithmic space ({prf:ref}`def-algorithmic-space-generic`)."
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-distance-operator-satisfies-bounded-variance-axiom",
      "title": null,
      "start_line": 2830,
      "end_line": 2856,
      "header_lines": [
        2831
      ],
      "content_start": 2832,
      "content_end": 2855,
      "content": "2832: :label: proof-thm-distance-operator-satisfies-bounded-variance-axiom\n2833: **Proof.**\n2834: The proof proceeds by bounding the variance of each component of the N-dimensional raw distance vector.\n2835: 1.  **Decomposition of Total Variance:**\n2836:     The axiom requires a bound on $\\mathbb{E}[\\|\\mathbf{d} - \\mathbb{E}[\\mathbf{d}]\\|_2^2]$. By linearity of expectation, this is:\n2837: \n2838: $$\n2839: \n2840:     \\mathbb{E}\\left[\\sum_{i=1}^N (d_i - \\mathbb{E}[d_i])^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(d_i - \\mathbb{E}[d_i])^2] = \\sum_{i=1}^N \\operatorname{Var}(d_i)\n2841: \n2842: $$\n2843: 2.  **Bound the Variance of a Single Component:**\n2844:     We must bound the variance, $\\operatorname{Var}(d_i)$, for each walker ({prf:ref}`def-walker`) $i$.\n2845:     *   **Case 1: Dead Walker ({prf:ref}`def-walker`).** If walker $i$ is dead, its raw distance is deterministically zero ($d_i=0$). Therefore, its variance is $\\operatorname{Var}(d_i) = 0$.\n2846:     *   **Case 2: Alive Walker ({prf:ref}`def-walker`).** If walker $i$ is alive, its raw distance $d_i$ is a random variable. By definition, any distance measurement in the algorithmic space is bounded on the interval $[0, D_{\\mathcal{Y}}]$. For any random variable $X$ bounded on an interval, its variance is bounded by $\\operatorname{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$. Since $d_i \\in [0, D_{\\mathcal{Y}}]$, we have $d_i^2 \\in [0, D_{\\mathcal{Y}}^2]$. The expectation is therefore bounded by $\\mathbb{E}[d_i^2] \\le D_{\\mathcal{Y}}^2$. Thus, for any alive walker, $\\operatorname{Var}(d_i) \\le D_{\\mathcal{Y}}^2$.\n2847: 3.  **Sum Over All Walker ({prf:ref}`def-walker`)s:**\n2848:     The total variance is the sum of the individual variances. Since each of the $N$ terms is bounded above by $D_{\\mathcal{Y}}^2$, the sum is bounded by:\n2849: \n2850: $$\n2851: \n2852:     \\sum_{i=1}^N \\operatorname{Var}(d_i) \\le N \\cdot D_{\\mathcal{Y}}^2\n2853: \n2854: $$\n2855: This provides a uniform bound that holds for any swarm ({prf:ref}`def-swarm-and-state-space`) state $\\mathcal{S}$. The axiom is therefore satisfied with $\\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2$.",
      "metadata": {
        "label": "proof-thm-distance-operator-satisfies-bounded-variance-axiom"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-walker",
        "def-swarm-and-state-space"
      ],
      "raw_directive": "2830: :::\n2831: :::{prf:proof}\n2832: :label: proof-thm-distance-operator-satisfies-bounded-variance-axiom\n2833: **Proof.**\n2834: The proof proceeds by bounding the variance of each component of the N-dimensional raw distance vector.\n2835: 1.  **Decomposition of Total Variance:**\n2836:     The axiom requires a bound on $\\mathbb{E}[\\|\\mathbf{d} - \\mathbb{E}[\\mathbf{d}]\\|_2^2]$. By linearity of expectation, this is:\n2837: \n2838: $$\n2839: \n2840:     \\mathbb{E}\\left[\\sum_{i=1}^N (d_i - \\mathbb{E}[d_i])^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(d_i - \\mathbb{E}[d_i])^2] = \\sum_{i=1}^N \\operatorname{Var}(d_i)\n2841: \n2842: $$\n2843: 2.  **Bound the Variance of a Single Component:**\n2844:     We must bound the variance, $\\operatorname{Var}(d_i)$, for each walker ({prf:ref}`def-walker`) $i$.\n2845:     *   **Case 1: Dead Walker ({prf:ref}`def-walker`).** If walker $i$ is dead, its raw distance is deterministically zero ($d_i=0$). Therefore, its variance is $\\operatorname{Var}(d_i) = 0$.\n2846:     *   **Case 2: Alive Walker ({prf:ref}`def-walker`).** If walker $i$ is alive, its raw distance $d_i$ is a random variable. By definition, any distance measurement in the algorithmic space is bounded on the interval $[0, D_{\\mathcal{Y}}]$. For any random variable $X$ bounded on an interval, its variance is bounded by $\\operatorname{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 \\le \\mathbb{E}[X^2]$. Since $d_i \\in [0, D_{\\mathcal{Y}}]$, we have $d_i^2 \\in [0, D_{\\mathcal{Y}}^2]$. The expectation is therefore bounded by $\\mathbb{E}[d_i^2] \\le D_{\\mathcal{Y}}^2$. Thus, for any alive walker, $\\operatorname{Var}(d_i) \\le D_{\\mathcal{Y}}^2$.\n2847: 3.  **Sum Over All Walker ({prf:ref}`def-walker`)s:**\n2848:     The total variance is the sum of the individual variances. Since each of the $N$ terms is bounded above by $D_{\\mathcal{Y}}^2$, the sum is bounded by:\n2849: \n2850: $$\n2851: \n2852:     \\sum_{i=1}^N \\operatorname{Var}(d_i) \\le N \\cdot D_{\\mathcal{Y}}^2\n2853: \n2854: $$\n2855: This provides a uniform bound that holds for any swarm ({prf:ref}`def-swarm-and-state-space`) state $\\mathcal{S}$. The axiom is therefore satisfied with $\\kappa^2_{\\text{variance}} = N \\cdot D_{\\mathcal{Y}}^2$.\n2856: **Q.E.D.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-distance-operator-mean-square-continuity",
      "title": "Mean-Square Continuity of the Distance Operator",
      "start_line": 2859,
      "end_line": 2879,
      "header_lines": [
        2860
      ],
      "content_start": 2861,
      "content_end": 2878,
      "content": "2861: :label: thm-distance-operator-mean-square-continuity\n2862: The **Distance-to-Companion Measurement** operator ($V=d$) is mean-square continuous for transitions in the $k \\geq 2$ regime. For any two swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$, the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by the function $F_{d,ms}$:\n2863: \n2864: $$\n2865: \n2866: \\mathbb{E}[\\|\\mathbf{d}(\\mathcal{S}_1) - \\mathbf{d}(\\mathcal{S}_2)\\|_2^2] \\le F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n2867: \n2868: $$\n2869: where the **Expected Squared Distance Error Bound** is defined as:\n2870: \n2871: $$\n2872: \n2873: \\boxed{\n2874: F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2) := 6 N D_{\\mathcal{Y}}^2 + 3 \\left( C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2 \\right)\n2875: }\n2876: \n2877: $$\n2878: and the coefficients $C_{\\dots,d}$ are the deterministic **Expected Distance Error Coefficients** from [](#thm-distance-operator-mean-square-continuity).",
      "metadata": {
        "label": "thm-distance-operator-mean-square-continuity"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [
        "def-swarm-and-state-space",
        "def-raw-value-operator",
        "def-standardization-operator-n-dimensional"
      ],
      "raw_directive": "2859: With the variance of the distance operator now axiomatically bounded, we can establish its mean-square continuity. This theorem provides the deterministic function that bounds the expected squared error, which is the critical input for the rest of the stability analysis.\n2860: :::{prf:theorem} Mean-Square Continuity of the Distance Operator\n2861: :label: thm-distance-operator-mean-square-continuity\n2862: The **Distance-to-Companion Measurement** operator ($V=d$) is mean-square continuous for transitions in the $k \\geq 2$ regime. For any two swarm ({prf:ref}`def-swarm-and-state-space`) states $\\mathcal{S}_1$ and $\\mathcal{S}_2$ with $|\\mathcal{A}(\\mathcal{S}_1)|=k_1 \\ge 2$, the expected squared Euclidean distance between the sampled raw distance vectors is deterministically bounded by the function $F_{d,ms}$:\n2863: \n2864: $$\n2865: \n2866: \\mathbb{E}[\\|\\mathbf{d}(\\mathcal{S}_1) - \\mathbf{d}(\\mathcal{S}_2)\\|_2^2] \\le F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n2867: \n2868: $$\n2869: where the **Expected Squared Distance Error Bound** is defined as:\n2870: \n2871: $$\n2872: \n2873: \\boxed{\n2874: F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2) := 6 N D_{\\mathcal{Y}}^2 + 3 \\left( C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2 \\right)\n2875: }\n2876: \n2877: $$\n2878: and the coefficients $C_{\\dots,d}$ are the deterministic **Expected Distance Error Coefficients** from [](#thm-distance-operator-mean-square-continuity).\n2879: With the explicit derivation of this function, we have formally proven that the Distance-to-Companion operator is a valid raw value ({prf:ref}`def-raw-value-operator`) operator that satisfies the **Axiom of Mean-Square Continuity for Raw Values**. This function will now be used as a direct input to the continuity analysis of the standardization operator ({prf:ref}`def-standardization-operator-n-dimensional`)."
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-distance-operator-mean-square-continuity",
      "title": null,
      "start_line": 2880,
      "end_line": 2925,
      "header_lines": [
        2881
      ],
      "content_start": 2882,
      "content_end": 2924,
      "content": "2882: :label: proof-thm-distance-operator-mean-square-continuity\n2883: **Proof.**\n2884: The proof bounds the total expected squared error by decomposing it into a stochastic variance component and a deterministic mean component. Let $\\mathbf{d}_1 = \\mathbf{d}(\\mathcal{S}_1)$ and $\\mathbf{d}_2 = \\mathbf{d}(\\mathcal{S}_2)$.\n2885: 1.  **Decomposition of Total Error:**\n2886:     We introduce the expectation vectors $\\mathbb{E}[\\mathbf{d}_1]$ and $\\mathbb{E}[\\mathbf{d}_2]$ and use the inequality $\\|A+B+C\\|_2^2 \\le 3(\\|A\\|_2^2 + \\|B\\|_2^2 + \\|C\\|_2^2)$.\n2887: \n2888: $$\n2889: \n2890:     \\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2 = \\|(\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]) + (\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]) - (\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2])\\|_2^2\n2891: \n2892: $$\n2893: $$\n2894:     \\le 3\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2 + 3\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 + 3\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2\n2895: \n2896:     $$\n2897: 2.  **Take the Expectation:**\n2898:     We take the expectation of both sides. By linearity of expectation, this gives:\n2899: \n2900: $$\n2901: \n2902:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2]\n2903: \n2904: $$\n2905: 3.  **Bound the Components:**\n2906:     *   **Stochastic Variance Terms:** The first and third terms are bounded by the **Axiom of Bounded Measurement Variance**, which we have shown is satisfied by the distance operator in [](#thm-distance-operator-satisfies-bounded-variance-axiom) with $\\kappa^2_{\\text{variance}} = N D_{\\mathcal{Y}}^2$. Therefore:\n2907:         *   $\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2908:         *   $\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2909:     *   **Deterministic Mean Term:** The middle term involves the squared norm of a deterministic vector difference, so the expectation has no effect. This term is bounded by the analysis in Section 10.3. From [](#thm-distance-operator-mean-square-continuity), we have:\n2910: \n2911: $$\n2912: \n2913:         \\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2\n2914: \n2915: $$\n2916: 4.  **Combine the Bounds:**\n2917:     Substituting the bounds from Step 3 into the inequality from Step 2 yields the final result:\n2918: \n2919: $$\n2920: \n2921:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3(N D_{\\mathcal{Y}}^2) + 3(\\text{Bound from Thm 10.3.2}) + 3(N D_{\\mathcal{Y}}^2)\n2922: \n2923: $$\n2924: This simplifies to the expression for $F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ as stated in the theorem.",
      "metadata": {
        "label": "proof-thm-distance-operator-mean-square-continuity"
      },
      "section": "## 11. Distance-to-Companion Measurement",
      "references": [],
      "raw_directive": "2880: :::\n2881: :::{prf:proof}\n2882: :label: proof-thm-distance-operator-mean-square-continuity\n2883: **Proof.**\n2884: The proof bounds the total expected squared error by decomposing it into a stochastic variance component and a deterministic mean component. Let $\\mathbf{d}_1 = \\mathbf{d}(\\mathcal{S}_1)$ and $\\mathbf{d}_2 = \\mathbf{d}(\\mathcal{S}_2)$.\n2885: 1.  **Decomposition of Total Error:**\n2886:     We introduce the expectation vectors $\\mathbb{E}[\\mathbf{d}_1]$ and $\\mathbb{E}[\\mathbf{d}_2]$ and use the inequality $\\|A+B+C\\|_2^2 \\le 3(\\|A\\|_2^2 + \\|B\\|_2^2 + \\|C\\|_2^2)$.\n2887: \n2888: $$\n2889: \n2890:     \\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2 = \\|(\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]) + (\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]) - (\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2])\\|_2^2\n2891: \n2892: $$\n2893: $$\n2894:     \\le 3\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2 + 3\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 + 3\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2\n2895: \n2896:     $$\n2897: 2.  **Take the Expectation:**\n2898:     We take the expectation of both sides. By linearity of expectation, this gives:\n2899: \n2900: $$\n2901: \n2902:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] + 3\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2]\n2903: \n2904: $$\n2905: 3.  **Bound the Components:**\n2906:     *   **Stochastic Variance Terms:** The first and third terms are bounded by the **Axiom of Bounded Measurement Variance**, which we have shown is satisfied by the distance operator in [](#thm-distance-operator-satisfies-bounded-variance-axiom) with $\\kappa^2_{\\text{variance}} = N D_{\\mathcal{Y}}^2$. Therefore:\n2907:         *   $\\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbb{E}[\\mathbf{d}_1]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2908:         *   $\\mathbb{E}[\\|\\mathbf{d}_2 - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2] \\le N D_{\\mathcal{Y}}^2$\n2909:     *   **Deterministic Mean Term:** The middle term involves the squared norm of a deterministic vector difference, so the expectation has no effect. This term is bounded by the analysis in Section 10.3. From [](#thm-distance-operator-mean-square-continuity), we have:\n2910: \n2911: $$\n2912: \n2913:         \\|\\mathbb{E}[\\mathbf{d}_1] - \\mathbb{E}[\\mathbf{d}_2]\\|_2^2 \\le C_{\\text{pos},d} \\cdot \\Delta_{\\text{pos}}^2 + C_{\\text{status},d}^{(1)} \\cdot n_c + C_{\\text{status},d}^{(2)}(k_1) \\cdot n_c^2\n2914: \n2915: $$\n2916: 4.  **Combine the Bounds:**\n2917:     Substituting the bounds from Step 3 into the inequality from Step 2 yields the final result:\n2918: \n2919: $$\n2920: \n2921:     \\mathbb{E}[\\|\\mathbf{d}_1 - \\mathbf{d}_2\\|_2^2] \\le 3(N D_{\\mathcal{Y}}^2) + 3(\\text{Bound from Thm 10.3.2}) + 3(N D_{\\mathcal{Y}}^2)\n2922: \n2923: $$\n2924: This simplifies to the expression for $F_{d,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ as stated in the theorem.\n2925: **Q.E.D.**"
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}