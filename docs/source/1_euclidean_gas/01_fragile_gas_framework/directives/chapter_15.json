{
  "chapter_index": 15,
  "section_id": "## 15. The Status Update Operator",
  "directive_count": 3,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-status-update-operator",
      "title": "Status Update Operator",
      "start_line": 4193,
      "end_line": 4206,
      "header_lines": [
        4194
      ],
      "content_start": 4195,
      "content_end": 4205,
      "content": "4195: **Q.E.D.**\n4196: :::\n4197: :::{admonition} Scope and assumptions\n4198: :class: note\n4199: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmid.\n4200: :::\n4201: ## 15. The Status Update Operator\n4202: After any change in position (either from cloning or perturbation), a walker's status must be re-evaluated. This operator performs that check deterministically.\n4203: ### 14.1 Definition: Status Update Operator\n4204: :::{prf:definition} Status Update Operator\n4205: :label: def-status-update-operator",
      "metadata": {
        "label": "def-status-update-operator"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4193: 4.  **Combine All Bounds.**\n4194:     Substituting the deterministic bound for the status component and the high-probability bound for the positional component back into the metric definition gives the final result as stated in the theorem.\n4195: **Q.E.D.**\n4196: :::\n4197: :::{admonition} Scope and assumptions\n4198: :class: note\n4199: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmid.\n4200: :::\n4201: ## 15. The Status Update Operator\n4202: After any change in position (either from cloning or perturbation), a walker's status must be re-evaluated. This operator performs that check deterministically.\n4203: ### 14.1 Definition: Status Update Operator\n4204: :::{prf:definition} Status Update Operator\n4205: :label: def-status-update-operator\n4206: The **Status Update Operator**, denoted $\\Psi_{\\text{status}}: \\Sigma_N \\to \\Sigma_N$, is a deterministic function that maps an input swarm to an output swarm where only the aliveness statuses have been updated to reflect their current positions."
    },
    {
      "directive_type": "theorem",
      "label": "thm-post-perturbation-status-update-continuity",
      "title": "Probabilistic Continuity of the Post-Perturbation Status Update",
      "start_line": 4216,
      "end_line": 4227,
      "header_lines": [
        4217
      ],
      "content_start": 4218,
      "content_end": 4226,
      "content": "4218: :::{admonition} Independence in probabilistic status variants\n4219: :class: note\n4220: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walkers, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4221: :::\n4222: ### 14.2 Continuity of the Composed Post-Perturbation Status Update\n4223: The **Status Update Operator ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity.\n4224: :::{note}\n4225: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4226: :::",
      "metadata": {
        "label": "thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4216: This operator is applied element-wise to all N walkers.\n4217: :::\n4218: :::{admonition} Independence in probabilistic status variants\n4219: :class: note\n4220: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walkers, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4221: :::\n4222: ### 14.2 Continuity of the Composed Post-Perturbation Status Update\n4223: The **Status Update Operator ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity.\n4224: :::{note}\n4225: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4226: :::\n4227: :::{prf:theorem} Probabilistic Continuity of the Post-Perturbation Status Update"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-post-perturbation-status-update-continuity",
      "title": null,
      "start_line": 4228,
      "end_line": 4285,
      "header_lines": [
        4229
      ],
      "content_start": 4230,
      "content_end": 4284,
      "content": "4230: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4231: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4232: $$\n4233: \n4234: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4235: \n4236: $$\n4237: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4238: :::\n4239: :::{prf:proof}\n4240: :label: proof-thm-post-perturbation-status-update-continuity\n4241: **Proof.**\n4242: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4243: 1.  **Decomposition of Expected Status Change:**\n4244:     The expected total status change is the sum of the expected squared differences for each walker:\n4245: $$\n4246: \n4247:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4248: \n4249: \n4250: $$\n4251: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4252: $$\n4253: \n4254:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4255: \n4256: \n4257: $$\n4258: 2.  **Analyze the Difference of Means:**\n4259:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4260: $$\n4261: \n4262:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4263: \n4264: \n4265: $$\n4266: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4267: $$\n4268: \n4269:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4270: \n4271: \n4272: $$\n4273: Squaring this inequality gives a bound for the squared difference of the means:\n4274: $$\n4275: \n4276:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4277: \n4278: \n4279: $$\n4280: 3.  **Sum Over All Walkers:**\n4281:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4282: $$\n4283: \n4284:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2",
      "metadata": {
        "label": "proof-thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4228: :label: thm-post-perturbation-status-update-continuity\n4229: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two input swarms. Let the output swarms be generated by the independent application of the composed operator: $\\mathcal{S}'_1 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_1, \\cdot)$ and $\\mathcal{S}'_2 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_2, \\cdot)$.\n4230: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4231: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4232: $$\n4233: \n4234: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4235: \n4236: $$\n4237: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4238: :::\n4239: :::{prf:proof}\n4240: :label: proof-thm-post-perturbation-status-update-continuity\n4241: **Proof.**\n4242: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4243: 1.  **Decomposition of Expected Status Change:**\n4244:     The expected total status change is the sum of the expected squared differences for each walker:\n4245: $$\n4246: \n4247:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4248: \n4249: \n4250: $$\n4251: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4252: $$\n4253: \n4254:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4255: \n4256: \n4257: $$\n4258: 2.  **Analyze the Difference of Means:**\n4259:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4260: $$\n4261: \n4262:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4263: \n4264: \n4265: $$\n4266: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4267: $$\n4268: \n4269:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4270: \n4271: \n4272: $$\n4273: Squaring this inequality gives a bound for the squared difference of the means:\n4274: $$\n4275: \n4276:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4277: \n4278: \n4279: $$\n4280: 3.  **Sum Over All Walkers:**\n4281:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4282: $$\n4283: \n4284:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4285: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}