{
  "chapter_index": 15,
  "section_id": "## 15. The Status Update Operator",
  "directive_count": 3,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-status-update-operator",
      "title": "Status Update Operator",
      "start_line": 4221,
      "end_line": 4234,
      "header_lines": [
        4222
      ],
      "content_start": 4223,
      "content_end": 4233,
      "content": "4223: **Q.E.D.**\n4224: :::\n4225: :::{admonition} Scope and assumptions\n4226: :class: note\n4227: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmid.\n4228: :::\n4229: ## 15. The Status Update Operator\n4230: After any change in position (either from cloning or perturbation), a walker's status must be re-evaluated. This operator performs that check deterministically.\n4231: ### 14.1 Definition: Status Update Operator\n4232: :::{prf:definition} Status Update Operator\n4233: :label: def-status-update-operator",
      "metadata": {
        "label": "def-status-update-operator"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4221: 4.  **Combine All Bounds.**\n4222:     Substituting the deterministic bound for the status component and the high-probability bound for the positional component back into the metric definition gives the final result as stated in the theorem.\n4223: **Q.E.D.**\n4224: :::\n4225: :::{admonition} Scope and assumptions\n4226: :class: note\n4227: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmid.\n4228: :::\n4229: ## 15. The Status Update Operator\n4230: After any change in position (either from cloning or perturbation), a walker's status must be re-evaluated. This operator performs that check deterministically.\n4231: ### 14.1 Definition: Status Update Operator\n4232: :::{prf:definition} Status Update Operator\n4233: :label: def-status-update-operator\n4234: The **Status Update Operator**, denoted $\\Psi_{\\text{status}}: \\Sigma_N \\to \\Sigma_N$, is a deterministic function that maps an input swarm to an output swarm where only the aliveness statuses have been updated to reflect their current positions."
    },
    {
      "directive_type": "theorem",
      "label": "thm-post-perturbation-status-update-continuity",
      "title": "Probabilistic Continuity of the Post-Perturbation Status Update",
      "start_line": 4244,
      "end_line": 4255,
      "header_lines": [
        4245
      ],
      "content_start": 4246,
      "content_end": 4254,
      "content": "4246: :::{admonition} Independence in probabilistic status variants\n4247: :class: note\n4248: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walkers, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4249: :::\n4250: ### 14.2 Continuity of the Composed Post-Perturbation Status Update\n4251: The **Status Update Operator ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity.\n4252: :::{note}\n4253: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4254: :::",
      "metadata": {
        "label": "thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4244: This operator is applied element-wise to all N walkers.\n4245: :::\n4246: :::{admonition} Independence in probabilistic status variants\n4247: :class: note\n4248: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walkers, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4249: :::\n4250: ### 14.2 Continuity of the Composed Post-Perturbation Status Update\n4251: The **Status Update Operator ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity.\n4252: :::{note}\n4253: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4254: :::\n4255: :::{prf:theorem} Probabilistic Continuity of the Post-Perturbation Status Update"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-post-perturbation-status-update-continuity",
      "title": null,
      "start_line": 4256,
      "end_line": 4313,
      "header_lines": [
        4257
      ],
      "content_start": 4258,
      "content_end": 4312,
      "content": "4258: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4259: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4260: $$\n4261: \n4262: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4263: \n4264: $$\n4265: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4266: :::\n4267: :::{prf:proof}\n4268: :label: proof-thm-post-perturbation-status-update-continuity\n4269: **Proof.**\n4270: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4271: 1.  **Decomposition of Expected Status Change:**\n4272:     The expected total status change is the sum of the expected squared differences for each walker:\n4273: $$\n4274: \n4275:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4276: \n4277: \n4278: $$\n4279: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4280: $$\n4281: \n4282:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4283: \n4284: \n4285: $$\n4286: 2.  **Analyze the Difference of Means:**\n4287:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4288: $$\n4289: \n4290:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4291: \n4292: \n4293: $$\n4294: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4295: $$\n4296: \n4297:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4298: \n4299: \n4300: $$\n4301: Squaring this inequality gives a bound for the squared difference of the means:\n4302: $$\n4303: \n4304:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4305: \n4306: \n4307: $$\n4308: 3.  **Sum Over All Walkers:**\n4309:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4310: $$\n4311: \n4312:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2",
      "metadata": {
        "label": "proof-thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator",
      "references": [],
      "raw_directive": "4256: :label: thm-post-perturbation-status-update-continuity\n4257: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two input swarms. Let the output swarms be generated by the independent application of the composed operator: $\\mathcal{S}'_1 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_1, \\cdot)$ and $\\mathcal{S}'_2 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_2, \\cdot)$.\n4258: Assume the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** holds.\n4259: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement Metric between the input swarms:\n4260: $$\n4261: \n4262: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4263: \n4264: $$\n4265: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4266: :::\n4267: :::{prf:proof}\n4268: :label: proof-thm-post-perturbation-status-update-continuity\n4269: **Proof.**\n4270: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker and then summing the results.\n4271: 1.  **Decomposition of Expected Status Change:**\n4272:     The expected total status change is the sum of the expected squared differences for each walker:\n4273: $$\n4274: \n4275:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4276: \n4277: \n4278: $$\n4279: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker **i** gives:\n4280: $$\n4281: \n4282:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4283: \n4284: \n4285: $$\n4286: 2.  **Analyze the Difference of Means:**\n4287:     The expected final status of walker **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4288: $$\n4289: \n4290:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4291: \n4292: \n4293: $$\n4294: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ([](#axiom-boundary-regularity))** to this difference:\n4295: $$\n4296: \n4297:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4298: \n4299: \n4300: $$\n4301: Squaring this inequality gives a bound for the squared difference of the means:\n4302: $$\n4303: \n4304:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4305: \n4306: \n4307: $$\n4308: 3.  **Sum Over All Walkers:**\n4309:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4310: $$\n4311: \n4312:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4313: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}