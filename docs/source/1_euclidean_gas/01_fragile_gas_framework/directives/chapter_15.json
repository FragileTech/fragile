{
  "chapter_index": 15,
  "section_id": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)",
  "directive_count": 3,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-status-update-operator",
      "title": "Status Update Operator ({prf:ref}`def-status-update-operator`)",
      "start_line": 4511,
      "end_line": 4524,
      "header_lines": [
        4512
      ],
      "content_start": 4513,
      "content_end": 4523,
      "content": "4513: **Q.E.D.**\n4514: :::\n4515: :::{admonition} Scope and assumptions\n4516: :class: note\n4517: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmi ({prf:ref}`def-status-update-operator`)d.\n4518: :::\n4519: ## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)\n4520: After any change in position (either from cloning or perturbation), a walker ({prf:ref}`def-walker`)'s status must be re-evaluated. This operator pe ({prf:ref}`def-status-update-operator`)rforms that check deterministically.\n4521: ### 14.1 Definition: Status Update Operator ({prf:ref}`def-status-update-operator`)\n4522: :::{prf:definition} Status Update Operator ({prf:ref}`def-status-update-operator`)\n4523: :label: def-status-update-operator",
      "metadata": {
        "label": "def-status-update-operator"
      },
      "section": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)",
      "references": [
        "def-status-update-operator",
        "def-swarm-and-state-space",
        "def-walker"
      ],
      "raw_directive": "4511: 4.  **Combine All Bounds.**\n4512:     Substituting the deterministic bound for the status component and the high-probability bound for the positional component back into the metric definition gives the final result as stated in the theorem.\n4513: **Q.E.D.**\n4514: :::\n4515: :::{admonition} Scope and assumptions\n4516: :class: note\n4517: This concentration bound relies on Assumption A (in\u2011step independence) and on the with\u2011replacement sampling policy in \u00a77.1.1. Implementations that use within\u2011step dependence (e.g., systematic resampling with a shared uniform) violate these assumptions; in that case use a dependent bounded\u2011differences inequality (see Appendix) instead of McDiarmi ({prf:ref}`def-status-update-operator`)d.\n4518: :::\n4519: ## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)\n4520: After any change in position (either from cloning or perturbation), a walker ({prf:ref}`def-walker`)'s status must be re-evaluated. This operator pe ({prf:ref}`def-status-update-operator`)rforms that check deterministically.\n4521: ### 14.1 Definition: Status Update Operator ({prf:ref}`def-status-update-operator`)\n4522: :::{prf:definition} Status Update Operator ({prf:ref}`def-status-update-operator`)\n4523: :label: def-status-update-operator\n4524: The **Status Update Operator ({prf:ref}`def-status-update-operator`)**, denoted $\\Psi_{\\text{status}}: \\Sigma_N \\to \\Sigma_N$, is a deterministic function that maps an input swarm ({prf:ref}`def-swarm-and-state-space`) to an output swarm where only the aliveness statuses have been updated to reflect their current positions."
    },
    {
      "directive_type": "theorem",
      "label": "unlabeled-theorem-26",
      "title": "Probabilistic Continuity of the Post-Perturbation SBoundary ({prf:ref}`axiom-boundary-smoothness`)bel: thm-post-perturbation-status-update-continuity",
      "start_line": 4534,
      "end_line": 4545,
      "header_lines": [],
      "content_start": 4535,
      "content_end": 4544,
      "content": "4535: :::\n4536: :::{admonition} Independence in probabilistic status variants\n4537: :class: note\n4538: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walker ({prf:ref}`def-walker`)s, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4539: :::\n4540: ### 14.2 Continuity of the Composed Post-Perturbation St ({prf:ref}`def-status-update-operator`)atus Update\n4541: The **Status Update Operator ({prf:ref}`def-status-update-operator`) ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ({prf:ref}`def-perturbation-operator`) ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity ({prf:ref}`axiom-boundary-regularity`).\n4542: :::{note}\n4543: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4544: :::",
      "metadata": {},
      "section": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)",
      "references": [
        "axiom-boundary-smoothness",
        "axiom-boundary-regularity",
        "def-n-particle-displacement-metric"
      ],
      "raw_directive": "4534: This operator is applied element-wise to all N walker ({prf:ref}`def-walker`)s.\n4535: :::\n4536: :::{admonition} Independence in probabilistic status variants\n4537: :class: note\n4538: The definition above is deterministic. If an implementation uses a probabilistic status rule (e.g., $s_{\\text{out},i}\\sim\\mathrm{Bernoulli}(p_i)$ based on position\u2011dependent validity), then conditional on $\\mathcal S_t$ the draws are taken independently across walker ({prf:ref}`def-walker`)s, using per\u2011walker uniforms. This aligns the status stage with Assumption A.\n4539: :::\n4540: ### 14.2 Continuity of the Composed Post-Perturbation St ({prf:ref}`def-status-update-operator`)atus Update\n4541: The **Status Update Operator ({prf:ref}`def-status-update-operator`) ($\u03a8_status$)** is a deterministic and inherently discontinuous function. Its effect on the system's stability can only be analyzed probabilistically by considering its composition with a stochastic position-update operator, such as the **Perturbation Operator ({prf:ref}`def-perturbation-operator`) ($\u03a8_pert$)**. This section establishes the probabilistic continuity of this composed operator, $\u03a8_status \u2218 \u03a8_pert$. It proves that the expected number of status changes between two output swarms is a H\u00f6lder-continuous function of the displacement between the input swarms. This result is a cornerstone of the full system's continuity proof and relies on the generalized N-particle axiom for boundary regularity ({prf:ref}`axiom-boundary-regularity`).\n4542: :::{note}\n4543: Compactness convention: When restricting to compact position sets in $\\mathcal{X}$, their images under the continuous projection $\\varphi$ lie in compact subsets of $\\mathcal{Y}$. All continuity and H\u00f6lder estimates below are stated with respect to $d_{\\text{Disp},\\mathcal{Y}}$ on $\\Sigma_N$.\n4544: :::\n4545: :::{prf:theorem} Probabilistic Continuity of the Post-Perturbation SBoundary ({prf:ref}`axiom-boundary-smoothness`)bel: thm-post-perturbation-status-update-continuity"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-post-perturbation-status-update-continuity",
      "title": null,
      "start_line": 4546,
      "end_line": 4604,
      "header_lines": [
        4547
      ],
      "content_start": 4548,
      "content_end": 4603,
      "content": "4548: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement ({prf:ref}`def-n-particle-displacement-metric`) Metric between the input swarms:\n4549: \n4550: $$\n4551: \n4552: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4553: \n4554: $$\n4555: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4556: :::\n4557: :::{prf:proof}\n4558: :label: proof-thm-post-perturbation-status-update-continuity\n4559: **Proof.**\n4560: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker ({prf:ref}`def-walker`) and then summing the results.\n4561: 1.  **Decomposition of Expected Status Change:**\n4562:     The expected total status change is the sum of the expected squared differences for each walker ({prf:ref}`def-walker`):\n4563: \n4564: $$\n4565: \n4566:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4567: \n4568: $$\n4569: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker ({prf:ref}`def-walker`) **i** gives:\n4570: \n4571: $$\n4572: \n4573:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4574: \n4575: $$\n4576: 2.  **Analyze the Difference of Means:**\n4577:     The expected final status of walker ({prf:ref}`def-walker`) **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4578: \n4579: $$\n4580: \n4581:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4582: \n4583: $$\n4584: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ({prf:ref}`axiom-boundary-regularity`) ([](#axiom-boundary-regularity))** to this difference:\n4585: \n4586: $$\n4587: \n4588:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4589: \n4590: $$\n4591: Squaring this inequality gives a bound for the squared difference of the means:\n4592: \n4593: $$\n4594: \n4595:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4596: \n4597: $$\n4598: 3.  **Sum Over All Walkers:**\n4599:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4600: \n4601: $$\n4602: \n4603:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2",
      "metadata": {
        "label": "proof-thm-post-perturbation-status-update-continuity"
      },
      "section": "## 15. The Status Update Operator ({prf:ref}`def-status-update-operator`)",
      "references": [
        "def-walker",
        "axiom-boundary-regularity"
      ],
      "raw_directive": "4546: Let $\\mathcal{S}_1$smooth ({prf:ref}`axiom-boundary-smoothness`)al{S}_2$ be two input swarms. Let the output swarms be generated by the independent aBoundary ({prf:ref}`axiom-boundary-smoothness`)e composed operator: $\\mathcal{S}'_1 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_1, \\cdot)$ and $\\mathcal{S}'_2 \\sim (\\Psi_{\\text{status}} \\circ \\Psi_{\\text{pert}})(\\mathcal{S}_2, \\cdot)$.\n4547: Assume the **Axiom of Boundary Regularity ({prf:ref}`axiom-boundary-regularity`) ([](#axiom-boundary-regularity))** holds.\n4548: The expected total number of status changes between the two output swarms, $\\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)]$, is bounded by a function of the initial N-Particle Displacement ({prf:ref}`def-n-particle-displacement-metric`) Metric between the input swarms:\n4549: \n4550: $$\n4551: \n4552: \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le \\frac{N}{2} + N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4553: \n4554: $$\n4555: where the term involving the **Boundary Instability Factor ($L_{\\text{death}}$)** and **Boundary Smoothing Exponent ($\\alpha_B$)** is a direct consequence of the axiom.\n4556: :::\n4557: :::{prf:proof}\n4558: :label: proof-thm-post-perturbation-status-update-continuity\n4559: **Proof.**\n4560: The proof proceeds by analyzing the expected squared difference between the final status variables for each walker ({prf:ref}`def-walker`) and then summing the results.\n4561: 1.  **Decomposition of Expected Status Change:**\n4562:     The expected total status change is the sum of the expected squared differences for each walker ({prf:ref}`def-walker`):\n4563: \n4564: $$\n4565: \n4566:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\mathbb{E}\\left[\\sum_{i=1}^N (s'_{1,i} - s'_{2,i})^2\\right] = \\sum_{i=1}^N \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2]\n4567: \n4568: $$\n4569: For any two random variables $X, Y$, the expected squared difference can be expressed in terms of their variances and expected values: $\\mathbb{E}[(X-Y)^2] = \\operatorname{Var}(X) + \\operatorname{Var}(Y) + (\\mathbb{E}[X] - \\mathbb{E}[Y])^2$. The final status variables $s'_{k,i}$ are Bernoulli random variables. Applying this identity for each walker ({prf:ref}`def-walker`) **i** gives:\n4570: \n4571: $$\n4572: \n4573:     \\mathbb{E}[(s'_{1,i} - s'_{2,i})^2] = \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] + (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4574: \n4575: $$\n4576: 2.  **Analyze the Difference of Means:**\n4577:     The expected final status of walker ({prf:ref}`def-walker`) **i** starting from state $\\mathcal{S}_k$ is its marginal probability of survival, $\\mathbb{E}[s'_{k,i}] = P(s_{\\text{out},i}=1 | \\mathcal{S}_k)$. The squared difference of the means is:\n4578: \n4579: $$\n4580: \n4581:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 = (P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2))^2\n4582: \n4583: $$\n4584: The probability of survival is one minus the probability of death, so $|P(s_{\\text{out},i}=1 | \\mathcal{S}_1) - P(s_{\\text{out},i}=1 | \\mathcal{S}_2)| = |(1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)) - (1 - P(s_{\\text{out},i}=0 | \\mathcal{S}_2))| = |P(s_{\\text{out},i}=0 | \\mathcal{S}_2) - P(s_{\\text{out},i}=0 | \\mathcal{S}_1)|$. We can now apply the **Axiom of Boundary Regularity ({prf:ref}`axiom-boundary-regularity`) ([](#axiom-boundary-regularity))** to this difference:\n4585: \n4586: $$\n4587: \n4588:     |P(s_{\\text{out},i}=0 | \\mathcal{S}_1) - P(s_{\\text{out},i}=0 | \\mathcal{S}_2)| \\le L_{\\text{death}} \\cdot d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^{\\alpha_B}\n4589: \n4590: $$\n4591: Squaring this inequality gives a bound for the squared difference of the means:\n4592: \n4593: $$\n4594: \n4595:     (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2 \\le L_{\\text{death}}^2 \\cdot \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}\n4596: \n4597: $$\n4598: 3.  **Sum Over All Walkers:**\n4599:     We sum the full expression from Step 1 over all walkers **i** and substitute the bound from Step 2:\n4600: \n4601: $$\n4602: \n4603:     \\mathbb{E}[n_c(\\mathcal{S}'_1, \\mathcal{S}'_2)] = \\sum_{i=1}^N \\left( \\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}] \\right) + \\sum_{i=1}^N (\\mathbb{E}[s'_{1,i}] - \\mathbb{E}[s'_{2,i}])^2\n4604: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}