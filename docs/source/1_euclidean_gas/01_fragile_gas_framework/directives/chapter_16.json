{
  "chapter_index": 16,
  "section_id": "## 16. The Cloning Transition Measure",
  "directive_count": 17,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-stochastic-threshold-cloning",
      "title": "Cloning Score Function",
      "start_line": 4319,
      "end_line": 4368,
      "header_lines": [
        4320,
        4332
      ],
      "content_start": 4321,
      "content_end": 4367,
      "content": "4321:     *   **H\u00f6lder Term:** The bound on the squared difference of means is identical for all $N$ walkers. Summing this bound $N$ times gives $N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}$.\n4322:     Combining these two bounds yields the final inequality as stated in the theorem.\n4323: **Q.E.D.**\n4324: :::\n4325: ## 16. The Cloning Transition Measure\n4326: The final step in the measurement pipeline is to convert the N-dimensional fitness potential vector into a probabilistic cloning decision for each walker. This process is governed by a score function and the resulting $Cloning Bernoulli Measure$.\n4327: ### 15.1 Definition: Cloning Transition Measure\n4328: #### 15.1.1 The Cloning Score Function\n4329: The core arithmetic of the cloning decision is encapsulated in a deterministic function that compares a walker's potential to that of its companion.\n4330: :::{prf:definition} Cloning Score Function\n4331: :label: def-cloning-score-function\n4332: The **Cloning Score Function**, $S: \\mathbb{R}_{\\ge 0} \\times \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}$, takes the fitness potential of a companion walker ($v_c$) and a primary walker ($v_i$) and computes a raw score.\n4333: $$\n4334: \n4335: S(v_c, v_i) := \\frac{v_c - v_i}{v_i + \\varepsilon}\n4336: \n4337: $$\n4338: where $\\varepsilon > 0$ is the cloning denominator regularizer.\n4339: ::::\n4340: #### 15.1.2 Stochastic Threshold Cloning\n4341: This procedure defines the cloning action for each walker. It replaces a probabilistic model with a deterministic comparison between the walker's score and a randomly sampled threshold.\n4342: :::{prf:definition} Stochastic Threshold Cloning\n4343: :label: def-stochastic-threshold-cloning\n4344: For each walker $i \\in \\{1, \\dots, N\\}$, the cloning action $a_i \\in \\{\\text{Clone}, \\text{Persist}\\}$ is determined by the following procedure, which depends on the full fitness potential vector of the swarm and an independent random choice of a companion.\n4345: **Inputs:**\n4346: *   The full N-dimensional fitness potential vector, $\\mathbf{V}_{\\text{fit}}$.\n4347: *   The walker's index, $i$.\n4348: *   The **Companion Selection Measure** for that walker, $\\mathbb{C}_i$.\n4349: *   The **Clone Threshold Scale** parameter, $p_{\\max}$.\n4350: **Operation:**\n4351: The action is determined as follows:\n4352: 1.  **Sample Cloning Companion:** An independent cloning companion index, $c_{\\text{clone}}(i)$, is sampled from the companion measure: $c_{\\text{clone}}(i) \\sim \\mathbb{C}_i(\\cdot)$.\n4353: 2.  **Compute Score:** The walker's potential, $v_i = V_{\\text{fit},i}$, and its companion's potential, $v_c = V_{\\text{fit},c_{\\text{clone}}(i)}$, are used to compute the cloning score using the [](#def-cloning-score-function):\n4354: $$\n4355: \n4356:     S_i := S(v_c, v_i)\n4357: \n4358: \n4359: $$\n4360: 3.  **Sample Cloning Threshold:** A random threshold, $T_{\\text{clone}}$, is drawn from a uniform distribution over the interval defined by the Clone Threshold Scale:\n4361: $$\n4362: \n4363:     T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})\n4364: \n4365: \n4366: $$\n4367: 4.  **Determine Action:** The action is determined by comparing the score to the threshold. A walker is cloned only if its score exceeds the randomly drawn threshold.",
      "metadata": {
        "label": "def-stochastic-threshold-cloning"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4319: 4.  **Finalize the Bound:**\n4320:     *   **Variance Term:** The variance of a Bernoulli random variable is $\\operatorname{Var}(X) = p(1-p)$, which is always bounded above by $1/4$. Therefore, the sum of all variance terms is bounded by a constant: $\\sum_{i=1}^N (\\operatorname{Var}[s'_{1,i}] + \\operatorname{Var}[s'_{2,i}]) \\le \\sum_{i=1}^N (\\frac{1}{4} + \\frac{1}{4}) = \\frac{N}{2}$.\n4321:     *   **H\u00f6lder Term:** The bound on the squared difference of means is identical for all $N$ walkers. Summing this bound $N$ times gives $N L_{\\text{death}}^2 \\left( d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)^{2\\alpha_B}$.\n4322:     Combining these two bounds yields the final inequality as stated in the theorem.\n4323: **Q.E.D.**\n4324: :::\n4325: ## 16. The Cloning Transition Measure\n4326: The final step in the measurement pipeline is to convert the N-dimensional fitness potential vector into a probabilistic cloning decision for each walker. This process is governed by a score function and the resulting $Cloning Bernoulli Measure$.\n4327: ### 15.1 Definition: Cloning Transition Measure\n4328: #### 15.1.1 The Cloning Score Function\n4329: The core arithmetic of the cloning decision is encapsulated in a deterministic function that compares a walker's potential to that of its companion.\n4330: :::{prf:definition} Cloning Score Function\n4331: :label: def-cloning-score-function\n4332: The **Cloning Score Function**, $S: \\mathbb{R}_{\\ge 0} \\times \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}$, takes the fitness potential of a companion walker ($v_c$) and a primary walker ($v_i$) and computes a raw score.\n4333: $$\n4334: \n4335: S(v_c, v_i) := \\frac{v_c - v_i}{v_i + \\varepsilon}\n4336: \n4337: $$\n4338: where $\\varepsilon > 0$ is the cloning denominator regularizer.\n4339: ::::\n4340: #### 15.1.2 Stochastic Threshold Cloning\n4341: This procedure defines the cloning action for each walker. It replaces a probabilistic model with a deterministic comparison between the walker's score and a randomly sampled threshold.\n4342: :::{prf:definition} Stochastic Threshold Cloning\n4343: :label: def-stochastic-threshold-cloning\n4344: For each walker $i \\in \\{1, \\dots, N\\}$, the cloning action $a_i \\in \\{\\text{Clone}, \\text{Persist}\\}$ is determined by the following procedure, which depends on the full fitness potential vector of the swarm and an independent random choice of a companion.\n4345: **Inputs:**\n4346: *   The full N-dimensional fitness potential vector, $\\mathbf{V}_{\\text{fit}}$.\n4347: *   The walker's index, $i$.\n4348: *   The **Companion Selection Measure** for that walker, $\\mathbb{C}_i$.\n4349: *   The **Clone Threshold Scale** parameter, $p_{\\max}$.\n4350: **Operation:**\n4351: The action is determined as follows:\n4352: 1.  **Sample Cloning Companion:** An independent cloning companion index, $c_{\\text{clone}}(i)$, is sampled from the companion measure: $c_{\\text{clone}}(i) \\sim \\mathbb{C}_i(\\cdot)$.\n4353: 2.  **Compute Score:** The walker's potential, $v_i = V_{\\text{fit},i}$, and its companion's potential, $v_c = V_{\\text{fit},c_{\\text{clone}}(i)}$, are used to compute the cloning score using the [](#def-cloning-score-function):\n4354: $$\n4355: \n4356:     S_i := S(v_c, v_i)\n4357: \n4358: \n4359: $$\n4360: 3.  **Sample Cloning Threshold:** A random threshold, $T_{\\text{clone}}$, is drawn from a uniform distribution over the interval defined by the Clone Threshold Scale:\n4361: $$\n4362: \n4363:     T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})\n4364: \n4365: \n4366: $$\n4367: 4.  **Determine Action:** The action is determined by comparing the score to the threshold. A walker is cloned only if its score exceeds the randomly drawn threshold.\n4368: $$"
    },
    {
      "directive_type": "remark",
      "label": "rem-cloning-scope-companion-convention",
      "title": "Cloning Scope and Companion Convention",
      "start_line": 4378,
      "end_line": 4382,
      "header_lines": [
        4379
      ],
      "content_start": 4381,
      "content_end": 4381,
      "content": "4381: :class: note",
      "metadata": {
        "label": "rem-cloning-scope-companion-convention"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4378: This unified definition handles both alive and dead walkers. For a **dead walker** $i \\in \\mathcal{D}_t$, its potential $V_{\\text{fit},i} = 0$. Its cloning companion $c_{\\text{clone}}(i)$ is drawn from the alive set $\\mathcal{A}_t$, making its potential $V_{\\text{fit},c_{\\text{clone}}(i)} > 0$. The score simplifies to $S_i = V_{\\text{fit},c_{\\text{clone}}(i)} / \\varepsilon$. Since the **Global Constraint** $\\varepsilon \\cdot p_{\\max} < \\eta^{(\\alpha+\\beta)}$ is satisfied, the minimum possible score for a dead walker is guaranteed to be greater than the maximum possible threshold: $S_{i, \\min} > (\\eta^{\\alpha+\\beta})/\\varepsilon > p_{\\max}$. Because $T_{\\text{clone}}$ is always sampled from $[0, p_{\\max}]$, the condition $S_i > T_{\\text{clone}}$ is always met. This results in a \"Clone\" action with probability 1, ensuring the revival mechanism remains an emergent and guaranteed property of the framework.\n4379: :::\n4380: :::{admonition} Randomness discipline for cloning\n4381: :class: note\n4382: - For each walker $i$, independently sample the cloning companion index $c_{\\text{clone}}(i)\\sim \\mathbb C_i(\\mathcal S)$ (with replacement) using an independent uniform $U_i^{\\mathrm{comp}}$."
    },
    {
      "directive_type": "definition",
      "label": "def-total-expected-cloning-action",
      "title": "Total Expected Cloning Action",
      "start_line": 4385,
      "end_line": 4395,
      "header_lines": [
        4386
      ],
      "content_start": 4387,
      "content_end": 4394,
      "content": "4387: The Cloning Transition is a composite stochastic operator that determines the intermediate swarm state based on the calculated fitness potentials. Its continuity analysis is critical, as it governs how sensitively the cloning and revival mechanisms react to small changes in the swarm state. A discontinuous transition would imply chaotic behavior where small measurement fluctuations could lead to drastically different swarm configurations.\n4388: This section proves that the operator is probabilistically continuous. The analysis is centered on the key insight that the continuity of the overall transition depends on the continuity of the **total probability** of cloning. We first define this total probability, which averages over all stochasticity in the measurement pipeline, and then prove that it is a continuous function of the input swarm state. This result is the foundation for proving the continuity of the full operator.\n4389: :::{prf:remark} Cloning Scope and Companion Convention\n4390: :label: rem-cloning-scope-companion-convention\n4391: \n4392: All bounds in \u00a715.2.4\u2013\u00a715.2.8 are stated for the regime $k_1=|\\mathcal A(\\mathcal S_1)|\\ge 2$ (at least two alive walkers), with the \"no self\u2011companion\" convention (an alive walker samples companions from $\\mathcal A\\setminus\\{i\\}$). The edge case $k=1$ is handled separately in \u00a715 (single\u2011survivor revival), after which analysis resumes with $k\\ge 2$. Where intermediate formulas feature denominators $k_1-1$, they are interpreted under this precondition; if a generic statement is needed, replace $k_1-1$ by $\\max(1, k_1-1)$ and invoke the $k=1$ section.\n4393: :::\n4394: #### 15.2.1. The Total Expected Cloning Action",
      "metadata": {
        "label": "def-total-expected-cloning-action"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4385: :::\n4386: ### 15.2. Continuity of the Cloning Transition Measure\n4387: The Cloning Transition is a composite stochastic operator that determines the intermediate swarm state based on the calculated fitness potentials. Its continuity analysis is critical, as it governs how sensitively the cloning and revival mechanisms react to small changes in the swarm state. A discontinuous transition would imply chaotic behavior where small measurement fluctuations could lead to drastically different swarm configurations.\n4388: This section proves that the operator is probabilistically continuous. The analysis is centered on the key insight that the continuity of the overall transition depends on the continuity of the **total probability** of cloning. We first define this total probability, which averages over all stochasticity in the measurement pipeline, and then prove that it is a continuous function of the input swarm state. This result is the foundation for proving the continuity of the full operator.\n4389: :::{prf:remark} Cloning Scope and Companion Convention\n4390: :label: rem-cloning-scope-companion-convention\n4391: \n4392: All bounds in \u00a715.2.4\u2013\u00a715.2.8 are stated for the regime $k_1=|\\mathcal A(\\mathcal S_1)|\\ge 2$ (at least two alive walkers), with the \"no self\u2011companion\" convention (an alive walker samples companions from $\\mathcal A\\setminus\\{i\\}$). The edge case $k=1$ is handled separately in \u00a715 (single\u2011survivor revival), after which analysis resumes with $k\\ge 2$. Where intermediate formulas feature denominators $k_1-1$, they are interpreted under this precondition; if a generic statement is needed, replace $k_1-1$ by $\\max(1, k_1-1)$ and invoke the $k=1$ section.\n4393: :::\n4394: #### 15.2.1. The Total Expected Cloning Action\n4395: The ultimate probability of a \"Clone\" action for a walker depends on the outcome of the stochastic distance measurement and the random companion choice. To analyze the operator's continuity as a function of the input swarm state, we must average over all sources of randomness."
    },
    {
      "directive_type": "definition",
      "label": "def-cloning-probability-function",
      "title": "The Conditional Cloning Probability Function",
      "start_line": 4398,
      "end_line": 4408,
      "header_lines": [
        4399
      ],
      "content_start": 4400,
      "content_end": 4407,
      "content": "4400: $$\n4401: \n4402: \\overline{P}_{\\text{clone}}(\\mathcal{S})_i := \\mathbb{E}_{\\mathbf{d} \\sim \\mathbf{d}(\\mathcal{S})} \\left[ P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V}(\\mathbf{r}(\\mathcal{S}), \\mathbf{d}))_i \\right]\n4403: \n4404: $$\n4405: This quantity is a deterministic function of the input swarm state $\\mathcal{S}$ and is the central object for the continuity analysis of the cloning stage.\n4406: :::\n4407: #### 15.2.2. The Conditional Cloning Probability Function and its Continuity",
      "metadata": {
        "label": "def-cloning-probability-function"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4398: The **Total Expected Cloning Action** for a walker $i$, denoted $\\overline{P}_{\\text{clone}}(\\mathcal{S})_i$, is the probability that walker $i$ will be assigned the \"Clone\" action, given the swarm state $\\mathcal{S}$. It is the expectation of the **Conditional Expected Cloning Action** (Def. 15.2.3) taken over the probability distribution of the raw distance vector $\\mathbf{d} \\sim \\mathbf{d}(\\mathcal{S})$.\n4399: Let $\\mathbf{r}(\\mathcal{S})$ be the deterministic raw reward vector for state $\\mathcal{S}$, and let $\\mathbf{V}(\\mathbf{r}, \\mathbf{d})$ be the fitness potential vector generated from a specific realization of the raw measurement vectors. The total expected action is:\n4400: $$\n4401: \n4402: \\overline{P}_{\\text{clone}}(\\mathcal{S})_i := \\mathbb{E}_{\\mathbf{d} \\sim \\mathbf{d}(\\mathcal{S})} \\left[ P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V}(\\mathbf{r}(\\mathcal{S}), \\mathbf{d}))_i \\right]\n4403: \n4404: $$\n4405: This quantity is a deterministic function of the input swarm state $\\mathcal{S}$ and is the central object for the continuity analysis of the cloning stage.\n4406: :::\n4407: #### 15.2.2. The Conditional Cloning Probability Function and its Continuity\n4408: The probability of a \"Clone\" action for a walker **i** with a specific companion **c** can be expressed as a deterministic function of their respective fitness potentials. This represents the probability *conditional* on a specific realization of the potential vector."
    },
    {
      "directive_type": "lemma",
      "label": "lem-cloning-probability-lipschitz",
      "title": "Lipschitz Continuity of the Conditional Cloning Probability Function (case split)",
      "start_line": 4409,
      "end_line": 4430,
      "header_lines": [
        4410
      ],
      "content_start": 4411,
      "content_end": 4429,
      "content": "4411: The **Conditional Cloning Probability Function**, denoted $\\pi: \\mathbb{R}_{\\ge 0} \\times \\mathbb{R}_{\\ge 0} \\to [0, 1]$, maps the fitness potential of a companion ($v_c$) and a primary walker ($v_i$) to the probability that the \"Clone\" action is selected.\n4412: Given that the score is $S(v_c, v_i)$ and the threshold is $T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})$, the probability is:\n4413: $$\n4414: \n4415: \\pi(v_c, v_i) := P(S(v_c, v_i) > T_{\\text{clone}}) = \\min\\left(1, \\max\\left(0, \\frac{S(v_c, v_i)}{p_{\\max}}\\right)\\right)\n4416: \n4417: $$\n4418: This function effectively clips the normalized score to the valid probability range $[0, 1]$.\n4419: :::\n4420: :::{prf:lemma} Lipschitz Continuity of the Conditional Cloning Probability Function (case split)\n4421: :label: lem-cloning-probability-lipschitz\n4422: The **Conditional Cloning Probability Function** $\\pi(v_c, v_i)$ is Lipschitz continuous with respect to its two inputs. For any two pairs of potentials $(v_{c1}, v_{i1})$ and $(v_{c2}, v_{i2})$:\n4423: $$\n4424: \n4425: |\\pi(v_{c1}, v_{i1}) - \\pi(v_{c2}, v_{i2})| \\le L_{\\pi,c}|v_{c1} - v_{c2}| + L_{\\pi,i}|v_{i1} - v_{i2}|\n4426: \n4427: $$\n4428: where the **Cloning Probability Lipschitz Constants** can be chosen uniformly over both alive and dead walkers by the worst\u2011case (dead\u2011walker) bounds:\n4429: *   **Companion Potential Lipschitz Constant ($L_{\\pi,c}$):**",
      "metadata": {
        "label": "lem-cloning-probability-lipschitz"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4409: :::{prf:definition} The Conditional Cloning Probability Function\n4410: :label: def-cloning-probability-function\n4411: The **Conditional Cloning Probability Function**, denoted $\\pi: \\mathbb{R}_{\\ge 0} \\times \\mathbb{R}_{\\ge 0} \\to [0, 1]$, maps the fitness potential of a companion ($v_c$) and a primary walker ($v_i$) to the probability that the \"Clone\" action is selected.\n4412: Given that the score is $S(v_c, v_i)$ and the threshold is $T_{\\text{clone}} \\sim \\text{Uniform}(0, p_{\\max})$, the probability is:\n4413: $$\n4414: \n4415: \\pi(v_c, v_i) := P(S(v_c, v_i) > T_{\\text{clone}}) = \\min\\left(1, \\max\\left(0, \\frac{S(v_c, v_i)}{p_{\\max}}\\right)\\right)\n4416: \n4417: $$\n4418: This function effectively clips the normalized score to the valid probability range $[0, 1]$.\n4419: :::\n4420: :::{prf:lemma} Lipschitz Continuity of the Conditional Cloning Probability Function (case split)\n4421: :label: lem-cloning-probability-lipschitz\n4422: The **Conditional Cloning Probability Function** $\\pi(v_c, v_i)$ is Lipschitz continuous with respect to its two inputs. For any two pairs of potentials $(v_{c1}, v_{i1})$ and $(v_{c2}, v_{i2})$:\n4423: $$\n4424: \n4425: |\\pi(v_{c1}, v_{i1}) - \\pi(v_{c2}, v_{i2})| \\le L_{\\pi,c}|v_{c1} - v_{c2}| + L_{\\pi,i}|v_{i1} - v_{i2}|\n4426: \n4427: $$\n4428: where the **Cloning Probability Lipschitz Constants** can be chosen uniformly over both alive and dead walkers by the worst\u2011case (dead\u2011walker) bounds:\n4429: *   **Companion Potential Lipschitz Constant ($L_{\\pi,c}$):**\n4430: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-cloning-probability-lipschitz",
      "title": null,
      "start_line": 4431,
      "end_line": 4440,
      "header_lines": [
        4432
      ],
      "content_start": 4434,
      "content_end": 4439,
      "content": "4434: $$\n4435: *   **Walker Potential Lipschitz Constant ($L_{\\pi,i}$):**\n4436: $$\n4437: \n4438: L_{\\pi,i} := \\frac{V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}}}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}^{\\,2}}\n4439: ",
      "metadata": {
        "label": "proof-lem-cloning-probability-lipschitz"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4431: \n4432: L_{\\pi,c} := \\frac{1}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}}\n4433: \n4434: $$\n4435: *   **Walker Potential Lipschitz Constant ($L_{\\pi,i}$):**\n4436: $$\n4437: \n4438: L_{\\pi,i} := \\frac{V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}}}{p_{\\max} \\cdot \\varepsilon_{\\text{clone}}^{\\,2}}\n4439: \n4440: $$"
    },
    {
      "directive_type": "definition",
      "label": "def-expected-cloning-action",
      "title": "Conditional Expected Cloning Action",
      "start_line": 4443,
      "end_line": 4451,
      "header_lines": [
        4444
      ],
      "content_start": 4445,
      "content_end": 4450,
      "content": "4445: **Proof.**\n4446: The proof proceeds by finding the Lipschitz constant of the composition of the **clip** function and the normalized score function, $S(v_c, v_i)/p_{\\max}$. The **clip** function (min(1, max(0, x))) has a Lipschitz constant of 1. Therefore, the Lipschitz constant of $\\pi$ is bounded by the Lipschitz constant of the normalized score. We find this by bounding the partial derivatives of the score function $S(v_c, v_i)$.\n4447: 1.  **Partial Derivative with respect to $v_c$:** $\\partial S/\\partial v_c = 1/(v_i + \\varepsilon_{\\text{clone}})$. For alive walkers, [](#lem-potential-boundedness) gives $v_i\\ge V_{\\text{pot,min}}$, hence the bound $1/(V_{\\text{pot,min}} + \\varepsilon_{\\text{clone}})$. For a dead walker ($v_i=0$), the bound is $1/\\varepsilon_{\\text{clone}}$. The worst case is the dead\u2011walker value $1/\\varepsilon_{\\text{clone}}$.\n4448: 2.  **Partial Derivative with respect to $v_i$:** $\\partial S/\\partial v_i = (-\\varepsilon_{\\text{clone}} - v_c)/(v_i + \\varepsilon_{\\text{clone}})^2$. In magnitude, this is $\\le (V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}})/(v_i + \\varepsilon_{\\text{clone}})^2$. For alive walkers, use $v_i\\ge V_{\\text{pot,min}}$; for a dead walker, $v_i=0$ yields the worst\u2011case bound $(V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}})/\\varepsilon_{\\text{clone}}^2$.\n4449: 3.  **Combine:** Divide the worst\u2011case partial\u2011derivative bounds by $p_{\\max}$ to obtain the stated uniform Lipschitz constants $L_{\\pi,c}$ and $L_{\\pi,i}$ that cover both alive and dead cases.\n4450: **Q.E.D.**",
      "metadata": {
        "label": "def-expected-cloning-action"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4443: :label: proof-lem-cloning-probability-lipschitz\n4444: \n4445: **Proof.**\n4446: The proof proceeds by finding the Lipschitz constant of the composition of the **clip** function and the normalized score function, $S(v_c, v_i)/p_{\\max}$. The **clip** function (min(1, max(0, x))) has a Lipschitz constant of 1. Therefore, the Lipschitz constant of $\\pi$ is bounded by the Lipschitz constant of the normalized score. We find this by bounding the partial derivatives of the score function $S(v_c, v_i)$.\n4447: 1.  **Partial Derivative with respect to $v_c$:** $\\partial S/\\partial v_c = 1/(v_i + \\varepsilon_{\\text{clone}})$. For alive walkers, [](#lem-potential-boundedness) gives $v_i\\ge V_{\\text{pot,min}}$, hence the bound $1/(V_{\\text{pot,min}} + \\varepsilon_{\\text{clone}})$. For a dead walker ($v_i=0$), the bound is $1/\\varepsilon_{\\text{clone}}$. The worst case is the dead\u2011walker value $1/\\varepsilon_{\\text{clone}}$.\n4448: 2.  **Partial Derivative with respect to $v_i$:** $\\partial S/\\partial v_i = (-\\varepsilon_{\\text{clone}} - v_c)/(v_i + \\varepsilon_{\\text{clone}})^2$. In magnitude, this is $\\le (V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}})/(v_i + \\varepsilon_{\\text{clone}})^2$. For alive walkers, use $v_i\\ge V_{\\text{pot,min}}$; for a dead walker, $v_i=0$ yields the worst\u2011case bound $(V_{\\text{pot,max}} + \\varepsilon_{\\text{clone}})/\\varepsilon_{\\text{clone}}^2$.\n4449: 3.  **Combine:** Divide the worst\u2011case partial\u2011derivative bounds by $p_{\\max}$ to obtain the stated uniform Lipschitz constants $L_{\\pi,c}$ and $L_{\\pi,i}$ that cover both alive and dead cases.\n4450: **Q.E.D.**\n4451: :::"
    },
    {
      "directive_type": "theorem",
      "label": "thm-expected-cloning-action-continuity",
      "title": "Continuity of the Conditional Expected Cloning Action",
      "start_line": 4452,
      "end_line": 4463,
      "header_lines": [
        4453
      ],
      "content_start": 4454,
      "content_end": 4462,
      "content": "4454: :::{prf:definition} Conditional Expected Cloning Action\n4455: :label: def-expected-cloning-action\n4456: The **Conditional Expected Cloning Action** for a walker $i$, denoted $P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i$, is the probability that walker $i$ will be assigned the \"Clone\" action, given the swarm state $\\mathcal{S}$ and a specific, fixed fitness potential vector $\\mathbf{V}$. It is the expectation of the **Conditional Cloning Probability Function** under the **Companion Selection Measure**:\n4457: $$\n4458: \n4459: P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i := \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S})} [\\pi(V_c, V_i)]\n4460: \n4461: $$\n4462: :::",
      "metadata": {
        "label": "thm-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4452: #### 15.2.3. Continuity of the Conditional Expected Cloning Action\n4453: The overall cloning decision for a walker is stochastic due to the random choice of a companion. We can analyze the continuity of this process *conditional on a fixed fitness potential vector* by examining its expectation over the companion selection measure.\n4454: :::{prf:definition} Conditional Expected Cloning Action\n4455: :label: def-expected-cloning-action\n4456: The **Conditional Expected Cloning Action** for a walker $i$, denoted $P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i$, is the probability that walker $i$ will be assigned the \"Clone\" action, given the swarm state $\\mathcal{S}$ and a specific, fixed fitness potential vector $\\mathbf{V}$. It is the expectation of the **Conditional Cloning Probability Function** under the **Companion Selection Measure**:\n4457: $$\n4458: \n4459: P_{\\text{clone}}(\\mathcal{S}, \\mathbf{V})_i := \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S})} [\\pi(V_c, V_i)]\n4460: \n4461: $$\n4462: :::\n4463: :::{prf:theorem} Continuity of the Conditional Expected Cloning Action"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-expected-cloning-action-continuity",
      "title": null,
      "start_line": 4464,
      "end_line": 4474,
      "header_lines": [
        4465
      ],
      "content_start": 4467,
      "content_end": 4473,
      "content": "4467: \n4468: |P_{\\text{clone}}(\\mathcal{S}_1, \\mathbf{V}_1)_i - P_{\\text{clone}}(\\mathcal{S}_2, \\mathbf{V}_2)_i| \\le C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{val}}^{(\\pi)} \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[|V_{1,c} - V_{2,c}|] + |V_{1,i} - V_{2,i}| \\right)\n4469: \n4470: $$\n4471: where the coefficients are:\n4472: *   $C_{\\text{struct}}^{(\\pi)}(k_1) := \\frac{2}{\\max(1, k_1-1)}$ (from structural change)\n4473: *   $C_{\\text{val}}^{(\\pi)} := \\max(L_{\\pi,c}, L_{\\pi,i})$ (from potential vector change)",
      "metadata": {
        "label": "proof-thm-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4464: :label: thm-expected-cloning-action-continuity\n4465: The **Conditional Expected Cloning Action** is continuous with respect to changes in both the swarm structure and the fitness potential vector. For any two states $(\\mathcal{S}_1, \\mathbf{V}_1)$ and $(\\mathcal{S}_2, \\mathbf{V}_2)$, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$, the change in the conditional expected action for any walker $i$ is bounded:\n4466: $$\n4467: \n4468: |P_{\\text{clone}}(\\mathcal{S}_1, \\mathbf{V}_1)_i - P_{\\text{clone}}(\\mathcal{S}_2, \\mathbf{V}_2)_i| \\le C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{\\text{val}}^{(\\pi)} \\cdot \\left( \\mathbb{E}_{c \\sim \\mathbb{C}_i(\\mathcal{S}_1)}[|V_{1,c} - V_{2,c}|] + |V_{1,i} - V_{2,i}| \\right)\n4469: \n4470: $$\n4471: where the coefficients are:\n4472: *   $C_{\\text{struct}}^{(\\pi)}(k_1) := \\frac{2}{\\max(1, k_1-1)}$ (from structural change)\n4473: *   $C_{\\text{val}}^{(\\pi)} := \\max(L_{\\pi,c}, L_{\\pi,i})$ (from potential vector change)\n4474: :::"
    },
    {
      "directive_type": "theorem",
      "label": "thm-total-expected-cloning-action-continuity",
      "title": "Continuity of the Total Expected Cloning Action",
      "start_line": 4477,
      "end_line": 4486,
      "header_lines": [
        4478
      ],
      "content_start": 4479,
      "content_end": 4485,
      "content": "4479: The proof decomposes the total error into a structural component and a value component using the triangle inequality:\n4480: $|E_1[\u03c0_1] - E_2[\u03c0_2]| \\leq |E_1[\u03c0_1] - E_1[\u03c0_2]| + |E_1[\u03c0_2] - E_2[\u03c0_2]|$.\n4481: 1.  **Bound the Value Error Component:** The first term is the error from the change in potentials for a fixed companion measure. Using Jensen's inequality and the Lipschitz continuity of $\\pi$ ([](#lem-cloning-probability-lipschitz)), this is bounded by $C_{val}^{(\u03c0)}$ times the sum of the expected companion potential change and the walker's own potential change.\n4482: 2.  **Bound the Structural Error Component:** The second term is the error from the change in the companion measure for a fixed potential vector. We apply the **Total Error Bound in Terms of Status Changes ([](#thm-total-error-status-bound))**. The function being evaluated is bounded by $M_f=1$. The size of the initial companion set is at least $max(1, k_1-1)$. This gives the bound $C_{\\text{struct}}^{(\u03c0)}(k_1) \\cdot n_c$.\n4483: Summing the two bounds gives the final result.\n4484: **Q.E.D.**\n4485: :::",
      "metadata": {
        "label": "thm-total-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4477: \n4478: **Proof.**\n4479: The proof decomposes the total error into a structural component and a value component using the triangle inequality:\n4480: $|E_1[\u03c0_1] - E_2[\u03c0_2]| \\leq |E_1[\u03c0_1] - E_1[\u03c0_2]| + |E_1[\u03c0_2] - E_2[\u03c0_2]|$.\n4481: 1.  **Bound the Value Error Component:** The first term is the error from the change in potentials for a fixed companion measure. Using Jensen's inequality and the Lipschitz continuity of $\\pi$ ([](#lem-cloning-probability-lipschitz)), this is bounded by $C_{val}^{(\u03c0)}$ times the sum of the expected companion potential change and the walker's own potential change.\n4482: 2.  **Bound the Structural Error Component:** The second term is the error from the change in the companion measure for a fixed potential vector. We apply the **Total Error Bound in Terms of Status Changes ([](#thm-total-error-status-bound))**. The function being evaluated is bounded by $M_f=1$. The size of the initial companion set is at least $max(1, k_1-1)$. This gives the bound $C_{\\text{struct}}^{(\u03c0)}(k_1) \\cdot n_c$.\n4483: Summing the two bounds gives the final result.\n4484: **Q.E.D.**\n4485: :::\n4486: #### 15.2.4. Continuity of the Total Expected Cloning Action"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-total-expected-cloning-action-continuity",
      "title": null,
      "start_line": 4487,
      "end_line": 4500,
      "header_lines": [
        4488
      ],
      "content_start": 4490,
      "content_end": 4499,
      "content": "4490: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$. The **Total Expected Cloning Action** is continuous with respect to the N-Particle Displacement Metric. For any walker $i$, the change in its total cloning probability is bounded:\n4491: $$\n4492: \n4493: |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le E_{\\text{struct}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2)\n4494: \n4495: $$\n4496: where the two error components are bounded in the subsequent lemmas.\n4497: :::\n4498: :::{prf:proof}\n4499: :label: proof-thm-total-expected-cloning-action-continuity",
      "metadata": {
        "label": "proof-thm-total-expected-cloning-action-continuity"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4487: This theorem provides the main result for the continuity of the total probability of cloning. It proves that this probability, averaged over all sources of randomness, is a continuous function of the input swarm state.\n4488: :::{prf:theorem} Continuity of the Total Expected Cloning Action\n4489: :label: thm-total-expected-cloning-action-continuity\n4490: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, with $k_1 = |\\mathcal{A}(\\mathcal{S}_1)| > 0$. The **Total Expected Cloning Action** is continuous with respect to the N-Particle Displacement Metric. For any walker $i$, the change in its total cloning probability is bounded:\n4491: $$\n4492: \n4493: |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le E_{\\text{struct}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) + E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2)\n4494: \n4495: $$\n4496: where the two error components are bounded in the subsequent lemmas.\n4497: :::\n4498: :::{prf:proof}\n4499: :label: proof-thm-total-expected-cloning-action-continuity\n4500: "
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-clone-prob-structural-error",
      "title": null,
      "start_line": 4509,
      "end_line": 4515,
      "header_lines": [
        4510
      ],
      "content_start": 4512,
      "content_end": 4514,
      "content": "4512: #### 15.2.5. Bounding the Structural Component of Cloning Probability Error\n4513: :label: lem-total-clone-prob-structural-error\n4514: Let $E_{\\text{struct}}^{(\\overline{P})}$ be the structural error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded by the number of status changes between the swarms.",
      "metadata": {
        "label": "proof-lem-total-clone-prob-structural-error"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4509: The first term is the **Structural Error Component**, $E_{\\text{struct}}^{(\\overline{P})}$. The second term is the **Value Error Component**, $E_{\\text{val}}^{(\\overline{P})}$.\n4510: **Q.E.D.**\n4511: :::\n4512: #### 15.2.5. Bounding the Structural Component of Cloning Probability Error\n4513: :label: lem-total-clone-prob-structural-error\n4514: Let $E_{\\text{struct}}^{(\\overline{P})}$ be the structural error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded by the number of status changes between the swarms.\n4515: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-potential-operator-is-mean-square-continuous",
      "title": null,
      "start_line": 4524,
      "end_line": 4530,
      "header_lines": [
        4525
      ],
      "content_start": 4527,
      "content_end": 4529,
      "content": "4527: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4528: :label: thm-potential-operator-is-mean-square-continuous\n4529: The **Fitness Potential Operator** is **mean-square continuous**. There exists a deterministic function $F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)$, the **Expected Squared Potential Error Bound**, such that:",
      "metadata": {
        "label": "proof-thm-potential-operator-is-mean-square-continuous"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4524: The structural error is $|E_V_1[P_1,i(V_1) - P_2,i(V_1)]|$. By Jensen's inequality, this is $\\leq E_V_1[|P_1,i(V_1) - P_2,i(V_1)|]$. From [](#thm-expected-cloning-action-continuity), the term inside the expectation is bounded by $C_{\\text{struct}}^{(\u03c0)}(k_1) \\cdot n_c$. Since this bound is a deterministic constant, its expectation is the bound itself.\n4525: **Q.E.D.**\n4526: :::\n4527: #### 15.2.6. Theorem: The Fitness Potential Operator is Mean-Square Continuous\n4528: :label: thm-potential-operator-is-mean-square-continuous\n4529: The **Fitness Potential Operator** is **mean-square continuous**. There exists a deterministic function $F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)$, the **Expected Squared Potential Error Bound**, such that:\n4530: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-total-clone-prob-value-error",
      "title": null,
      "start_line": 4540,
      "end_line": 4549,
      "header_lines": [
        4541
      ],
      "content_start": 4543,
      "content_end": 4548,
      "content": "4543: :label: lem-total-clone-prob-value-error\n4544: Let $E_{\\text{val}}^{(\\overline{P})}$ be the value error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded as follows:\n4545: $$\n4546: \n4547: E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)}\n4548: ",
      "metadata": {
        "label": "proof-lem-total-clone-prob-value-error"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4540: **Q.E.D.**\n4541: :::\n4542: #### 15.2.7. Bounding the Value Component of Cloning Probability Error\n4543: :label: lem-total-clone-prob-value-error\n4544: Let $E_{\\text{val}}^{(\\overline{P})}$ be the value error component from **[](#thm-total-expected-cloning-action-continuity)**. It is deterministically bounded as follows:\n4545: $$\n4546: \n4547: E_{\\text{val}}^{(\\overline{P})}(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}(\\mathcal{S}_1, \\mathcal{S}_2)}\n4548: \n4549: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-cloning-transition-operator-continuity-recorrected",
      "title": null,
      "start_line": 4568,
      "end_line": 4615,
      "header_lines": [
        4569
      ],
      "content_start": 4570,
      "content_end": 4614,
      "content": "4570: where $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ are the **Cloning Operator Continuity Coefficients**, which are deterministic, state-dependent functions defined in the subsequent sections.\n4571: ##### 15.2.8.1. Definition: Cloning Operator Continuity Coefficients\n4572: :label: def-cloning-operator-continuity-coeffs-recorrected\n4573: The state-dependent functions in the continuity bound for the Cloning Transition Operator are defined as follows:\n4574: 1.  **The Cloning Lipschitz Amplification Factor ($C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term that is linear in the input squared displacement, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$. This term primarily captures the propagation of the positional component of the input displacement.\n4575: 2.  **The Cloning H\u00f6lder Amplification Factor ($C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the H\u00f6lder term, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)$. This term arises from the complex, non-linear error propagation originating from the **Distance-to-Companion Measurement**, specifically from the component of its error bound that is quadratic in the number of status changes.\n4576: 3.  **The Cloning Stochastic Offset ($K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** A state-dependent term that is independent of the input displacement. It represents the baseline displacement introduced by the operator's intrinsic stochasticity, which exists even if the two input swarms are identical.\n4577: ##### 15.2.8.2. Proof of Mean-Square Continuity for the Cloning Operator\n4578: :label: proof-cloning-transition-operator-continuity-recorrected\n4579: :::{prf:proof}\n4580: :label: proof-proof-cloning-transition-operator-continuity-recorrected\n4581: **Proof.**\n4582: The proof establishes the bound by relating the expected output displacement to the expected intermediate positional displacement, and then bounding the latter by composing the continuity bounds of the underlying measurement and potential-calculation pipeline.\n4583: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the intermediate swarms after the cloning transition.\n4584: 1.  **Bound the Expected Intermediate Positional Displacement.**\n4585:     Since all intermediate walkers are assigned an \"alive\" status, the status component of their displacement is zero, and the expected output displacement is given by $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2] = \\frac{1}{N} \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)]$.\n4586:     For any single walker **i**, using the triangle inequality and the property $(a+b+c)^2 \\le 3(a^2+b^2+c^2)$, we have:\n4587: $$\n4588: \n4589:     \\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x'_{2,i})^2] \\le 3d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 3\\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x_{1,i})^2] + 3\\mathbb{E}[d_{\\text{alg}}(x'_{2,i}, x_{2,i})^2]\n4590: \n4591: \n4592: $$\n4593: The expected squared displacement of a walker from its own initial position, $\\mathbb{E}[d_{\\text{alg}}(x'_{k,i}, x_{k,i})^2]$, is bounded by the total probability of it being cloned, $\\overline{P}_{\\text{clone}}(\\mathcal{S}_k)_i$, multiplied by the maximum possible squared displacement, which is bounded by $D_{\\mathcal{Y}}^2$. Summing over all **N** walkers gives a bound on the total expected intermediate positional displacement:\n4594: $$\n4595: \n4596:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3D_{\\mathcal{Y}}^2 \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right)\n4597: \n4598: \n4599: $$\n4600: 2.  **Bound the Sum of Cloning Probabilities.**\n4601:     The core of the proof is to bound the sum of the total cloning probabilities in terms of the input displacement $V_{\\text{in}}$. As rigorously proven in the subsequent **Sub-Lemma 15.2.8.3**, this sum can be bounded by a function that contains both a linear and a square-root term of the input displacement:\n4602: $$\n4603: \n4604:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4605: \n4606: \n4607: $$\n4608: where $C_P$, $H_P$, and $K_P$ are state-dependent coefficients derived in the sub-lemma.\n4609: 3.  **Assemble the Final Bound.**\n4610:     We substitute the bound from Step 2 into the inequality from Step 1. We also use the fact that the initial positional displacement is a component of the total displacement, so $\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le N \\cdot V_{\\text{in}}$.\n4611: $$\n4612: \n4613:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3(N \\cdot V_{\\text{in}}) + 3D_{\\mathcal{Y}}^2 \\left( C_P V_{\\text{in}} + H_P \\sqrt{V_{\\text{in}}} + K_P \\right)\n4614: ",
      "metadata": {
        "label": "proof-proof-cloning-transition-operator-continuity-recorrected"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4568: \n4569: $$\n4570: where $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ are the **Cloning Operator Continuity Coefficients**, which are deterministic, state-dependent functions defined in the subsequent sections.\n4571: ##### 15.2.8.1. Definition: Cloning Operator Continuity Coefficients\n4572: :label: def-cloning-operator-continuity-coeffs-recorrected\n4573: The state-dependent functions in the continuity bound for the Cloning Transition Operator are defined as follows:\n4574: 1.  **The Cloning Lipschitz Amplification Factor ($C_{\\text{clone},L}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term that is linear in the input squared displacement, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$. This term primarily captures the propagation of the positional component of the input displacement.\n4575: 2.  **The Cloning H\u00f6lder Amplification Factor ($C_{\\text{clone},H}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the H\u00f6lder term, $d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)$. This term arises from the complex, non-linear error propagation originating from the **Distance-to-Companion Measurement**, specifically from the component of its error bound that is quadratic in the number of status changes.\n4576: 3.  **The Cloning Stochastic Offset ($K_{\\text{clone}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** A state-dependent term that is independent of the input displacement. It represents the baseline displacement introduced by the operator's intrinsic stochasticity, which exists even if the two input swarms are identical.\n4577: ##### 15.2.8.2. Proof of Mean-Square Continuity for the Cloning Operator\n4578: :label: proof-cloning-transition-operator-continuity-recorrected\n4579: :::{prf:proof}\n4580: :label: proof-proof-cloning-transition-operator-continuity-recorrected\n4581: **Proof.**\n4582: The proof establishes the bound by relating the expected output displacement to the expected intermediate positional displacement, and then bounding the latter by composing the continuity bounds of the underlying measurement and potential-calculation pipeline.\n4583: Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement. Let $\\mathcal{S}'_1$ and $\\mathcal{S}'_2$ be the intermediate swarms after the cloning transition.\n4584: 1.  **Bound the Expected Intermediate Positional Displacement.**\n4585:     Since all intermediate walkers are assigned an \"alive\" status, the status component of their displacement is zero, and the expected output displacement is given by $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2] = \\frac{1}{N} \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)]$.\n4586:     For any single walker **i**, using the triangle inequality and the property $(a+b+c)^2 \\le 3(a^2+b^2+c^2)$, we have:\n4587: $$\n4588: \n4589:     \\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x'_{2,i})^2] \\le 3d_{\\text{alg}}(x_{1,i}, x_{2,i})^2 + 3\\mathbb{E}[d_{\\text{alg}}(x'_{1,i}, x_{1,i})^2] + 3\\mathbb{E}[d_{\\text{alg}}(x'_{2,i}, x_{2,i})^2]\n4590: \n4591: \n4592: $$\n4593: The expected squared displacement of a walker from its own initial position, $\\mathbb{E}[d_{\\text{alg}}(x'_{k,i}, x_{k,i})^2]$, is bounded by the total probability of it being cloned, $\\overline{P}_{\\text{clone}}(\\mathcal{S}_k)_i$, multiplied by the maximum possible squared displacement, which is bounded by $D_{\\mathcal{Y}}^2$. Summing over all **N** walkers gives a bound on the total expected intermediate positional displacement:\n4594: $$\n4595: \n4596:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 3D_{\\mathcal{Y}}^2 \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right)\n4597: \n4598: \n4599: $$\n4600: 2.  **Bound the Sum of Cloning Probabilities.**\n4601:     The core of the proof is to bound the sum of the total cloning probabilities in terms of the input displacement $V_{\\text{in}}$. As rigorously proven in the subsequent **Sub-Lemma 15.2.8.3**, this sum can be bounded by a function that contains both a linear and a square-root term of the input displacement:\n4602: $$\n4603: \n4604:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4605: \n4606: \n4607: $$\n4608: where $C_P$, $H_P$, and $K_P$ are state-dependent coefficients derived in the sub-lemma.\n4609: 3.  **Assemble the Final Bound.**\n4610:     We substitute the bound from Step 2 into the inequality from Step 1. We also use the fact that the initial positional displacement is a component of the total displacement, so $\\Delta_{\\text{pos}}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le N \\cdot V_{\\text{in}}$.\n4611: $$\n4612: \n4613:     \\mathbb{E}[\\Delta_{\\text{pos}}^2(\\mathcal{S}'_1, \\mathcal{S}'_2)] \\le 3(N \\cdot V_{\\text{in}}) + 3D_{\\mathcal{Y}}^2 \\left( C_P V_{\\text{in}} + H_P \\sqrt{V_{\\text{in}}} + K_P \\right)\n4614: \n4615: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-bound-sum-total-cloning-probs",
      "title": "Bounding the Sum of Total Cloning Probabilities",
      "start_line": 4617,
      "end_line": 4631,
      "header_lines": [
        4618
      ],
      "content_start": 4620,
      "content_end": 4630,
      "content": "4620:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\left(3 + \\frac{3D_{\\mathcal{Y}}^2 C_P}{N}\\right)V_{\\text{in}} + \\left(\\frac{3D_{\\mathcal{Y}}^2 H_P}{N}\\right)\\sqrt{V_{\\text{in}}} + \\frac{3D_{\\mathcal{Y}}^2 K_P}{N}\n4621: \n4622: \n4623: $$\n4624: This expression is of the required form $C_L V + C_H sqrt(V) + K$. By inspection, we can identify the coefficients $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ from this final expression. This completes the proof.\n4625: **Q.E.D.**\n4626: :::\n4627: ##### 15.2.8.3. Sub-Lemma: Bounding the Sum of Total Cloning Probabilities\n4628: :::{prf:lemma} Bounding the Sum of Total Cloning Probabilities\n4629: :label: lem-sub-bound-sum-total-cloning-probs\n4630: ",
      "metadata": {
        "label": "lem-sub-bound-sum-total-cloning-probs"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4617: Finally, we divide by **N** to get the bound on the expected output squared metric, $\\mathbb{E}[d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}'_1, \\mathcal{S}'_2)^2]$:\n4618: $$\n4619: \n4620:     \\mathbb{E}[d_{\\text{out}}^2] \\le \\left(3 + \\frac{3D_{\\mathcal{Y}}^2 C_P}{N}\\right)V_{\\text{in}} + \\left(\\frac{3D_{\\mathcal{Y}}^2 H_P}{N}\\right)\\sqrt{V_{\\text{in}}} + \\frac{3D_{\\mathcal{Y}}^2 K_P}{N}\n4621: \n4622: \n4623: $$\n4624: This expression is of the required form $C_L V + C_H sqrt(V) + K$. By inspection, we can identify the coefficients $C_{\\text{clone},L}$, $C_{\\text{clone},H}$, and $K_{\\text{clone}}$ from this final expression. This completes the proof.\n4625: **Q.E.D.**\n4626: :::\n4627: ##### 15.2.8.3. Sub-Lemma: Bounding the Sum of Total Cloning Probabilities\n4628: :::{prf:lemma} Bounding the Sum of Total Cloning Probabilities\n4629: :label: lem-sub-bound-sum-total-cloning-probs\n4630: \n4631: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. Let $V_{\\text{in}} := d_{\\text{Disp},\\mathcal{Y}}(\\mathcal{S}_1, \\mathcal{S}_2)^2$ be the initial squared displacement."
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-bound-sum-total-cloning-probs",
      "title": null,
      "start_line": 4632,
      "end_line": 4676,
      "header_lines": [
        4633
      ],
      "content_start": 4635,
      "content_end": 4675,
      "content": "4635: $$\n4636: \n4637: \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4638: \n4639: $$\n4640: \n4641: where $C_P$, $H_P$, and $K_P$ are finite, state-dependent, non-negative coefficients.\n4642: :::\n4643: :::{prf:proof}\n4644: :label: proof-lem-sub-bound-sum-total-cloning-probs\n4645: \n4646: **Proof.**\n4647: The proof proceeds by bounding the change in the cloning probability and then relating that change to the input displacement.\n4648: 1.  **Decompose the Sum.**\n4649:     Using the triangle inequality, we can bound the sum:\n4650: $$\n4651: \n4652:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| + 2\\sum_{i=1}^N \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i\n4653: \n4654: \n4655: $$\n4656: The second term, $2\\sum \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i$, is bounded by the state-dependent constant $2N$. This will be absorbed into the final offset, $K_P$. The core of the proof is to bound the first term, which is the L1-norm of the difference between the total cloning probability vectors, $\\|\\Delta \\overline{\\mathbf{P}}\\|_1$.\n4657: 2.  **Bound the L1-Norm of the Probability Difference.**\n4658:     From the continuity of the total expected cloning action ([](#thm-total-expected-cloning-action-continuity)), we have a bound for each component, which we sum over all **N** walkers:\n4659: $$\n4660: \n4661:     \\|\\Delta \\overline{\\mathbf{P}}\\|_1 = \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le \\sum_{i=1}^N (E_{\\text{struct}}^{(\\overline{P})} + E_{\\text{val}}^{(\\overline{P})})\n4662: \n4663: \n4664: $$\n4665: *   The structural error term from [](#lem-total-clone-prob-structural-error) is bounded by $N \\cdot C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c$.\n4666:     *   The value error term from [](#lem-total-clone-prob-value-error) is bounded by $N \\cdot C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}}$.\n4667: 3.  **Substitute the Bound for the Fitness Potential Error ($F_{\\text{pot}}$).**\n4668:     The crucial step is to substitute the bound for the **Expected Squared Potential Error Bound** ($F_{\\text{pot}}$) from [](#thm-fitness-potential-mean-square-continuity). $F_{\\text{pot}}$ is itself a function of the input displacement components: $F_{\\text{pot}}(S_1, S_2) = F_unstable + F_{\\text{stable}}$, where $F_{\\text{stable}}$ is bounded by the mean-square errors of the standardization pipelines for reward and distance. The distance standardization error ($E_[\\|\\Deltaz_d\\|^2]$) from [](#thm-distance-operator-mean-square-continuity) contains a term proportional to $n_c^2$.\n4669:     Therefore, the full bound for $F_{\\text{pot}}$ takes the form:\n4670: $$\n4671: \n4672:     F_{\\text{pot}} \\le A_1 \\cdot \\Delta_{\\text{pos}}^2 + A_2 \\cdot n_c + A_3 \\cdot n_c^2 + A_4\n4673: \n4674: \n4675: $$",
      "metadata": {
        "label": "proof-lem-sub-bound-sum-total-cloning-probs"
      },
      "section": "## 16. The Cloning Transition Measure",
      "references": [],
      "raw_directive": "4632: \n4633: The sum of the **Total Expected Cloning Probabilities**, $\\sum_{i=1}^N (\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i)$, is bounded by a sum of a linear term, a H\u00f6lder term, and a constant offset of the initial displacement:\n4634: \n4635: $$\n4636: \n4637: \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le C_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot V_{\\text{in}} + H_P(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\sqrt{V_{\\text{in}}} + K_P(\\mathcal{S}_1, \\mathcal{S}_2)\n4638: \n4639: $$\n4640: \n4641: where $C_P$, $H_P$, and $K_P$ are finite, state-dependent, non-negative coefficients.\n4642: :::\n4643: :::{prf:proof}\n4644: :label: proof-lem-sub-bound-sum-total-cloning-probs\n4645: \n4646: **Proof.**\n4647: The proof proceeds by bounding the change in the cloning probability and then relating that change to the input displacement.\n4648: 1.  **Decompose the Sum.**\n4649:     Using the triangle inequality, we can bound the sum:\n4650: $$\n4651: \n4652:     \\sum_{i=1}^N \\left( \\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i + \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i \\right) \\le \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| + 2\\sum_{i=1}^N \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i\n4653: \n4654: \n4655: $$\n4656: The second term, $2\\sum \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i$, is bounded by the state-dependent constant $2N$. This will be absorbed into the final offset, $K_P$. The core of the proof is to bound the first term, which is the L1-norm of the difference between the total cloning probability vectors, $\\|\\Delta \\overline{\\mathbf{P}}\\|_1$.\n4657: 2.  **Bound the L1-Norm of the Probability Difference.**\n4658:     From the continuity of the total expected cloning action ([](#thm-total-expected-cloning-action-continuity)), we have a bound for each component, which we sum over all **N** walkers:\n4659: $$\n4660: \n4661:     \\|\\Delta \\overline{\\mathbf{P}}\\|_1 = \\sum_{i=1}^N |\\overline{P}_{\\text{clone}}(\\mathcal{S}_1)_i - \\overline{P}_{\\text{clone}}(\\mathcal{S}_2)_i| \\le \\sum_{i=1}^N (E_{\\text{struct}}^{(\\overline{P})} + E_{\\text{val}}^{(\\overline{P})})\n4662: \n4663: \n4664: $$\n4665: *   The structural error term from [](#lem-total-clone-prob-structural-error) is bounded by $N \\cdot C_{\\text{struct}}^{(\\pi)}(k_1) \\cdot n_c$.\n4666:     *   The value error term from [](#lem-total-clone-prob-value-error) is bounded by $N \\cdot C_{\\text{val}}^{(\\pi)} \\sqrt{2N \\cdot F_{\\text{pot}}}$.\n4667: 3.  **Substitute the Bound for the Fitness Potential Error ($F_{\\text{pot}}$).**\n4668:     The crucial step is to substitute the bound for the **Expected Squared Potential Error Bound** ($F_{\\text{pot}}$) from [](#thm-fitness-potential-mean-square-continuity). $F_{\\text{pot}}$ is itself a function of the input displacement components: $F_{\\text{pot}}(S_1, S_2) = F_unstable + F_{\\text{stable}}$, where $F_{\\text{stable}}$ is bounded by the mean-square errors of the standardization pipelines for reward and distance. The distance standardization error ($E_[\\|\\Deltaz_d\\|^2]$) from [](#thm-distance-operator-mean-square-continuity) contains a term proportional to $n_c^2$.\n4669:     Therefore, the full bound for $F_{\\text{pot}}$ takes the form:\n4670: $$\n4671: \n4672:     F_{\\text{pot}} \\le A_1 \\cdot \\Delta_{\\text{pos}}^2 + A_2 \\cdot n_c + A_3 \\cdot n_c^2 + A_4\n4673: \n4674: \n4675: $$\n4676: where $A_k$ are state-dependent coefficients."
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}