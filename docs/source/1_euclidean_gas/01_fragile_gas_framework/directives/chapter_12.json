{
  "chapter_index": 12,
  "section_id": "## 12. Standardization pipeline",
  "directive_count": 36,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-standardization-operator-n-dimensional",
      "title": "N-Dimensional Standardization Operator",
      "start_line": 2808,
      "end_line": 2831,
      "header_lines": [
        2809
      ],
      "content_start": 2810,
      "content_end": 2830,
      "content": "2810: :label: def-standardization-operator-n-dimensional\n2811: The **N-Dimensional Standardization Operator**, denoted $z$, is a function that maps a swarm state $S$ to an N-dimensional vector, parameterized by a choice of a raw value operator and an aggregation operator.\n2812: **Signature:** $z: \\Sigma_N \\times (\\text{Raw Value Operator}) \\times (\\text{Swarm Aggregation Operator}) \\to \\mathbb{R}^N$\n2813: **Inputs:**\n2814: *   The current swarm state, $S_t$.\n2815: *   A **Raw Value Operator**, $V$ (per [](#def-raw-value-operator)).\n2816: *   A **Swarm Aggregation Operator**, $M$ (e.g., $R_{\\text{agg}}$ or $M_D$, per [](#def-swarm-aggregation-operator-axiomatic)).\n2817: *   All relevant implicit parameters ($\\varepsilon_{\\text{std}}$).\n2818: **Operation:**\n2819: The operator computes the output vector $z = z(S_t, V, M)$ as follows:\n2820: 1.  **Generate Raw Values:**\n2821:     a. Let $\\mathcal{A}(S_t)$ be the set of alive walkers. Let $k = |\\mathcal{A}(S_t)|$. If $k=0$, return the zero vector and terminate.\n2822:     b. Generate a single stochastic sample of the raw value vector by drawing $v \\sim V(S_t)$. Let $v_A$ be the k-dimensional sub-vector corresponding to the alive set.\n2823: 2.  **Aggregate and Measure Statistics:**\n2824:     a. Form the **Swarm Aggregation Measure**: $\\mu_v = M(S_t; v_A)$.\n2825:     b. Measure the statistical properties $(\\mu_A, \\sigma'_A)$ from $\\mu_v$ (per Def. 11.1.2), using the provided $\\varepsilon_{\\text{std}}$ and the regularized standard deviation $\\sigma\\'_{\\text{reg}}$.\n2826: 3.  **Standardize and Assemble N-Dimensional Vector:**\n2827:     a. Initialize an N-dimensional zero vector, $z_{\\text{out}} \\leftarrow 0$.\n2828:     b. For each walker $i \\in \\mathcal{A}(S_t)$:\n2829:         *   Compute its Z-score: $z_i := (v_i - \\mu_A) / \\sigma'_A$.\n2830:         *   Set the $i$-th component of the output vector: $z_{\\text{out}}[i] := z_i$.",
      "metadata": {
        "label": "def-standardization-operator-n-dimensional"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2808: #### 11.1.1 N-Dimensional Standardization Operator\n2809: :::{prf:definition} N-Dimensional Standardization Operator\n2810: :label: def-standardization-operator-n-dimensional\n2811: The **N-Dimensional Standardization Operator**, denoted $z$, is a function that maps a swarm state $S$ to an N-dimensional vector, parameterized by a choice of a raw value operator and an aggregation operator.\n2812: **Signature:** $z: \\Sigma_N \\times (\\text{Raw Value Operator}) \\times (\\text{Swarm Aggregation Operator}) \\to \\mathbb{R}^N$\n2813: **Inputs:**\n2814: *   The current swarm state, $S_t$.\n2815: *   A **Raw Value Operator**, $V$ (per [](#def-raw-value-operator)).\n2816: *   A **Swarm Aggregation Operator**, $M$ (e.g., $R_{\\text{agg}}$ or $M_D$, per [](#def-swarm-aggregation-operator-axiomatic)).\n2817: *   All relevant implicit parameters ($\\varepsilon_{\\text{std}}$).\n2818: **Operation:**\n2819: The operator computes the output vector $z = z(S_t, V, M)$ as follows:\n2820: 1.  **Generate Raw Values:**\n2821:     a. Let $\\mathcal{A}(S_t)$ be the set of alive walkers. Let $k = |\\mathcal{A}(S_t)|$. If $k=0$, return the zero vector and terminate.\n2822:     b. Generate a single stochastic sample of the raw value vector by drawing $v \\sim V(S_t)$. Let $v_A$ be the k-dimensional sub-vector corresponding to the alive set.\n2823: 2.  **Aggregate and Measure Statistics:**\n2824:     a. Form the **Swarm Aggregation Measure**: $\\mu_v = M(S_t; v_A)$.\n2825:     b. Measure the statistical properties $(\\mu_A, \\sigma'_A)$ from $\\mu_v$ (per Def. 11.1.2), using the provided $\\varepsilon_{\\text{std}}$ and the regularized standard deviation $\\sigma\\'_{\\text{reg}}$.\n2826: 3.  **Standardize and Assemble N-Dimensional Vector:**\n2827:     a. Initialize an N-dimensional zero vector, $z_{\\text{out}} \\leftarrow 0$.\n2828:     b. For each walker $i \\in \\mathcal{A}(S_t)$:\n2829:         *   Compute its Z-score: $z_i := (v_i - \\mu_A) / \\sigma'_A$.\n2830:         *   Set the $i$-th component of the output vector: $z_{\\text{out}}[i] := z_i$.\n2831: **Output:** The full N-dimensional standardized vector $z_{\\text{out}}$."
    },
    {
      "directive_type": "definition",
      "label": "lem-sigma-reg-derivative-bounds",
      "title": "Statistical Properties Measurement",
      "start_line": 2834,
      "end_line": 2881,
      "header_lines": [
        2835,
        2854
      ],
      "content_start": 2836,
      "content_end": 2880,
      "content": "2836: :label: def-statistical-properties-measurement\n2837: Let $\\mathbf{v}_{\\mathcal{A}}$ be the vector of raw scalar values for the alive set $\\mathcal{A}_t$. Let $\\mu_{\\mathbf{v}} = M(\\mathcal{S}_t; \\mathbf{v}_{\\mathcal{A}})$ be the **Swarm Aggregation Measure** for these values. The **Statistical Properties Measurement** extracts the effective mean and a smoothed, regularized standard deviation from this measure:\n2838: *   **Mean:** $\\mu_{\\mathcal{A}} := \\mathbb{E}[\\mu_{\\mathbf{v}}]$\n2839: *   **Regularized Standard Deviation:** $\\sigma'_{\\mathcal{A}} := \\sigma'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$\n2840: where $\\sigma'_{\\text{reg}}: \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}_{>0}$ is the **Regularized Standard Deviation**. This $C^\\infty$ replacement for the square-root prevents pathological sensitivity near zero variance while maintaining smooth behavior everywhere. It is defined as:\n2841: $$\n2842: \n2843: \\sigma'_{\\text{reg}}(V) := \\sqrt{V + \\sigma'^2_{\\min}}\n2844: \n2845: $$\n2846: where $\\sigma'_{\\min} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2} > 0$ is the **regularization parameter** combining the variance floor threshold $\\kappa_{\\text{var,min}} > 0$ and the numerical stability parameter $\\varepsilon_{\\text{std}} > 0$.\n2847: **Properties:**\n2848: 1. **C^\u221e Regularity:** The function is infinitely differentiable on $[0, \\infty)$ as a composition of smooth functions.\n2849: 2. **Positive Lower Bound:** $\\sigma'_{\\text{reg}}(V) \\ge \\sigma'_{\\min} > 0$ for all $V \\ge 0$, preventing division by zero.\n2850: 3. **Asymptotic Behavior:** For large $V \\gg \\sigma'^2_{\\min}$, the regularized function closely approximates the natural square root: $\\sigma'_{\\text{reg}}(V) \\approx \\sqrt{V} + \\frac{\\sigma'^2_{\\min}}{2\\sqrt{V}}$.\n2851: 4. **Monotonicity:** The function is strictly increasing, with $\\sigma'_{\\text{reg}}(0) = \\sigma'_{\\min}$ and $\\lim_{V \\to \\infty} \\sigma'_{\\text{reg}}(V) = \\infty$.\n2852: \n2853: This regularized standardization operator is applied in {prf:ref}`02_euclidean_gas` for the patched standardization step that produces standardized reward and distance scores.\n2854: ::{prf:lemma} Derivative Bounds for Regularized Standard Deviation\n2855: :label: lem-sigma-reg-derivative-bounds\n2856: The regularized standard deviation $\\sigma'_{\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ has explicit derivative bounds for all orders. For the first three derivatives:\n2857: $$\n2858: \n2859: \\left|(\\sigma'_{\text{reg}})'(V)\n2860: ight| = \n2861: rac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}} \\le \n2862: rac{1}{2\\sigma'_{\\min}} =: L_{\\sigma'_{\text{reg}}}\n2863: \n2864: $$\n2865: $$\n2866: \\left|(\\sigma'_{\text{reg}})''(V)\n2867: ight| = \n2868: rac{1}{4(V + \\sigma'^2_{\\min})^{3/2}} \\le \n2869: rac{1}{4\\sigma'^3_{\\min}} =: L_{\\sigma''_{\text{reg}}}\n2870: $$\n2871: \n2872: $$\n2873: \\left|(\\sigma'_{\text{reg}})'''(V)\n2874: ight| = \n2875: rac{3}{8(V + \\sigma'^2_{\\min})^{5/2}} \\le \n2876: rac{3}{8\\sigma'^5_{\\min}} =: L_{\\sigma'''_{\text{reg}}}\n2877: $$\n2878: General form: For the $n$-th derivative with $n \\ge 1$,\n2879: \n2880: $$",
      "metadata": {
        "label": "lem-sigma-reg-derivative-bounds"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "02_euclidean_gas",
        "def-fragile-gas-algorithm"
      ],
      "raw_directive": "2834: The first step is to distill the vector of raw measurements from the alive set into a few key statistics. This is achieved by calculating the moments of the **Swarm Aggregation Measure**. The definition of the standard deviation is modified to use a smoothed function, which is a critical and mandatory component for securing a global Lipschitz control on the denominator and, ultimately, the H\u00f6lder continuity bounds for the full standardization operator.\n2835: :::{prf:definition} Statistical Properties Measurement\n2836: :label: def-statistical-properties-measurement\n2837: Let $\\mathbf{v}_{\\mathcal{A}}$ be the vector of raw scalar values for the alive set $\\mathcal{A}_t$. Let $\\mu_{\\mathbf{v}} = M(\\mathcal{S}_t; \\mathbf{v}_{\\mathcal{A}})$ be the **Swarm Aggregation Measure** for these values. The **Statistical Properties Measurement** extracts the effective mean and a smoothed, regularized standard deviation from this measure:\n2838: *   **Mean:** $\\mu_{\\mathcal{A}} := \\mathbb{E}[\\mu_{\\mathbf{v}}]$\n2839: *   **Regularized Standard Deviation:** $\\sigma'_{\\mathcal{A}} := \\sigma'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$\n2840: where $\\sigma'_{\\text{reg}}: \\mathbb{R}_{\\ge 0} \\to \\mathbb{R}_{>0}$ is the **Regularized Standard Deviation**. This $C^\\infty$ replacement for the square-root prevents pathological sensitivity near zero variance while maintaining smooth behavior everywhere. It is defined as:\n2841: $$\n2842: \n2843: \\sigma'_{\\text{reg}}(V) := \\sqrt{V + \\sigma'^2_{\\min}}\n2844: \n2845: $$\n2846: where $\\sigma'_{\\min} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2} > 0$ is the **regularization parameter** combining the variance floor threshold $\\kappa_{\\text{var,min}} > 0$ and the numerical stability parameter $\\varepsilon_{\\text{std}} > 0$.\n2847: **Properties:**\n2848: 1. **C^\u221e Regularity:** The function is infinitely differentiable on $[0, \\infty)$ as a composition of smooth functions.\n2849: 2. **Positive Lower Bound:** $\\sigma'_{\\text{reg}}(V) \\ge \\sigma'_{\\min} > 0$ for all $V \\ge 0$, preventing division by zero.\n2850: 3. **Asymptotic Behavior:** For large $V \\gg \\sigma'^2_{\\min}$, the regularized function closely approximates the natural square root: $\\sigma'_{\\text{reg}}(V) \\approx \\sqrt{V} + \\frac{\\sigma'^2_{\\min}}{2\\sqrt{V}}$.\n2851: 4. **Monotonicity:** The function is strictly increasing, with $\\sigma'_{\\text{reg}}(0) = \\sigma'_{\\min}$ and $\\lim_{V \\to \\infty} \\sigma'_{\\text{reg}}(V) = \\infty$.\n2852: \n2853: This regularized standardization operator is applied in {prf:ref}`02_euclidean_gas` for the patched standardization step that produces standardized reward and distance scores.\n2854: ::{prf:lemma} Derivative Bounds for Regularized Standard Deviation\n2855: :label: lem-sigma-reg-derivative-bounds\n2856: The regularized standard deviation $\\sigma'_{\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ has explicit derivative bounds for all orders. For the first three derivatives:\n2857: $$\n2858: \n2859: \\left|(\\sigma'_{\text{reg}})'(V)\n2860: ight| = \n2861: rac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}} \\le \n2862: rac{1}{2\\sigma'_{\\min}} =: L_{\\sigma'_{\text{reg}}}\n2863: \n2864: $$\n2865: $$\n2866: \\left|(\\sigma'_{\text{reg}})''(V)\n2867: ight| = \n2868: rac{1}{4(V + \\sigma'^2_{\\min})^{3/2}} \\le \n2869: rac{1}{4\\sigma'^3_{\\min}} =: L_{\\sigma''_{\text{reg}}}\n2870: $$\n2871: \n2872: $$\n2873: \\left|(\\sigma'_{\text{reg}})'''(V)\n2874: ight| = \n2875: rac{3}{8(V + \\sigma'^2_{\\min})^{5/2}} \\le \n2876: rac{3}{8\\sigma'^5_{\\min}} =: L_{\\sigma'''_{\text{reg}}}\n2877: $$\n2878: General form: For the $n$-th derivative with $n \\ge 1$,\n2879: \n2880: $$\n2881: \\left|(\\sigma'_{\text{reg}})^{(n)}(V)"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sigma-reg-derivative-bounds",
      "title": null,
      "start_line": 2882,
      "end_line": 2900,
      "header_lines": [
        2883
      ],
      "content_start": 2884,
      "content_end": 2899,
      "content": "2884: $$\n2885: \n2886: where $(2n-1)!! = 1 \\cdot 3 \\cdot 5 \\cdots (2n-1)$ is the double factorial.\n2887: \n2888: Referenced by {prf:ref}`def-fragile-gas-algorithm`.\n2889: :::\n2890: :::{prf:proof}\n2891: :label: proof-lem-sigma-reg-derivative-bounds\n2892: Direct computation of derivatives of $\\sigma'_{\text{reg}}(V) = (V + \\sigma'^2_{\\min})^{1/2}$:\n2893: \n2894: $$\n2895: (\\sigma'_{\text{reg}})'(V) = \n2896: rac{1}{2}(V + \\sigma'^2_{\\min})^{-1/2}\n2897: $$\n2898: \n2899: $$",
      "metadata": {
        "label": "proof-lem-sigma-reg-derivative-bounds"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2882: ight| \\le \n2883: rac{(2n-1)!!}{2^n \\sigma'^{(2n-1)}_{\\min}}\n2884: $$\n2885: \n2886: where $(2n-1)!! = 1 \\cdot 3 \\cdot 5 \\cdots (2n-1)$ is the double factorial.\n2887: \n2888: Referenced by {prf:ref}`def-fragile-gas-algorithm`.\n2889: :::\n2890: :::{prf:proof}\n2891: :label: proof-lem-sigma-reg-derivative-bounds\n2892: Direct computation of derivatives of $\\sigma'_{\text{reg}}(V) = (V + \\sigma'^2_{\\min})^{1/2}$:\n2893: \n2894: $$\n2895: (\\sigma'_{\text{reg}})'(V) = \n2896: rac{1}{2}(V + \\sigma'^2_{\\min})^{-1/2}\n2897: $$\n2898: \n2899: $$\n2900: (\\sigma'_{\text{reg}})''(V) = -"
    },
    {
      "directive_type": "lemma",
      "label": "lem-stats-value-continuity",
      "title": "Value Continuity of Statistical Properties",
      "start_line": 2903,
      "end_line": 2925,
      "header_lines": [
        2904
      ],
      "content_start": 2905,
      "content_end": 2924,
      "content": "2905: (\\sigma'_{\text{reg}})'''(V) = \n2906: rac{3}{8}(V + \\sigma'^2_{\\min})^{-5/2}\n2907: $$\n2908: \n2909: Since $V \\ge 0$, the maximum magnitude of each derivative occurs at $V = 0$, yielding the stated bounds. The general form follows from the pattern of alternating signs and double factorials in the $n$-th derivative of $(V + \\sigma'^2_{\\min})^{1/2}$.\n2910: **Q.E.D.**\n2911: :::\n2912: #### 11.1.3 Continuity of Statistical Properties\n2913: The stability of the standardization operator hinges on the continuity of the measured mean ($\\mu_{\\mathcal{A}}$) and the regularized standard deviation ($\\sigma'_{\\mathcal{A}}$). These properties are not fundamental axioms themselves but are instead consequences of the axiomatic properties of the chosen **Swarm Aggregation Operator** $M$ ([](#def-swarm-aggregation-operator-axiomatic)) and the Lipschitz continuity of the new **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). The following lemmas formally derive the continuity bounds for $\\mu_{\\mathcal{A}}$ and $\\sigma'_{\\mathcal{A}}$ with respect to both changes in the raw value vector and changes in the swarm's structure.\n2914: :::{prf:lemma} Value Continuity of Statistical Properties\n2915: :label: lem-stats-value-continuity\n2916: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size $k = |\\mathcal{A}| \\geq 1$. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors, with components bounded by $V_{\\max}$. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are Lipschitz continuous with respect to the raw value vector $\\mathbf{v}$.\n2917: \n2918: $$\n2919: |\\mu(\\mathcal{S}, \\mathbf{v}_1) - \\mu(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\mu,M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n2920: $$\n2921: \n2922: $$\n2923: |\\sigma'(\\mathcal{S}, \\mathbf{v}_1) - \\sigma'(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\sigma',M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n2924: $$",
      "metadata": {
        "label": "lem-stats-value-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "02_euclidean_gas"
      ],
      "raw_directive": "2903: \n2904: $$\n2905: (\\sigma'_{\text{reg}})'''(V) = \n2906: rac{3}{8}(V + \\sigma'^2_{\\min})^{-5/2}\n2907: $$\n2908: \n2909: Since $V \\ge 0$, the maximum magnitude of each derivative occurs at $V = 0$, yielding the stated bounds. The general form follows from the pattern of alternating signs and double factorials in the $n$-th derivative of $(V + \\sigma'^2_{\\min})^{1/2}$.\n2910: **Q.E.D.**\n2911: :::\n2912: #### 11.1.3 Continuity of Statistical Properties\n2913: The stability of the standardization operator hinges on the continuity of the measured mean ($\\mu_{\\mathcal{A}}$) and the regularized standard deviation ($\\sigma'_{\\mathcal{A}}$). These properties are not fundamental axioms themselves but are instead consequences of the axiomatic properties of the chosen **Swarm Aggregation Operator** $M$ ([](#def-swarm-aggregation-operator-axiomatic)) and the Lipschitz continuity of the new **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). The following lemmas formally derive the continuity bounds for $\\mu_{\\mathcal{A}}$ and $\\sigma'_{\\mathcal{A}}$ with respect to both changes in the raw value vector and changes in the swarm's structure.\n2914: :::{prf:lemma} Value Continuity of Statistical Properties\n2915: :label: lem-stats-value-continuity\n2916: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size $k = |\\mathcal{A}| \\geq 1$. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors, with components bounded by $V_{\\max}$. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are Lipschitz continuous with respect to the raw value vector $\\mathbf{v}$.\n2917: \n2918: $$\n2919: |\\mu(\\mathcal{S}, \\mathbf{v}_1) - \\mu(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\mu,M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n2920: $$\n2921: \n2922: $$\n2923: |\\sigma'(\\mathcal{S}, \\mathbf{v}_1) - \\sigma'(\\mathcal{S}, \\mathbf{v}_2)| \\le L_{\\sigma',M}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2\n2924: $$\n2925: where $L_{\\mu,M}$ is the axiomatic value Lipschitz function for the mean from [](#def-swarm-aggregation-operator-axiomatic) (explicit expressions for the empirical aggregator appear in [](#lem-empirical-aggregator-properties)), and $L_{\\sigma',M}$ is the derived Lipschitz constant for the regularized standard deviation, given by:"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-stats-value-continuity",
      "title": null,
      "start_line": 2926,
      "end_line": 2937,
      "header_lines": [
        2927
      ],
      "content_start": 2928,
      "content_end": 2936,
      "content": "2928: \\boxed{\n2929: L_{\\sigma',M}(\\mathcal{S}) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,M}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,M}(\\mathcal{S}) \\right)\n2930: }\n2931: $$\n2932: \n2933: and $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$ is the finite, global Lipschitz constant of the Regularized Standard Deviation Function from [](#lem-sigma-reg-derivative-bounds).\n2934: \n2935: This value continuity lemma is applied in {prf:ref}`02_euclidean_gas` for bounding standardization error with respect to reward and distance value changes.\n2936: :::",
      "metadata": {
        "label": "proof-lem-stats-value-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2926: \n2927: $$\n2928: \\boxed{\n2929: L_{\\sigma',M}(\\mathcal{S}) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,M}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,M}(\\mathcal{S}) \\right)\n2930: }\n2931: $$\n2932: \n2933: and $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$ is the finite, global Lipschitz constant of the Regularized Standard Deviation Function from [](#lem-sigma-reg-derivative-bounds).\n2934: \n2935: This value continuity lemma is applied in {prf:ref}`02_euclidean_gas` for bounding standardization error with respect to reward and distance value changes.\n2936: :::\n2937: :::{prf:proof}"
    },
    {
      "directive_type": "lemma",
      "label": "lem-stats-structural-continuity",
      "title": "Structural Continuity of Statistical Properties",
      "start_line": 2938,
      "end_line": 2958,
      "header_lines": [
        2939
      ],
      "content_start": 2940,
      "content_end": 2957,
      "content": "2940: The bound for the mean $\\mu$ is a direct application of the axiom in [](#def-swarm-aggregation-operator-axiomatic). The bound for $\\sigma'$ is derived by composition. $\\sigma'(\\mathcal{S}, \\mathbf{v})$ is the composition of the variance function $\\text{Var}(\\mathbf{v}) = m_2(\\mathcal{S}, \\mathbf{v}) - \\mu(\\mathcal{S}, \\mathbf{v})^2$ and the smoothed function $\\sigma\\'_{\\text{reg}}(V)$.\n2941: 1.  **Lipschitz Constant of $\\sigma\\'_{\\text{reg}}(V)$:** The function $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ is infinitely differentiable. Its first derivative is $(\\sigma\\'_{\\text{reg}})'(V) = \\frac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}}$, which is maximized at $V = 0$. Therefore, its global Lipschitz constant is $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$, a finite, positive constant.\n2942: 2.  **Lipschitz Constant of the Variance:** The change in variance is $|\\text{Var}(\\mathbf{v}_1) - \\text{Var}(\\mathbf{v}_2)| = |(m_2(\\mathbf{v}_1) - \\mu(\\mathbf{v}_1)^2)- (m_2(\\mathbf{v}_2) - \\mu(\\mathbf{v}_2)^2)|$. By the triangle inequality, this is $\\leq |m_2(\\mathbf{v}_1) - m_2(\\mathbf{v}_2)| + |\\mu(\\mathbf{v}_1)^2 - \\mu(\\mathbf{v}_2)^2|$.\n2943:     *   The first term is bounded by $L_{m_2,M}(\\mathcal{S}) \\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2$.\n2944:     *   The second term, $|\\mu_1-\\mu_2||\\mu_1+\\mu_2|$, is bounded by $(L_{\\mu,M}(\\mathcal{S})\\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2)(2V_{\\max})$.\n2945:     *   Thus, the Lipschitz constant for the variance, $L_{\\text{Var}}$, is bounded by $L_{m_2,M}(\\mathcal{S}) + 2V_{\\max} L_{\\mu,M}(\\mathcal{S})$.\n2946: 3.  **Chain Rule for Lipschitz Functions:** The Lipschitz constant of the composition is bounded by the product of the individual Lipschitz constants, $L(\\sigma\\'_{\\text{reg}} \\circ \\text{Var}) \\le L_{\\sigma\\'_{\\text{reg}}} \\cdot L_{\\text{Var}}$, which yields the expression for $L_{\\sigma',M}$.\n2947: **Q.E.D.**\n2948: :::\n2949: :::{prf:lemma} Structural Continuity of Statistical Properties\n2950: :label: lem-stats-structural-continuity\n2951: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are continuous with respect to changes in the swarm structure.\n2952: \n2953: $$\n2954: |\\mu(\\mathcal{S}_1, \\mathbf{v}) - \\mu(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n2955: $$\n2956: \n2957: $$",
      "metadata": {
        "label": "lem-stats-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "02_euclidean_gas"
      ],
      "raw_directive": "2938: :label: proof-lem-stats-value-continuity\n2939: **Proof.**\n2940: The bound for the mean $\\mu$ is a direct application of the axiom in [](#def-swarm-aggregation-operator-axiomatic). The bound for $\\sigma'$ is derived by composition. $\\sigma'(\\mathcal{S}, \\mathbf{v})$ is the composition of the variance function $\\text{Var}(\\mathbf{v}) = m_2(\\mathcal{S}, \\mathbf{v}) - \\mu(\\mathcal{S}, \\mathbf{v})^2$ and the smoothed function $\\sigma\\'_{\\text{reg}}(V)$.\n2941: 1.  **Lipschitz Constant of $\\sigma\\'_{\\text{reg}}(V)$:** The function $\\sigma\\'_{\\text{reg}}(V) = \\sqrt{V + \\sigma'^2_{\\min}}$ is infinitely differentiable. Its first derivative is $(\\sigma\\'_{\\text{reg}})'(V) = \\frac{1}{2\\sqrt{V + \\sigma'^2_{\\min}}}$, which is maximized at $V = 0$. Therefore, its global Lipschitz constant is $L_{\\sigma\\'_{\\text{reg}}} = \\frac{1}{2\\sigma'_{\\min}}$, a finite, positive constant.\n2942: 2.  **Lipschitz Constant of the Variance:** The change in variance is $|\\text{Var}(\\mathbf{v}_1) - \\text{Var}(\\mathbf{v}_2)| = |(m_2(\\mathbf{v}_1) - \\mu(\\mathbf{v}_1)^2)- (m_2(\\mathbf{v}_2) - \\mu(\\mathbf{v}_2)^2)|$. By the triangle inequality, this is $\\leq |m_2(\\mathbf{v}_1) - m_2(\\mathbf{v}_2)| + |\\mu(\\mathbf{v}_1)^2 - \\mu(\\mathbf{v}_2)^2|$.\n2943:     *   The first term is bounded by $L_{m_2,M}(\\mathcal{S}) \\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2$.\n2944:     *   The second term, $|\\mu_1-\\mu_2||\\mu_1+\\mu_2|$, is bounded by $(L_{\\mu,M}(\\mathcal{S})\\|\\mathbf{v}_1-\\mathbf{v}_2\\|_2)(2V_{\\max})$.\n2945:     *   Thus, the Lipschitz constant for the variance, $L_{\\text{Var}}$, is bounded by $L_{m_2,M}(\\mathcal{S}) + 2V_{\\max} L_{\\mu,M}(\\mathcal{S})$.\n2946: 3.  **Chain Rule for Lipschitz Functions:** The Lipschitz constant of the composition is bounded by the product of the individual Lipschitz constants, $L(\\sigma\\'_{\\text{reg}} \\circ \\text{Var}) \\le L_{\\sigma\\'_{\\text{reg}}} \\cdot L_{\\text{Var}}$, which yields the expression for $L_{\\sigma',M}$.\n2947: **Q.E.D.**\n2948: :::\n2949: :::{prf:lemma} Structural Continuity of Statistical Properties\n2950: :label: lem-stats-structural-continuity\n2951: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The mean $\\mu(\\mathcal{S}, \\mathbf{v})$ and regularized standard deviation $\\sigma'(\\mathcal{S}, \\mathbf{v})$ are continuous with respect to changes in the swarm structure.\n2952: \n2953: $$\n2954: |\\mu(\\mathcal{S}_1, \\mathbf{v}) - \\mu(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2\n2955: $$\n2956: \n2957: $$\n2958: |\\sigma'(\\mathcal{S}_1, \\mathbf{v}) - \\sigma'(\\mathcal{S}_2, \\mathbf{v})| \\le L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot \\|\\mathbf{s}_1 - \\mathbf{s}_2\\|_2^2"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-stats-structural-continuity",
      "title": null,
      "start_line": 2959,
      "end_line": 2964,
      "header_lines": [
        2960
      ],
      "content_start": 2961,
      "content_end": 2963,
      "content": "2961: \n2962: $$\n2963: \\boxed{",
      "metadata": {
        "label": "proof-lem-stats-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2959: $$\n2960: where $L_{\\mu,S}$ is the axiomatic structural continuity function for the mean from [](#def-swarm-aggregation-operator-axiomatic) (see [](#lem-empirical-aggregator-properties) for the empirical constants), and $L_{\\sigma',S}$ is the derived structural continuity function for the regularized standard deviation, given by:\n2961: \n2962: $$\n2963: \\boxed{\n2964: L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2) := L_{\\sigma\\'_{\\text{reg}}} \\cdot \\left( L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2) \\right)"
    },
    {
      "directive_type": "theorem",
      "label": "thm-z-score-norm-bound",
      "title": "General Bound on the Norm of the Standardized Vector",
      "start_line": 2967,
      "end_line": 2978,
      "header_lines": [
        2968
      ],
      "content_start": 2969,
      "content_end": 2977,
      "content": "2969: :::\n2970: :::{prf:proof}\n2971: :label: proof-lem-stats-structural-continuity\n2972: **Proof.**\n2973: The proof is identical in structure to that of [](#lem-stats-value-continuity), but it uses the structural continuity functions ($L_{\\mu,S}$, $L_{m_2,S}$) from the aggregator axiom instead of the value-based Lipschitz constants. The change in variance due to structure is first shown to be bounded by $(L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max} L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2)) \\|\\mathbf{s}_1-\\mathbf{s}_2\\|_2^2$. This is then composed with the globally Lipschitz function $\\sigma\\'_{\\text{reg}}(\\cdot)$ (with Lipschitz constant $L_{\\sigma\\'_{\\text{reg}}}$), yielding the final result for $L_{\\sigma',S}$.\n2974: **Q.E.D.**\n2975: :::\n2976: #### 11.1.4 Theorem: General Bound on the Norm of the Standardized Vector\n2977: A key property of the standardization process is that the magnitude of the resulting standardized vector is algebraically bounded, regardless of the specific aggregation operator used, provided the operator produces a mean within the range of the input values. The following theorem establishes a universal bound for the squared L2-norm of this vector. This general result is crucial for obtaining robust continuity bounds for the full operator pipeline.",
      "metadata": {
        "label": "thm-z-score-norm-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "02_euclidean_gas"
      ],
      "raw_directive": "2967: \n2968: This structural continuity lemma is applied in {prf:ref}`02_euclidean_gas` for analyzing standardization error with respect to walker status changes.\n2969: :::\n2970: :::{prf:proof}\n2971: :label: proof-lem-stats-structural-continuity\n2972: **Proof.**\n2973: The proof is identical in structure to that of [](#lem-stats-value-continuity), but it uses the structural continuity functions ($L_{\\mu,S}$, $L_{m_2,S}$) from the aggregator axiom instead of the value-based Lipschitz constants. The change in variance due to structure is first shown to be bounded by $(L_{m_2,S}(\\mathcal{S}_1, \\mathcal{S}_2) + 2V_{\\max} L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2)) \\|\\mathbf{s}_1-\\mathbf{s}_2\\|_2^2$. This is then composed with the globally Lipschitz function $\\sigma\\'_{\\text{reg}}(\\cdot)$ (with Lipschitz constant $L_{\\sigma\\'_{\\text{reg}}}$), yielding the final result for $L_{\\sigma',S}$.\n2974: **Q.E.D.**\n2975: :::\n2976: #### 11.1.4 Theorem: General Bound on the Norm of the Standardized Vector\n2977: A key property of the standardization process is that the magnitude of the resulting standardized vector is algebraically bounded, regardless of the specific aggregation operator used, provided the operator produces a mean within the range of the input values. The following theorem establishes a universal bound for the squared L2-norm of this vector. This general result is crucial for obtaining robust continuity bounds for the full operator pipeline.\n2978: :::{prf:theorem} General Bound on the Norm of the Standardized Vector"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-z-score-norm-bound",
      "title": null,
      "start_line": 2979,
      "end_line": 3025,
      "header_lines": [
        2980
      ],
      "content_start": 2981,
      "content_end": 3024,
      "content": "2981: Let $\\mathbf{z}$ be the corresponding $k$-dimensional standardized vector, where each component is $z_i = (v_i - \\mu_{\\mathcal{A}}) / \\sigma'_{\\mathcal{A}}$ and the regularized standard deviation is $\\sigma'_{\\mathcal{A}} = \\sigma\\'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$ from [](#def-statistical-properties-measurement). Denote the minimal value of this map by $\\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\mathrm{std}}^2}$.\n2982: The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is strictly bounded by a constant that depends on the number of alive walkers and the global parameters:\n2983: \n2984: $$\n2985: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\varepsilon_{\\mathrm{std}}} \\right)^2\n2986: $$\n2987: \n2988: This universal bound on standardized vector norms is applied in {prf:ref}`02_euclidean_gas` for bounding the magnitude of standardized reward and distance scores in error analysis.\n2989: :::\n2990: :::{prf:proof}\n2991: :label: proof-thm-z-score-norm-bound\n2992: **Proof.**\n2993: The proof proceeds by first establishing a uniform bound on the magnitude of any single component of the standardized vector and then summing the squares of these bounds.\n2994: 1.  **Bound a Single Standardized Component:**\n2995:     The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is the sum of its squared components, $\\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2$. We first bound the absolute value of a single component, $|z_i|$.\n2996: \n2997: $$\n2998: |z_i| = \\left| \\frac{v_i - \\mu_{\\mathcal{A}}}{\\sigma'_{\\mathcal{A}}} \\right| = \\frac{|v_i - \\mu_{\\mathcal{A}}|}{|\\sigma'_{\\mathcal{A}}|}\n2999: $$\n3000: \n3001: 2.  **Bound the Numerator and Denominator:**\n3002:     *   **Numerator:** Using the triangle inequality, the numerator is bounded by the sum of the absolute values of its terms: $|v_i - \\mu_{\\mathcal{A}}| \\le |v_i| + |\\mu_{\\mathcal{A}}|$. By the problem's preconditions, the raw values are bounded by $|v_i| \\le V_{\\max}$. For any aggregation operator that is a convex combination of its inputs (such as the empirical mean), the resulting mean $\\mu_{\\mathcal{A}}$ will also be bounded by $V_{\\max}$. We assume this standard property holds, giving $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$. Therefore, the numerator is bounded by:\n3003: \n3004: $$\n3005: |v_i - \\mu_{\\mathcal{A}}| \\le V_{\\max} + V_{\\max} = 2V_{\\max}\n3006: $$\n3007: \n3008: *   **Denominator:** The regularized standard deviation obeys the floor $\\sigma'_{\\mathcal{A}} \\ge \\sigma'_{\\min\\,\\text{bound}}$ because the cubic patch is constant on $[0,\\kappa_{\\text{var,min}}]$ and nondecreasing thereafter. In particular, the denominator is strictly bounded below by this positive constant:\n3009: \n3010: $$\n3011: |\\sigma'_{\\mathcal{A}}| \\ge \\sigma'_{\\min\\,\\text{bound}}\n3012: $$\n3013: \n3014: 3.  **Combine for Component-wise Bound:**\n3015:     Combining the bounds for the numerator and denominator gives a uniform bound for the magnitude of any single standardized score:\n3016: \n3017: $$\n3018: |z_i| \\le \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\n3019: $$\n3020: \n3021: 4.  **Sum Over All Components:**\n3022:     The squared L2-norm is the sum of the squares of these components over the $k$ walkers in the alive set $\\mathcal{A}$.\n3023: \n3024: $$",
      "metadata": {
        "label": "proof-thm-z-score-norm-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "2979: :label: thm-z-score-norm-bound\n2980: Let $\\mathbf{v} = (v_i)_{i \\in \\mathcal{A}}$ be a $k$-dimensional vector of raw values from an alive set $\\mathcal{A}$ of size $k=|\\mathcal{A}| \\ge 1$. The raw values are bounded such that $|v_i| \\le V_{\\max}$. Let the statistical properties $(\\mu_{\\mathcal{A}}, \\sigma'_{\\mathcal{A}})$ be calculated using any valid **Swarm Aggregation Operator** $M$ that guarantees the mean is bounded by the values, i.e., $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$.\n2981: Let $\\mathbf{z}$ be the corresponding $k$-dimensional standardized vector, where each component is $z_i = (v_i - \\mu_{\\mathcal{A}}) / \\sigma'_{\\mathcal{A}}$ and the regularized standard deviation is $\\sigma'_{\\mathcal{A}} = \\sigma\\'_{\\text{reg}}(\\operatorname{Var}[\\mu_{\\mathbf{v}}])$ from [](#def-statistical-properties-measurement). Denote the minimal value of this map by $\\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\mathrm{std}}^2}$.\n2982: The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is strictly bounded by a constant that depends on the number of alive walkers and the global parameters:\n2983: \n2984: $$\n2985: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\varepsilon_{\\mathrm{std}}} \\right)^2\n2986: $$\n2987: \n2988: This universal bound on standardized vector norms is applied in {prf:ref}`02_euclidean_gas` for bounding the magnitude of standardized reward and distance scores in error analysis.\n2989: :::\n2990: :::{prf:proof}\n2991: :label: proof-thm-z-score-norm-bound\n2992: **Proof.**\n2993: The proof proceeds by first establishing a uniform bound on the magnitude of any single component of the standardized vector and then summing the squares of these bounds.\n2994: 1.  **Bound a Single Standardized Component:**\n2995:     The squared Euclidean norm of the standardized vector $\\mathbf{z}$ is the sum of its squared components, $\\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2$. We first bound the absolute value of a single component, $|z_i|$.\n2996: \n2997: $$\n2998: |z_i| = \\left| \\frac{v_i - \\mu_{\\mathcal{A}}}{\\sigma'_{\\mathcal{A}}} \\right| = \\frac{|v_i - \\mu_{\\mathcal{A}}|}{|\\sigma'_{\\mathcal{A}}|}\n2999: $$\n3000: \n3001: 2.  **Bound the Numerator and Denominator:**\n3002:     *   **Numerator:** Using the triangle inequality, the numerator is bounded by the sum of the absolute values of its terms: $|v_i - \\mu_{\\mathcal{A}}| \\le |v_i| + |\\mu_{\\mathcal{A}}|$. By the problem's preconditions, the raw values are bounded by $|v_i| \\le V_{\\max}$. For any aggregation operator that is a convex combination of its inputs (such as the empirical mean), the resulting mean $\\mu_{\\mathcal{A}}$ will also be bounded by $V_{\\max}$. We assume this standard property holds, giving $|\\mu_{\\mathcal{A}}| \\le V_{\\max}$. Therefore, the numerator is bounded by:\n3003: \n3004: $$\n3005: |v_i - \\mu_{\\mathcal{A}}| \\le V_{\\max} + V_{\\max} = 2V_{\\max}\n3006: $$\n3007: \n3008: *   **Denominator:** The regularized standard deviation obeys the floor $\\sigma'_{\\mathcal{A}} \\ge \\sigma'_{\\min\\,\\text{bound}}$ because the cubic patch is constant on $[0,\\kappa_{\\text{var,min}}]$ and nondecreasing thereafter. In particular, the denominator is strictly bounded below by this positive constant:\n3009: \n3010: $$\n3011: |\\sigma'_{\\mathcal{A}}| \\ge \\sigma'_{\\min\\,\\text{bound}}\n3012: $$\n3013: \n3014: 3.  **Combine for Component-wise Bound:**\n3015:     Combining the bounds for the numerator and denominator gives a uniform bound for the magnitude of any single standardized score:\n3016: \n3017: $$\n3018: |z_i| \\le \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\n3019: $$\n3020: \n3021: 4.  **Sum Over All Components:**\n3022:     The squared L2-norm is the sum of the squares of these components over the $k$ walkers in the alive set $\\mathcal{A}$.\n3023: \n3024: $$\n3025: \\|\\mathbf{z}\\|_2^2 = \\sum_{i \\in \\mathcal{A}} z_i^2 \\le \\sum_{i \\in \\mathcal{A}} \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2"
    },
    {
      "directive_type": "theorem",
      "label": "thm-asymptotic-std-dev-structural-continuity",
      "title": "Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation",
      "start_line": 3028,
      "end_line": 3043,
      "header_lines": [
        3029
      ],
      "content_start": 3030,
      "content_end": 3042,
      "content": "3030: $$\n3031: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3032: $$\n3033: \n3034: This provides a general bound on the norm of the standardized vector that is valid for any compliant aggregation operator.\n3035: **Q.E.D.**\n3036: :::\n3037: #### 11.1.5 Asymptotic Behavior of Moment Continuity\n3038: The axiomatic structural growth exponents ($p_{\\mu,S}, p_{m_2,S}$) of an aggregation operator determine the asymptotic behavior of the continuity for the derived statistical moments. The following theorem establishes how these base exponents propagate to the regularized standard deviation function, a critical step in analyzing the system's stability for large swarms.\n3039: :::{prf:theorem} Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation\n3040: :label: thm-asymptotic-std-dev-structural-continuity\n3041: Let the chosen swarm aggregation operator $M$ have structural growth exponents $p_{\\mu,S}$ and $p_{m_2,S}$ for its mean and second moment, respectively, as defined in [](#def-swarm-aggregation-operator-axiomatic). Let $L_{\\sigma',S}(\\mathcal{S})$ be the structural Lipschitz function for the regularized standard deviation, as derived in [](#lem-stats-structural-continuity).\n3042: The asymptotic behavior of this function for large swarm size $k = |\\mathcal{A}(\\mathcal{S})|$ is determined by the larger of the two structural growth exponents. Let the worst-case exponent be:",
      "metadata": {
        "label": "thm-asymptotic-std-dev-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3028: Since the bound is the same for all $k$ components, we have:\n3029: \n3030: $$\n3031: \\|\\mathbf{z}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3032: $$\n3033: \n3034: This provides a general bound on the norm of the standardized vector that is valid for any compliant aggregation operator.\n3035: **Q.E.D.**\n3036: :::\n3037: #### 11.1.5 Asymptotic Behavior of Moment Continuity\n3038: The axiomatic structural growth exponents ($p_{\\mu,S}, p_{m_2,S}$) of an aggregation operator determine the asymptotic behavior of the continuity for the derived statistical moments. The following theorem establishes how these base exponents propagate to the regularized standard deviation function, a critical step in analyzing the system's stability for large swarms.\n3039: :::{prf:theorem} Asymptotic Behavior of the Structural Continuity for the Regularized Standard Deviation\n3040: :label: thm-asymptotic-std-dev-structural-continuity\n3041: Let the chosen swarm aggregation operator $M$ have structural growth exponents $p_{\\mu,S}$ and $p_{m_2,S}$ for its mean and second moment, respectively, as defined in [](#def-swarm-aggregation-operator-axiomatic). Let $L_{\\sigma',S}(\\mathcal{S})$ be the structural Lipschitz function for the regularized standard deviation, as derived in [](#lem-stats-structural-continuity).\n3042: The asymptotic behavior of this function for large swarm size $k = |\\mathcal{A}(\\mathcal{S})|$ is determined by the larger of the two structural growth exponents. Let the worst-case exponent be:\n3043: "
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-asymptotic-std-dev-structural-continuity",
      "title": null,
      "start_line": 3044,
      "end_line": 3081,
      "header_lines": [
        3045
      ],
      "content_start": 3046,
      "content_end": 3080,
      "content": "3046: $$\n3047: \n3048: Then, for large $k$, the structural Lipschitz function for the standard deviation is governed by this worst-case exponent:\n3049: \n3050: $$\n3051: L_{\\sigma',S}(k) \\propto k^{p_{\\text{worst-case}}}\n3052: $$\n3053: \n3054: :::\n3055: :::{prf:proof}\n3056: :label: proof-thm-asymptotic-std-dev-structural-continuity\n3057: **Proof.**\n3058: The proof proceeds by analyzing the asymptotic form of the bound for the structural Lipschitz constant of the regularized standard deviation, $L_{\\sigma',S}$, which was established in [](#lem-stats-structural-continuity).\n3059: 1.  **Recall the Bound for $L_{\\sigma',S}$:**\n3060:     From [](#lem-stats-structural-continuity), the structural Lipschitz constant is bounded by:\n3061: \n3062: $$\n3063: L_{\\sigma',S}(\\mathcal{S}) \\le \\frac{L_{m_2,S}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S})}{2\\varepsilon_{\\mathrm{std}}}\n3064: $$\n3065: \n3066: 2.  **Analyze the Asymptotic Behavior of the Numerator:**\n3067:     We analyze the behavior of the numerator for a large number of alive walkers, $k = |\\mathcal{A}(\\mathcal{S})|$. By the axiomatic definition of the structural growth exponents ([](#def-swarm-aggregation-operator-axiomatic)), the structural Lipschitz functions have the following asymptotic forms:\n3068:     *   $L_{\\mu,S}(k) \\propto k^{p_{\\mu,S}}$\n3069:     *   $L_{m_2,S}(k) \\propto k^{p_{m_2,S}}$\n3070:     The numerator is therefore a sum of two terms with power-law growth:\n3071: \n3072: $$\n3073: L_{m_2,S}(k) + 2V_{\\max}L_{\\mu,S}(k) \\propto k^{p_{m_2,S}} + C \\cdot k^{p_{\\mu,S}}\n3074: $$\n3075: \n3076: where $C = 2V_{\\max}$ is a constant.\n3077: 3.  **Identify the Dominant Term:**\n3078:     In the limit of large $k$, the behavior of a sum of power-law terms is dominated by the term with the largest exponent. Therefore, the asymptotic behavior of the numerator is proportional to $k$ raised to the power of the maximum of the two exponents.\n3079: \n3080: $$",
      "metadata": {
        "label": "proof-thm-asymptotic-std-dev-structural-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3044: $$\n3045: p_{\\text{worst-case}} := \\max(p_{\\mu,S}, p_{m_2,S})\n3046: $$\n3047: \n3048: Then, for large $k$, the structural Lipschitz function for the standard deviation is governed by this worst-case exponent:\n3049: \n3050: $$\n3051: L_{\\sigma',S}(k) \\propto k^{p_{\\text{worst-case}}}\n3052: $$\n3053: \n3054: :::\n3055: :::{prf:proof}\n3056: :label: proof-thm-asymptotic-std-dev-structural-continuity\n3057: **Proof.**\n3058: The proof proceeds by analyzing the asymptotic form of the bound for the structural Lipschitz constant of the regularized standard deviation, $L_{\\sigma',S}$, which was established in [](#lem-stats-structural-continuity).\n3059: 1.  **Recall the Bound for $L_{\\sigma',S}$:**\n3060:     From [](#lem-stats-structural-continuity), the structural Lipschitz constant is bounded by:\n3061: \n3062: $$\n3063: L_{\\sigma',S}(\\mathcal{S}) \\le \\frac{L_{m_2,S}(\\mathcal{S}) + 2V_{\\max}L_{\\mu,S}(\\mathcal{S})}{2\\varepsilon_{\\mathrm{std}}}\n3064: $$\n3065: \n3066: 2.  **Analyze the Asymptotic Behavior of the Numerator:**\n3067:     We analyze the behavior of the numerator for a large number of alive walkers, $k = |\\mathcal{A}(\\mathcal{S})|$. By the axiomatic definition of the structural growth exponents ([](#def-swarm-aggregation-operator-axiomatic)), the structural Lipschitz functions have the following asymptotic forms:\n3068:     *   $L_{\\mu,S}(k) \\propto k^{p_{\\mu,S}}$\n3069:     *   $L_{m_2,S}(k) \\propto k^{p_{m_2,S}}$\n3070:     The numerator is therefore a sum of two terms with power-law growth:\n3071: \n3072: $$\n3073: L_{m_2,S}(k) + 2V_{\\max}L_{\\mu,S}(k) \\propto k^{p_{m_2,S}} + C \\cdot k^{p_{\\mu,S}}\n3074: $$\n3075: \n3076: where $C = 2V_{\\max}$ is a constant.\n3077: 3.  **Identify the Dominant Term:**\n3078:     In the limit of large $k$, the behavior of a sum of power-law terms is dominated by the term with the largest exponent. Therefore, the asymptotic behavior of the numerator is proportional to $k$ raised to the power of the maximum of the two exponents.\n3079: \n3080: $$\n3081: \\text{Numerator}(k) \\propto k^{\\max(p_{\\mu,S}, p_{m_2,S})} = k^{p_{\\text{worst-case}}}"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-standardization-operator-unified-mean-square-continuity",
      "title": null,
      "start_line": 3099,
      "end_line": 3112,
      "header_lines": [
        3100
      ],
      "content_start": 3101,
      "content_end": 3111,
      "content": "3101: :label: thm-standardization-operator-unified-mean-square-continuity\n3102: Let $S_1$ and $S_2$ be two swarm states. Let the standardization operator $z$ use a raw value operator $V$ and a swarm aggregation operator $M$. Let $z_1 = z(S_1, V, M)$ and $z_2 = z(S_2, V, M)$ be the corresponding standardized vectors resulting from the full stochastic process.\n3103: The expected squared Euclidean distance between the output vectors $z_1$ and $z_2$ is bounded by the sum of two fundamental error components:\n3104: \n3105: $$\n3106: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\le 2 \\cdot E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 2 \\cdot E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3107: $$\n3108: \n3109: where the error components are formally defined in the following sections.\n3110: :::{prf:proof}\n3111: :label: proof-thm-standardization-operator-unified-mean-square-continuity",
      "metadata": {
        "label": "proof-thm-standardization-operator-unified-mean-square-continuity"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3099: By bounding the expectation of these two components separately, we establish a unified and robust mean-square continuity bound for the entire operator.\n3100: #### 11.2.1. Theorem: Decomposition of Mean-Square Standardization Error\n3101: :label: thm-standardization-operator-unified-mean-square-continuity\n3102: Let $S_1$ and $S_2$ be two swarm states. Let the standardization operator $z$ use a raw value operator $V$ and a swarm aggregation operator $M$. Let $z_1 = z(S_1, V, M)$ and $z_2 = z(S_2, V, M)$ be the corresponding standardized vectors resulting from the full stochastic process.\n3103: The expected squared Euclidean distance between the output vectors $z_1$ and $z_2$ is bounded by the sum of two fundamental error components:\n3104: \n3105: $$\n3106: \\mathbb{E}[\\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2] \\le 2 \\cdot E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) + 2 \\cdot E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2)\n3107: $$\n3108: \n3109: where the error components are formally defined in the following sections.\n3110: :::{prf:proof}\n3111: :label: proof-thm-standardization-operator-unified-mean-square-continuity\n3112: **Proof.**"
    },
    {
      "directive_type": "theorem",
      "label": "thm-standardization-value-error-mean-square",
      "title": "Bounding the Expected Squared Value Error",
      "start_line": 3135,
      "end_line": 3147,
      "header_lines": [
        3136
      ],
      "content_start": 3137,
      "content_end": 3146,
      "content": "3137: \n3138: $$\n3139: E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) := \\mathbb{E}[\\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2]\n3140: $$\n3141: \n3142: where the expectation is taken over the distribution of the raw value vector $\\mathbf{v}_2 \\sim V(\\mathcal{S}_2)$. Its explicit bound is derived in [](#thm-standardization-structural-error-mean-square).\n3143: #### 11.2.2. Bounding the Expected Squared Value Error ($E^2_{V,ms}$)\n3144: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Value Error**, $E^2_{V,ms}$. This term quantifies the component of the standardization operator's error that arises exclusively from the change in the underlying distribution of the raw value vector, while the swarm's structure is held constant.\n3145: The central result is the following theorem, which establishes that the expected output error of the standardization pipeline is bounded by the expected input error from the raw value operator.\n3146: :::{prf:theorem} Bounding the Expected Squared Value Error",
      "metadata": {
        "label": "thm-standardization-value-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [
        "proof-thm-standardization-value-error-mean-square"
      ],
      "raw_directive": "3135: :label: def-expected-squared-structural-error\n3136: The **Expected Squared Structural Error**, $E^2_{S,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$, bounds the expected error in the standardization operator's output arising from the change in the swarm structure from $\\mathcal{S}_1$ to $\\mathcal{S}_2$, evaluated using the second swarm's raw value vector $\\mathbf{v}_2$. It is defined as:\n3137: \n3138: $$\n3139: E_{S,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) := \\mathbb{E}[\\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2]\n3140: $$\n3141: \n3142: where the expectation is taken over the distribution of the raw value vector $\\mathbf{v}_2 \\sim V(\\mathcal{S}_2)$. Its explicit bound is derived in [](#thm-standardization-structural-error-mean-square).\n3143: #### 11.2.2. Bounding the Expected Squared Value Error ($E^2_{V,ms}$)\n3144: This section provides a rigorous, self-contained proof for the bound on the **Expected Squared Value Error**, $E^2_{V,ms}$. This term quantifies the component of the standardization operator's error that arises exclusively from the change in the underlying distribution of the raw value vector, while the swarm's structure is held constant.\n3145: The central result is the following theorem, which establishes that the expected output error of the standardization pipeline is bounded by the expected input error from the raw value operator.\n3146: :::{prf:theorem} Bounding the Expected Squared Value Error\n3147: :label: thm-standardization-value-error-mean-square"
    },
    {
      "directive_type": "proof",
      "label": "proof-line-3101",
      "title": null,
      "start_line": 3184,
      "end_line": 3210,
      "header_lines": [
        3185
      ],
      "content_start": 3186,
      "content_end": 3209,
      "content": "3186: \\Delta_{\\text{fluc}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3187: $$\n3188: \n3189: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3190: \n3191: $$\n3192: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3193: $$\n3194: \n3195: :::{prf:proof}\n3196: :label: proof-line-3101\n3197: **Proof.**\n3198: The proof of the decomposition is a direct algebraic manipulation.\n3199: 1.  **Start with the Definition of the Error.**\n3200:     The total error is $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2 = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}$.\n3201: 2.  **Decomposition.**\n3202:     We add and subtract terms to isolate the desired components.\n3203: \n3204: $$\n3205: \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3206: $$\n3207: \n3208: $$\n3209: = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)",
      "metadata": {
        "label": "proof-line-3101"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3184: \n3185: $$\n3186: \\Delta_{\\text{fluc}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3187: $$\n3188: \n3189: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3190: \n3191: $$\n3192: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3193: $$\n3194: \n3195: :::{prf:proof}\n3196: :label: proof-line-3101\n3197: **Proof.**\n3198: The proof of the decomposition is a direct algebraic manipulation.\n3199: 1.  **Start with the Definition of the Error.**\n3200:     The total error is $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2 = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}$.\n3201: 2.  **Decomposition.**\n3202:     We add and subtract terms to isolate the desired components.\n3203: \n3204: $$\n3205: \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3206: $$\n3207: \n3208: $$\n3209: = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3210: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-direct-value-shift-bound",
      "title": null,
      "start_line": 3220,
      "end_line": 3225,
      "header_lines": [
        3221
      ],
      "content_start": 3222,
      "content_end": 3224,
      "content": "3222: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3223: :label: lem-sub-direct-value-shift-bound\n3224: Let $\\mathcal{S}$ be a fixed swarm state. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors for the alive set. The squared Euclidean norm of the direct shift error component, $\\Delta_{\\text{direct}} = (\\mathbf{v}_1 - \\mathbf{v}_2) / \\sigma'_1$, is bounded as follows:",
      "metadata": {
        "label": "proof-lem-sub-direct-value-shift-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3220: **Q.E.D.**\n3221: :::\n3222: ##### 11.2.2.2. Sub-Lemma: Bounding the Direct Shift Error Component\n3223: :label: lem-sub-direct-value-shift-bound\n3224: Let $\\mathcal{S}$ be a fixed swarm state. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors for the alive set. The squared Euclidean norm of the direct shift error component, $\\Delta_{\\text{direct}} = (\\mathbf{v}_1 - \\mathbf{v}_2) / \\sigma'_1$, is bounded as follows:\n3225: "
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-mean-shift-bound",
      "title": null,
      "start_line": 3235,
      "end_line": 3240,
      "header_lines": [
        3236
      ],
      "content_start": 3237,
      "content_end": 3239,
      "content": "3237: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3238: :label: lem-sub-mean-shift-bound\n3239: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors. The squared Euclidean norm of the mean shift error component, $\\Delta_{\\text{mean}} = ((\\mu_2 - \\mu_1) / \\sigma'_1) \\cdot \\mathbf{1}$, is bounded as follows:",
      "metadata": {
        "label": "proof-lem-sub-mean-shift-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3235: **Q.E.D.**\n3236: :::\n3237: ##### 11.2.2.3. Sub-Lemma: Bounding the Mean Shift Error Component\n3238: :label: lem-sub-mean-shift-bound\n3239: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors. The squared Euclidean norm of the mean shift error component, $\\Delta_{\\text{mean}} = ((\\mu_2 - \\mu_1) / \\sigma'_1) \\cdot \\mathbf{1}$, is bounded as follows:\n3240: "
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-statistical-fluctuation-bound",
      "title": null,
      "start_line": 3250,
      "end_line": 3259,
      "header_lines": [
        3251
      ],
      "content_start": 3252,
      "content_end": 3258,
      "content": "3252: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3253: :label: lem-sub-statistical-fluctuation-bound\n3254: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors with components bounded by $V_{\\max}$. The squared Euclidean norm of the statistical fluctuation error component, $\\Delta_{\\text{fluc}} = \\mathbf{z}_2 \\cdot ((\\sigma'_2 - \\sigma'_1) / \\sigma'_1)$, is bounded as follows:\n3255: \n3256: $$\n3257: \\|\\Delta_{\\text{fluc}}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3258: $$",
      "metadata": {
        "label": "proof-lem-sub-statistical-fluctuation-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3250: **Q.E.D.**\n3251: :::\n3252: ##### 11.2.2.4. Sub-Lemma: Bounding the Statistical Fluctuation Error Component\n3253: :label: lem-sub-statistical-fluctuation-bound\n3254: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**. Let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two raw value vectors with components bounded by $V_{\\max}$. The squared Euclidean norm of the statistical fluctuation error component, $\\Delta_{\\text{fluc}} = \\mathbf{z}_2 \\cdot ((\\sigma'_2 - \\sigma'_1) / \\sigma'_1)$, is bounded as follows:\n3255: \n3256: $$\n3257: \\|\\Delta_{\\text{fluc}}\\|_2^2 \\le k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min,\\text{bound}}} \\right)^2 \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3258: $$\n3259: "
    },
    {
      "directive_type": "definition",
      "label": "def-value-error-coefficients",
      "title": "Value Error Coefficients",
      "start_line": 3261,
      "end_line": 3291,
      "header_lines": [
        3262
      ],
      "content_start": 3264,
      "content_end": 3290,
      "content": "3264: The squared norm is $\\|z_2\\|_2^2 \\cdot (\\sigma'_2 - \\sigma'_1)^2 / (\\sigma'_1)^2$. We bound each term:\n3265: - From [](#thm-z-score-norm-bound), $\\|z_2\\|_2^2 \\leq k\\,(2V_{\\max}/\\sigma'_{\\min,\\text{bound}})^2$.\n3266: - From [](#lem-stats-value-continuity), $(\\sigma'_2 - \\sigma'_1)^2 \\leq (L_{\\sigma',M}(S))^2 \\|v_1 - v_2\\|_2^2$.\n3267: - The term $1/(\\sigma'_1)^2$ is bounded by $1/(\\sigma'_{\\min,\\text{bound}})^2$.\n3268: Combining these three bounds yields the final result.\n3269: **Q.E.D.**\n3270: :::\n3271: ##### 11.2.2.5. Definition: Value Error Coefficients\n3272: :::{prf:definition} Value Error Coefficients\n3273: :label: def-value-error-coefficients\n3274: \n3275: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**, and let **M** be the chosen **Swarm Aggregation Operator**. The coefficients for the value error bounds are defined as follows:\n3276: \n3277: 1.  **The Direct Shift Coefficient ($C_V,direct$):**\n3278: \n3279: $$\n3280: C_{V,\\text{direct}} := \\frac{1}{\\sigma'^2_{\\min,\\text{bound}}}\n3281: $$\n3282: \n3283: 2.  **The Mean Shift Coefficient ($C_V,\\mu(S)$):**\n3284: \n3285: $$\n3286: C_{V,\\mu}(\\mathcal{S}) := \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min,\\text{bound}}}\n3287: $$\n3288: \n3289: 3.  **The Statistical Fluctuation Coefficient ($C_V,\\sigma(S)$):**\n3290: ",
      "metadata": {
        "label": "def-value-error-coefficients"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3261: :::{prf:proof}\n3262: :label: proof-lem-sub-statistical-fluctuation-bound\n3263: **Proof.**\n3264: The squared norm is $\\|z_2\\|_2^2 \\cdot (\\sigma'_2 - \\sigma'_1)^2 / (\\sigma'_1)^2$. We bound each term:\n3265: - From [](#thm-z-score-norm-bound), $\\|z_2\\|_2^2 \\leq k\\,(2V_{\\max}/\\sigma'_{\\min,\\text{bound}})^2$.\n3266: - From [](#lem-stats-value-continuity), $(\\sigma'_2 - \\sigma'_1)^2 \\leq (L_{\\sigma',M}(S))^2 \\|v_1 - v_2\\|_2^2$.\n3267: - The term $1/(\\sigma'_1)^2$ is bounded by $1/(\\sigma'_{\\min,\\text{bound}})^2$.\n3268: Combining these three bounds yields the final result.\n3269: **Q.E.D.**\n3270: :::\n3271: ##### 11.2.2.5. Definition: Value Error Coefficients\n3272: :::{prf:definition} Value Error Coefficients\n3273: :label: def-value-error-coefficients\n3274: \n3275: Let $\\mathcal{S}$ be a fixed swarm state with alive set $\\mathcal{A}$ of size **k**, and let **M** be the chosen **Swarm Aggregation Operator**. The coefficients for the value error bounds are defined as follows:\n3276: \n3277: 1.  **The Direct Shift Coefficient ($C_V,direct$):**\n3278: \n3279: $$\n3280: C_{V,\\text{direct}} := \\frac{1}{\\sigma'^2_{\\min,\\text{bound}}}\n3281: $$\n3282: \n3283: 2.  **The Mean Shift Coefficient ($C_V,\\mu(S)$):**\n3284: \n3285: $$\n3286: C_{V,\\mu}(\\mathcal{S}) := \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min,\\text{bound}}}\n3287: $$\n3288: \n3289: 3.  **The Statistical Fluctuation Coefficient ($C_V,\\sigma(S)$):**\n3290: \n3291: $$"
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-thm-standardization-value-error-mean-square",
      "title": "of {prf:ref}`thm-standardization-value-error-mean-square`",
      "start_line": 3294,
      "end_line": 3304,
      "header_lines": [
        3295
      ],
      "content_start": 3296,
      "content_end": 3303,
      "content": "3296: \n3297: $$\n3298: C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3299: $$\n3300: \n3301: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively.\n3302: :::\n3303: ##### 11.2.2.6. Proof of Theorem 11.2.2",
      "metadata": {
        "label": "proof-proof-thm-standardization-value-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3294: \n3295: 4.  **The Total Value Error Coefficient ($C_V,total(S)$):** The composite coefficient that bounds the total squared error.\n3296: \n3297: $$\n3298: C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3299: $$\n3300: \n3301: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively.\n3302: :::\n3303: ##### 11.2.2.6. Proof of Theorem 11.2.2\n3304: :label: proof-thm-standardization-value-error-mean-square"
    },
    {
      "directive_type": "proof",
      "label": "proof-proof-thm-standardization-value-error-mean-square-2",
      "title": null,
      "start_line": 3305,
      "end_line": 3332,
      "header_lines": [
        3306
      ],
      "content_start": 3307,
      "content_end": 3331,
      "content": "3307: Let $S_1$ be a fixed swarm state. Let $V$ be a raw value operator that is mean-square continuous, such that $\\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2] \\le F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ for some deterministic bounding function $F_{V,ms}$.\n3308: The expected squared value error is bounded as follows:\n3309: \n3310: $$\n3311: E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n3312: $$\n3313: \n3314: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient** from [](#def-lipschitz-value-error-coefficients).\n3315: :::\n3316: :::{prf:proof}\n3317: :label: proof-proof-thm-standardization-value-error-mean-square-2\n3318: **Proof.**\n3319: 1.  **Start with the Decomposed Error Bound.**\n3320:     From [](#sub-lem-value-error-decomposition), we have a deterministic bound on the squared error for any specific realization of $v_1$ and $v_2$:\n3321: \n3322: $$\n3323: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3324: $$\n3325: \n3326: 2.  **Substitute Deterministic Component Bounds.**\n3327:     We substitute the deterministic bounds for each component from the preceding sub-lemmas, which all relate the component error to $\\|v_1 - v_2\\|_2^2$. Factoring out this term and using the definitions from [](#def-lipschitz-value-error-coefficients) gives:\n3328: \n3329: $$\n3330: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3331: $$",
      "metadata": {
        "label": "proof-proof-thm-standardization-value-error-mean-square-2"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3305: :::{prf:proof} of {prf:ref}`thm-standardization-value-error-mean-square`\n3306: :label: proof-proof-thm-standardization-value-error-mean-square\n3307: Let $S_1$ be a fixed swarm state. Let $V$ be a raw value operator that is mean-square continuous, such that $\\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2] \\le F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)$ for some deterministic bounding function $F_{V,ms}$.\n3308: The expected squared value error is bounded as follows:\n3309: \n3310: $$\n3311: E_{V,ms}^2(\\mathcal{S}_1, \\mathcal{S}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot F_{V,ms}(\\mathcal{S}_1, \\mathcal{S}_2)\n3312: $$\n3313: \n3314: where $C_{V,\\text{total}}(\\mathcal{S}_1)$ is the **Total Value Error Coefficient** from [](#def-lipschitz-value-error-coefficients).\n3315: :::\n3316: :::{prf:proof}\n3317: :label: proof-proof-thm-standardization-value-error-mean-square-2\n3318: **Proof.**\n3319: 1.  **Start with the Decomposed Error Bound.**\n3320:     From [](#sub-lem-value-error-decomposition), we have a deterministic bound on the squared error for any specific realization of $v_1$ and $v_2$:\n3321: \n3322: $$\n3323: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{fluc}}\\|_2^2 \\right)\n3324: $$\n3325: \n3326: 2.  **Substitute Deterministic Component Bounds.**\n3327:     We substitute the deterministic bounds for each component from the preceding sub-lemmas, which all relate the component error to $\\|v_1 - v_2\\|_2^2$. Factoring out this term and using the definitions from [](#def-lipschitz-value-error-coefficients) gives:\n3328: \n3329: $$\n3330: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3331: $$\n3332: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-standardization-structural-error-mean-square",
      "title": "Bounding the Expected Squared Structural Error",
      "start_line": 3335,
      "end_line": 3344,
      "header_lines": [
        3336
      ],
      "content_start": 3337,
      "content_end": 3343,
      "content": "3337: \\mathbb{E}[\\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2] \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2]\n3338: $$\n3339: \n3340: 4.  **Apply the Mean-Square Continuity Axiom for Raw Values.**\n3341:     By axiom ([](#axiom-raw-value-mean-square-continuity)), $E[\\|v_1 - v_2\\|_2^2]$ is bounded by $F_{V,ms}$. Substituting this gives the final result.\n3342: **Q.E.D.**\n3343: :::",
      "metadata": {
        "label": "thm-standardization-structural-error-mean-square"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3335: \n3336: $$\n3337: \\mathbb{E}[\\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2] \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\mathbb{E}[\\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2]\n3338: $$\n3339: \n3340: 4.  **Apply the Mean-Square Continuity Axiom for Raw Values.**\n3341:     By axiom ([](#axiom-raw-value-mean-square-continuity)), $E[\\|v_1 - v_2\\|_2^2]$ is bounded by $F_{V,ms}$. Substituting this gives the final result.\n3342: **Q.E.D.**\n3343: :::\n3344: #### 11.2.3. Bounding the Expected Squared Structural Error ($E^2_{S,ms}$)"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-structural-error-decomposition",
      "title": null,
      "start_line": 3358,
      "end_line": 3363,
      "header_lines": [
        3359
      ],
      "content_start": 3360,
      "content_end": 3362,
      "content": "3360: The total structural error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of two orthogonal components, and its squared norm is the sum of the squared norms of the components:\n3361: \n3362: $$",
      "metadata": {
        "label": "proof-lem-sub-structural-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3358: :label: lem-sub-structural-error-decomposition\n3359: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states with alive sets $\\mathcal{A}_1$ and $\\mathcal{A}_2$. Let $\\mathbf{z}_1 = \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v})$ and $\\mathbf{z}_2 = \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v})$ be the corresponding N-dimensional standardized vectors.\n3360: The total structural error vector, $\\Delta\\mathbf{z} = \\mathbf{z}_1 - \\mathbf{z}_2$, can be expressed as the sum of two orthogonal components, and its squared norm is the sum of the squared norms of the components:\n3361: \n3362: $$\n3363: \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2"
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-direct-structural-error",
      "title": null,
      "start_line": 3372,
      "end_line": 3377,
      "header_lines": [
        3373
      ],
      "content_start": 3374,
      "content_end": 3376,
      "content": "3374: :::\n3375: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3376: :label: lem-sub-direct-structural-error",
      "metadata": {
        "label": "proof-lem-sub-direct-structural-error"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3372: The proof follows from partitioning the sum of squared errors over the N walker indices into a sum over walkers whose status changes and a sum over walkers whose status is stable. These two sets of indices are disjoint. The two corresponding error vectors therefore have disjoint support, are orthogonal, and the squared norm of their sum is the sum of their squared norms.\n3373: **Q.E.D.**\n3374: :::\n3375: ##### 11.2.3.2. Sub-Lemma: Bounding the Direct Structural Error Component\n3376: :label: lem-sub-direct-structural-error\n3377: Let $\\mathbf{v}$ be a fixed raw value vector with components bounded by $V_{\\max}$. The squared Euclidean norm of the direct structural error component, $\\|\\Delta_{\\text{direct}}\\|^2$, is bounded by the number of status changes $n_c$."
    },
    {
      "directive_type": "proof",
      "label": "proof-lem-sub-indirect-structural-error",
      "title": null,
      "start_line": 3387,
      "end_line": 3398,
      "header_lines": [
        3388
      ],
      "content_start": 3389,
      "content_end": 3397,
      "content": "3389: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3390: :label: lem-sub-indirect-structural-error\n3391: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The squared Euclidean norm of the indirect structural error component, $\\|\\Delta_{\\text{indirect}}\\|^2$, is bounded as follows:\n3392: \n3393: $$\n3394: \\|\\Delta_{\\text{indirect}}\\|_2^2 \\le C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3395: $$\n3396: \n3397: where $C_{S,indirect}$ is the **Total Indirect Structural Error Coefficient**.",
      "metadata": {
        "label": "proof-lem-sub-indirect-structural-error"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3387: **Q.E.D.**\n3388: :::\n3389: ##### 11.2.3.3. Sub-Lemma: Bounding the Indirect Structural Error Component\n3390: :label: lem-sub-indirect-structural-error\n3391: Let $\\mathbf{v}$ be a fixed raw value vector. Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states. The squared Euclidean norm of the indirect structural error component, $\\|\\Delta_{\\text{indirect}}\\|^2$, is bounded as follows:\n3392: \n3393: $$\n3394: \\|\\Delta_{\\text{indirect}}\\|_2^2 \\le C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3395: $$\n3396: \n3397: where $C_{S,indirect}$ is the **Total Indirect Structural Error Coefficient**.\n3398: :::{prf:proof}"
    },
    {
      "directive_type": "theorem",
      "label": "thm-deterministic-error-decomposition",
      "title": "Decomposition of the Total Standardization Error",
      "start_line": 3462,
      "end_line": 3484,
      "header_lines": [
        3463
      ],
      "content_start": 3464,
      "content_end": 3483,
      "content": "3464: 1.  **Regime 1: Normal Operation (Low Attrition).**\n3465:     If the number of status changes $n_c$ is small, the structural error terms are bounded or vanish for large $k_1$. The system's stability is dominated by the value error, which is **constant with respect to swarm size** and scales with $1/\\sigma'^2_{\\min,\\text{bound}}$ and $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. When the variance floor is much smaller than the smoothing parameter ($\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$), this reduces to the familiar $O(\\varepsilon_{\\mathrm{std}}^{-6})$ sensitivity.\n3466: 2.  **Regime 2: Catastrophic Collapse.**\n3467:     If a significant fraction of the swarm dies, such that $n_c \\propto k_1$, then the total error **grows linearly with the initial swarm size** with coefficients proportional to $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. In the $\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$ regime this again matches the $O(k_1\\varepsilon_{\\mathrm{std}}^{-6})$ scaling.\n3468: ### 11.3 Deterministic Lipschitz Continuity of the Patched Standardization Operator\n3469: The introduction of the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)) ($\\sigma\\'_{\\text{reg}}$) in Section 11.1.2 provides a critical stability guarantee that is stronger than mean-square continuity. By ensuring the denominator of the standardization formula is a globally Lipschitz function of the raw value variance, the pathological sensitivity near zero-variance states is eliminated. This, in turn, enables a deterministic, worst-case **global continuity with a Lipschitz\u2013H\u00f6lder modulus** for the entire N-Dimensional Standardization Operator.\n3470: This property is a non-negotiable prerequisite for certain powerful long-term convergence results, such as those derived from Feynman-Kac particle system theory. The following sections provide a rigorous, self-contained proof of this property. The strategy is to deterministically decompose the total error vector, $\\Deltaz = z(S_1, v_1, M) - z(S_2, v_2, M)$, into a series of manageable components and to bound the L2-norm of each component by a term proportional to the N-Particle Displacement Metric and the L2-norm of the raw value difference.\n3471: #### 11.3.1 Theorem: Decomposition of the Total Standardization Error\n3472: To establish the joint Lipschitz continuity of the standardization operator with respect to both the swarm state **S** and the raw value vector **v**, we first decompose the total squared error into two distinct components: a **Value Error** arising from the change in the raw value vector for a fixed swarm structure, and a **Structural Error** arising from the change in the swarm structure for a fixed raw value vector.\n3473: :::{prf:theorem} Decomposition of the Total Standardization Error\n3474: :label: thm-deterministic-error-decomposition\n3475: Let $z(S, v, M)$ be the N-Dimensional Standardization Operator. Let $S_1$ and $S_2$ be two swarm states, and let $v_1$ and $v_2$ be two corresponding N-dimensional raw value vectors. Let the output standardized vectors be $z_1 = z(S_1, v_1, M)$ and $z_2 = z(S_2, v_2, M)$.\n3476: The total squared Euclidean error between the output vectors is bounded by the sum of two fundamental error components:\n3477: \n3478: $$\n3479: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 \\cdot E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 \\cdot E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3480: $$\n3481: \n3482: where the error components are defined as:\n3483: 1.  **The Squared Value Error ($E_V^2$):** The deterministic squared error arising from the change in the raw value vector (from $v_1$ to $v_2$) while holding the swarm's structure fixed at $S_1$.",
      "metadata": {
        "label": "thm-deterministic-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3462: ##### 11.2.4.3. Implications and Interpretation\n3463: This result reveals two distinct operational regimes:\n3464: 1.  **Regime 1: Normal Operation (Low Attrition).**\n3465:     If the number of status changes $n_c$ is small, the structural error terms are bounded or vanish for large $k_1$. The system's stability is dominated by the value error, which is **constant with respect to swarm size** and scales with $1/\\sigma'^2_{\\min,\\text{bound}}$ and $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. When the variance floor is much smaller than the smoothing parameter ($\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$), this reduces to the familiar $O(\\varepsilon_{\\mathrm{std}}^{-6})$ sensitivity.\n3466: 2.  **Regime 2: Catastrophic Collapse.**\n3467:     If a significant fraction of the swarm dies, such that $n_c \\propto k_1$, then the total error **grows linearly with the initial swarm size** with coefficients proportional to $L_{\\sigma\\'_{\\text{reg}}}^2/\\sigma'^4_{\\min,\\text{bound}}$. In the $\\kappa_{\\text{var,min}} \\ll \\varepsilon_{\\text{std}}^2$ regime this again matches the $O(k_1\\varepsilon_{\\mathrm{std}}^{-6})$ scaling.\n3468: ### 11.3 Deterministic Lipschitz Continuity of the Patched Standardization Operator\n3469: The introduction of the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)) ($\\sigma\\'_{\\text{reg}}$) in Section 11.1.2 provides a critical stability guarantee that is stronger than mean-square continuity. By ensuring the denominator of the standardization formula is a globally Lipschitz function of the raw value variance, the pathological sensitivity near zero-variance states is eliminated. This, in turn, enables a deterministic, worst-case **global continuity with a Lipschitz\u2013H\u00f6lder modulus** for the entire N-Dimensional Standardization Operator.\n3470: This property is a non-negotiable prerequisite for certain powerful long-term convergence results, such as those derived from Feynman-Kac particle system theory. The following sections provide a rigorous, self-contained proof of this property. The strategy is to deterministically decompose the total error vector, $\\Deltaz = z(S_1, v_1, M) - z(S_2, v_2, M)$, into a series of manageable components and to bound the L2-norm of each component by a term proportional to the N-Particle Displacement Metric and the L2-norm of the raw value difference.\n3471: #### 11.3.1 Theorem: Decomposition of the Total Standardization Error\n3472: To establish the joint Lipschitz continuity of the standardization operator with respect to both the swarm state **S** and the raw value vector **v**, we first decompose the total squared error into two distinct components: a **Value Error** arising from the change in the raw value vector for a fixed swarm structure, and a **Structural Error** arising from the change in the swarm structure for a fixed raw value vector.\n3473: :::{prf:theorem} Decomposition of the Total Standardization Error\n3474: :label: thm-deterministic-error-decomposition\n3475: Let $z(S, v, M)$ be the N-Dimensional Standardization Operator. Let $S_1$ and $S_2$ be two swarm states, and let $v_1$ and $v_2$ be two corresponding N-dimensional raw value vectors. Let the output standardized vectors be $z_1 = z(S_1, v_1, M)$ and $z_2 = z(S_2, v_2, M)$.\n3476: The total squared Euclidean error between the output vectors is bounded by the sum of two fundamental error components:\n3477: \n3478: $$\n3479: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 \\cdot E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 \\cdot E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3480: $$\n3481: \n3482: where the error components are defined as:\n3483: 1.  **The Squared Value Error ($E_V^2$):** The deterministic squared error arising from the change in the raw value vector (from $v_1$ to $v_2$) while holding the swarm's structure fixed at $S_1$.\n3484: "
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-deterministic-error-decomposition",
      "title": null,
      "start_line": 3485,
      "end_line": 3498,
      "header_lines": [
        3486
      ],
      "content_start": 3487,
      "content_end": 3497,
      "content": "3487:     $$\n3488: 2.  **The Squared Structural Error ($E_S^2$):** The deterministic squared error arising from the change in the swarm's structure (from $S_1$ to $S_2$) while using the fixed raw value vector $v_2$.\n3489: $$\n3490: \n3491:     E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2\n3492: \n3493: \n3494: $$\n3495: :::\n3496: :::{prf:proof}\n3497: :label: proof-thm-deterministic-error-decomposition",
      "metadata": {
        "label": "proof-thm-deterministic-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3485: $$\n3486:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_1, M) - \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) \\|_2^2\n3487:     $$\n3488: 2.  **The Squared Structural Error ($E_S^2$):** The deterministic squared error arising from the change in the swarm's structure (from $S_1$ to $S_2$) while using the fixed raw value vector $v_2$.\n3489: $$\n3490: \n3491:     E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2) := \\| \\mathbf{z}(\\mathcal{S}_1, \\mathbf{v}_2, M) - \\mathbf{z}(\\mathcal{S}_2, \\mathbf{v}_2, M) \\|_2^2\n3492: \n3493: \n3494: $$\n3495: :::\n3496: :::{prf:proof}\n3497: :label: proof-thm-deterministic-error-decomposition\n3498: **Proof.**"
    },
    {
      "directive_type": "lemma",
      "label": "lem-sub-lipschitz-value-error-decomposition",
      "title": "Algebraic Decomposition of the Value Error",
      "start_line": 3501,
      "end_line": 3539,
      "header_lines": [
        3502
      ],
      "content_start": 3503,
      "content_end": 3538,
      "content": "3503: \n3504: \\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2 \\le 2 \\| \\mathbf{z}_1 - \\mathbf{z}_{\\text{inter}} \\|_2^2 + 2 \\| \\mathbf{z}_{\\text{inter}} - \\mathbf{z}_2 \\|_2^2\n3505: \n3506: $$\n3507: The first term on the right-hand side is the squared Value Error, $E_V^2$, as it arises from the change $v_1 \u2192 v_2$ for a fixed structure $S_1$. The second term is the squared Structural Error, $E_S^2$, as it arises from the change $S_1 \u2192 S_2$ for a fixed value vector $v_2$. This completes the decomposition.\n3508: **Q.E.D.**\n3509: :::\n3510: #### 11.3.2 Sub-Lemma: Algebraic Decomposition of the Value Error\n3511: To bound the squared value error, $E_V^2$, we first perform a purely algebraic decomposition of the error vector $\\Deltaz = z(S, v_1, M) - z(S, v_2, M)$ for a fixed swarm state **S**. This decomposition isolates the different sources of error: the direct change in the raw values, the change in the computed mean, and the change in the computed standard deviation.\n3512: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3513: :label: lem-sub-lipschitz-value-error-decomposition\n3514: Let **S** be a fixed swarm state with alive set **A** of size **k**. Let $v_1$ and $v_2$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $z_1$ and $z_2$ be the corresponding standardized vectors.\n3515: The total value error vector, $\\Deltaz = z_1 - z_2$, can be expressed as the sum of three components:\n3516: $$\n3517: \n3518: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{denom}}\n3519: \n3520: $$\n3521: where:\n3522: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3523: $$\n3524: \n3525:     \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3526: \n3527: \n3528: $$\n3529: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walkers.\n3530: $$\n3531: \n3532:     \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3533: \n3534: \n3535: $$\n3536: where $**1**$ is a k-dimensional vector of ones.\n3537: 3.  **The Denominator Shift ($\\Delta_denom$):** The error from the change in the regularized standard deviation, which rescales the second standardized vector.\n3538: $$",
      "metadata": {
        "label": "lem-sub-lipschitz-value-error-decomposition"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3501: The total squared error is bounded using the elementary inequality $\\|A+B\\|_2^2 \\leq 2(\\|A\\|_2^2 + \\|B\\|_2^2)$:\n3502: $$\n3503: \n3504: \\| \\mathbf{z}_1 - \\mathbf{z}_2 \\|_2^2 \\le 2 \\| \\mathbf{z}_1 - \\mathbf{z}_{\\text{inter}} \\|_2^2 + 2 \\| \\mathbf{z}_{\\text{inter}} - \\mathbf{z}_2 \\|_2^2\n3505: \n3506: $$\n3507: The first term on the right-hand side is the squared Value Error, $E_V^2$, as it arises from the change $v_1 \u2192 v_2$ for a fixed structure $S_1$. The second term is the squared Structural Error, $E_S^2$, as it arises from the change $S_1 \u2192 S_2$ for a fixed value vector $v_2$. This completes the decomposition.\n3508: **Q.E.D.**\n3509: :::\n3510: #### 11.3.2 Sub-Lemma: Algebraic Decomposition of the Value Error\n3511: To bound the squared value error, $E_V^2$, we first perform a purely algebraic decomposition of the error vector $\\Deltaz = z(S, v_1, M) - z(S, v_2, M)$ for a fixed swarm state **S**. This decomposition isolates the different sources of error: the direct change in the raw values, the change in the computed mean, and the change in the computed standard deviation.\n3512: :::{prf:lemma} Algebraic Decomposition of the Value Error\n3513: :label: lem-sub-lipschitz-value-error-decomposition\n3514: Let **S** be a fixed swarm state with alive set **A** of size **k**. Let $v_1$ and $v_2$ be two raw value vectors for the alive set. Let $(\\mu_1, \\sigma'_1)$ and $(\\mu_2, \\sigma'_2)$ be the corresponding statistical properties, and let $z_1$ and $z_2$ be the corresponding standardized vectors.\n3515: The total value error vector, $\\Deltaz = z_1 - z_2$, can be expressed as the sum of three components:\n3516: $$\n3517: \n3518: \\Delta\\mathbf{z} = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\Delta_{\\text{denom}}\n3519: \n3520: $$\n3521: where:\n3522: 1.  **The Direct Shift ($\\Delta_{\\text{direct}}$):** The error from the change in the raw value vector itself, scaled by the initial standard deviation.\n3523: $$\n3524: \n3525:     \\Delta_{\\text{direct}} := \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1}\n3526: \n3527: \n3528: $$\n3529: 2.  **The Mean Shift ($\\Delta_mean$):** The error from the change in the aggregator's computed mean, applied uniformly to all walkers.\n3530: $$\n3531: \n3532:     \\Delta_{\\text{mean}} := \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1}\n3533: \n3534: \n3535: $$\n3536: where $**1**$ is a k-dimensional vector of ones.\n3537: 3.  **The Denominator Shift ($\\Delta_denom$):** The error from the change in the regularized standard deviation, which rescales the second standardized vector.\n3538: $$\n3539: "
    },
    {
      "directive_type": "proof",
      "label": "proof-line-3447",
      "title": null,
      "start_line": 3540,
      "end_line": 3568,
      "header_lines": [
        3541
      ],
      "content_start": 3542,
      "content_end": 3567,
      "content": "3542: \n3543: $$\n3544: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3545: $$\n3546: \n3547: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{denom}}\\|_2^2 \\right)\n3548: \n3549: $$\n3550: :::\n3551: :::{prf:proof}\n3552: :label: proof-line-3447\n3553: **Proof.**\n3554: The proof of the decomposition is a direct algebraic manipulation.\n3555: 1.  **Start with the Definition of the Error.**\n3556:     The total error is $\\Deltaz = z_1 - z_2 = (v_1 - \\mu_1) / \\sigma'_1 - (v_2 - \\mu_2) / \\sigma'_2$.\n3557: 2.  **Decomposition.**\n3558:     We add and subtract terms to isolate the desired components.\n3559: $$\n3560: \n3561:     \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3562: \n3563: \n3564: $$\n3565: $$\n3566:     = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3567:     $$",
      "metadata": {
        "label": "proof-line-3447"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3540:     \\Delta_{\\text{denom}} := \\mathbf{z}_2 \\cdot \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3541: \n3542: \n3543: $$\n3544: Furthermore, the total squared error is bounded by three times the sum of the squared norms of these components:\n3545: $$\n3546: \n3547: \\|\\Delta\\mathbf{z}\\|_2^2 \\le 3\\left( \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{mean}}\\|_2^2 + \\|\\Delta_{\\text{denom}}\\|_2^2 \\right)\n3548: \n3549: $$\n3550: :::\n3551: :::{prf:proof}\n3552: :label: proof-line-3447\n3553: **Proof.**\n3554: The proof of the decomposition is a direct algebraic manipulation.\n3555: 1.  **Start with the Definition of the Error.**\n3556:     The total error is $\\Deltaz = z_1 - z_2 = (v_1 - \\mu_1) / \\sigma'_1 - (v_2 - \\mu_2) / \\sigma'_2$.\n3557: 2.  **Decomposition.**\n3558:     We add and subtract terms to isolate the desired components.\n3559: $$\n3560: \n3561:     \\Delta\\mathbf{z} = \\frac{\\mathbf{v}_1 - \\mu_1}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2}\n3562: \n3563: \n3564: $$\n3565: $$\n3566:     = \\left( \\frac{\\mathbf{v}_1 - \\mathbf{v}_2}{\\sigma'_1} \\right) + \\left( \\frac{\\mu_2 - \\mu_1}{\\sigma'_1} \\cdot \\mathbf{1} \\right) + \\left( \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_1} - \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\right)\n3567:     $$\n3568: The final term can be rewritten by factoring out $(v_2 - \\mu_2)$:"
    },
    {
      "directive_type": "theorem",
      "label": "thm-lipschitz-value-error-bound",
      "title": "Bounding the Squared Value Error",
      "start_line": 3571,
      "end_line": 3580,
      "header_lines": [
        3572
      ],
      "content_start": 3573,
      "content_end": 3579,
      "content": "3573: \n3574: $$\n3575: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_denom$.\n3576: 3.  **Bound on the Squared Norm.**\n3577:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3578: **Q.E.D.**\n3579: :::",
      "metadata": {
        "label": "thm-lipschitz-value-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3571:     = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + (\\mathbf{v}_2 - \\mu_2) \\left(\\frac{1}{\\sigma'_1} - \\frac{1}{\\sigma'_2}\\right) = \\Delta_{\\text{direct}} + \\Delta_{\\text{mean}} + \\frac{\\mathbf{v}_2 - \\mu_2}{\\sigma'_2} \\frac{\\sigma'_2 - \\sigma'_1}{\\sigma'_1}\n3572: \n3573: \n3574: $$\n3575: Recognizing that $(v_2 - \\mu_2) / \\sigma'_2$ is $z_2$, this matches the definition of $\\Delta_denom$.\n3576: 3.  **Bound on the Squared Norm.**\n3577:     The bound on the total squared norm follows directly from the triangle inequality and the elementary inequality $(a+b+c)^2 \\leq 3(a^2+b^2+c^2)$.\n3578: **Q.E.D.**\n3579: :::\n3580: #### 11.3.3 Theorem: Bounding the Squared Value Error"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-lipschitz-value-error-bound",
      "title": null,
      "start_line": 3581,
      "end_line": 3610,
      "header_lines": [
        3582
      ],
      "content_start": 3583,
      "content_end": 3609,
      "content": "3583: :label: thm-lipschitz-value-error-bound\n3584: Let **S** be a fixed swarm state. Let $v_1$ and $v_2$ be two raw value vectors. The squared value error, $E_V^2(S; v_1, v_2) = \\|z(S, v_1, M) - z(S, v_2, M)\\|_2^2$, is deterministically bounded as follows:\n3585: $$\n3586: \n3587: E_{V}^2(\\mathcal{S}; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3588: \n3589: $$\n3590: where $C_{V,total}(S)$ is the **Total Value Error Coefficient**, a deterministic, finite constant that depends on the state **S** but not on the raw value vectors, as formally defined in the subsequent section.\n3591: :::\n3592: :::{prf:proof}\n3593: :label: proof-thm-lipschitz-value-error-bound\n3594: **Proof.**\n3595: The proof proceeds by bounding the squared L2-norm of each of the three components from the algebraic decomposition in [](#sub-lem-lipschitz-value-error-decomposition) and then summing them.\n3596: 1.  **Bound the Direct Shift Component ($\\Delta_{\\text{direct}}$):**\n3597:     The squared norm is $\\|(v_1 - v_2) / \\sigma'_1\\|_2^2 = (1/(\\sigma'_1)^2)\\|v_1 - v_2\\|_2^2$. From the definition of the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)), the denominator $\\sigma'_1$ is always bounded below by $\\sigma'_{\\min\\,\\text{bound}}$. Therefore, $1/(\\sigma'_1)^2 \\le 1/\\sigma'^2_{\\min\\,\\text{bound}}$. This gives:\n3598: $$\n3599: \n3600:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3601: \n3602: \n3603: $$\n3604: 2.  **Bound the Mean Shift Component ($\\Delta_mean$):**\n3605:     The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. Using the axiomatic value continuity of the mean ($|\\mu_2 - \\mu_1| \\leq L_{\\mu,M}(S) \\|v_1 - v_2\\|_2$), this is bounded by:\n3606: $$\n3607: \n3608:     \\|\\Delta_{\\text{mean}}\\|_2^2 \\le \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3609: ",
      "metadata": {
        "label": "proof-thm-lipschitz-value-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3581: With the algebraic decomposition in place, we can now establish a deterministic bound for the Squared Value Error, $E_V^2$, in terms of the squared norm of the raw value difference. This theorem demonstrates that the standardization operator is Lipschitz continuous with respect to its raw value vector input for a fixed swarm structure.\n3582: :::{prf:theorem} Bounding the Squared Value Error\n3583: :label: thm-lipschitz-value-error-bound\n3584: Let **S** be a fixed swarm state. Let $v_1$ and $v_2$ be two raw value vectors. The squared value error, $E_V^2(S; v_1, v_2) = \\|z(S, v_1, M) - z(S, v_2, M)\\|_2^2$, is deterministically bounded as follows:\n3585: $$\n3586: \n3587: E_{V}^2(\\mathcal{S}; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3588: \n3589: $$\n3590: where $C_{V,total}(S)$ is the **Total Value Error Coefficient**, a deterministic, finite constant that depends on the state **S** but not on the raw value vectors, as formally defined in the subsequent section.\n3591: :::\n3592: :::{prf:proof}\n3593: :label: proof-thm-lipschitz-value-error-bound\n3594: **Proof.**\n3595: The proof proceeds by bounding the squared L2-norm of each of the three components from the algebraic decomposition in [](#sub-lem-lipschitz-value-error-decomposition) and then summing them.\n3596: 1.  **Bound the Direct Shift Component ($\\Delta_{\\text{direct}}$):**\n3597:     The squared norm is $\\|(v_1 - v_2) / \\sigma'_1\\|_2^2 = (1/(\\sigma'_1)^2)\\|v_1 - v_2\\|_2^2$. From the definition of the Regularized Standard Deviation Function ([](#def-statistical-properties-measurement)), the denominator $\\sigma'_1$ is always bounded below by $\\sigma'_{\\min\\,\\text{bound}}$. Therefore, $1/(\\sigma'_1)^2 \\le 1/\\sigma'^2_{\\min\\,\\text{bound}}$. This gives:\n3598: $$\n3599: \n3600:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3601: \n3602: \n3603: $$\n3604: 2.  **Bound the Mean Shift Component ($\\Delta_mean$):**\n3605:     The squared norm is $k \\cdot (\\mu_2 - \\mu_1)^2 / (\\sigma'_1)^2$. Using the axiomatic value continuity of the mean ($|\\mu_2 - \\mu_1| \\leq L_{\\mu,M}(S) \\|v_1 - v_2\\|_2$), this is bounded by:\n3606: $$\n3607: \n3608:     \\|\\Delta_{\\text{mean}}\\|_2^2 \\le \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}} \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3609: \n3610: "
    },
    {
      "directive_type": "definition",
      "label": "def-lipschitz-value-error-coefficients",
      "title": "Value Error Coefficients",
      "start_line": 3613,
      "end_line": 3651,
      "header_lines": [
        3614
      ],
      "content_start": 3615,
      "content_end": 3650,
      "content": "3615:     *   From the proven value continuity of the smoothed standard deviation ([](#lem-stats-value-continuity)), $(\\sigma'_2 - \\sigma'_1)^2 \\leq (L_{\\sigma',M}(S))^2 \\|v_1 - v_2\\|_2^2$.\n3616:     *   The term $1/(\\sigma'_1)^2$ is bounded by $1/\\sigma'^2_{\\min\\,\\text{bound}}$.\n3617:     Combining these gives a bound of the form $C \\cdot \\|v_1 - v_2\\|_2^2$ for this component as well.\n3618: 4.  **Combine the Bounds:**\n3619:     Substituting the bounds for each of the three components into the inequality from [](#sub-lem-lipschitz-value-error-decomposition) ($\\|\\Deltaz\\|_2^2 \\leq 3(\\|\\Delta_{\\text{direct}}\\|_2^2 + ...)$), and factoring out the common term $\\|v_1 - v_2\\|_2^2$, yields the final result. The sum of the coefficients for each component, multiplied by 3, constitutes the **Total Value Error Coefficient**, $C_{V,total}(S)$. Since all constituent parts are finite for a given state **S**, $C_{V,total}(S)$ is a finite constant.\n3620: **Q.E.D.**\n3621: :::\n3622: #### 11.3.4 Definition: Value Error Coefficients\n3623: To formalize the result of the preceding theorem and provide modular components for the final proof, we explicitly define the coefficients used in the bound for the Squared Value Error. These coefficients are deterministic functions of a fixed swarm state **S**.\n3624: :::{prf:definition} Value Error Coefficients\n3625: :label: def-lipschitz-value-error-coefficients\n3626: Let **S** be a fixed swarm state with alive set **A** of size **k**, and let **M** be the chosen **Swarm Aggregation Operator**. Let\n3627: $$\n3628: \n3629: \\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}\n3630: \n3631: $$\n3632: be the uniform lower bound on the regularized standard deviation. The coefficients for the value error bounds are defined as follows:\n3633: 1.  **The Direct Shift Coefficient ($C_V,direct$):**\n3634: $$\n3635: \n3636:     C_{V,\\text{direct}} := \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}}\n3637: \n3638: \n3639: $$\n3640: 2.  **The Mean Shift Coefficient ($C_V,\\mu(S)$):**\n3641: $$\n3642: \n3643:     C_{V,\\mu}(\\mathcal{S}) := \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}}\n3644: \n3645: \n3646: $$\n3647: 3.  **The Denominator Shift Coefficient ($C_V,\\sigma(S)$):**\n3648: $$\n3649: \n3650:     C_{V,\\sigma}(\\mathcal{S}) := k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2",
      "metadata": {
        "label": "def-lipschitz-value-error-coefficients"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3613:     The squared norm is $\\|z_2\\|_2^2 \\cdot (\\sigma'_2 - \\sigma'_1)^2 / (\\sigma'_1)^2$. We bound each term:\n3614:     *   From [](#thm-z-score-norm-bound), $\\|z_2\\|_2^2 \\leq k\\big(2V_{\\max}/\\sigma'_{\\min\\,\\text{bound}}\\big)^2$.\n3615:     *   From the proven value continuity of the smoothed standard deviation ([](#lem-stats-value-continuity)), $(\\sigma'_2 - \\sigma'_1)^2 \\leq (L_{\\sigma',M}(S))^2 \\|v_1 - v_2\\|_2^2$.\n3616:     *   The term $1/(\\sigma'_1)^2$ is bounded by $1/\\sigma'^2_{\\min\\,\\text{bound}}$.\n3617:     Combining these gives a bound of the form $C \\cdot \\|v_1 - v_2\\|_2^2$ for this component as well.\n3618: 4.  **Combine the Bounds:**\n3619:     Substituting the bounds for each of the three components into the inequality from [](#sub-lem-lipschitz-value-error-decomposition) ($\\|\\Deltaz\\|_2^2 \\leq 3(\\|\\Delta_{\\text{direct}}\\|_2^2 + ...)$), and factoring out the common term $\\|v_1 - v_2\\|_2^2$, yields the final result. The sum of the coefficients for each component, multiplied by 3, constitutes the **Total Value Error Coefficient**, $C_{V,total}(S)$. Since all constituent parts are finite for a given state **S**, $C_{V,total}(S)$ is a finite constant.\n3620: **Q.E.D.**\n3621: :::\n3622: #### 11.3.4 Definition: Value Error Coefficients\n3623: To formalize the result of the preceding theorem and provide modular components for the final proof, we explicitly define the coefficients used in the bound for the Squared Value Error. These coefficients are deterministic functions of a fixed swarm state **S**.\n3624: :::{prf:definition} Value Error Coefficients\n3625: :label: def-lipschitz-value-error-coefficients\n3626: Let **S** be a fixed swarm state with alive set **A** of size **k**, and let **M** be the chosen **Swarm Aggregation Operator**. Let\n3627: $$\n3628: \n3629: \\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}\n3630: \n3631: $$\n3632: be the uniform lower bound on the regularized standard deviation. The coefficients for the value error bounds are defined as follows:\n3633: 1.  **The Direct Shift Coefficient ($C_V,direct$):**\n3634: $$\n3635: \n3636:     C_{V,\\text{direct}} := \\frac{1}{\\sigma'^2_{\\min\\,\\text{bound}}}\n3637: \n3638: \n3639: $$\n3640: 2.  **The Mean Shift Coefficient ($C_V,\\mu(S)$):**\n3641: $$\n3642: \n3643:     C_{V,\\mu}(\\mathcal{S}) := \\frac{k \\cdot (L_{\\mu,M}(\\mathcal{S}))^2}{\\sigma'^2_{\\min\\,\\text{bound}}}\n3644: \n3645: \n3646: $$\n3647: 3.  **The Denominator Shift Coefficient ($C_V,\\sigma(S)$):**\n3648: $$\n3649: \n3650:     C_{V,\\sigma}(\\mathcal{S}) := k \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 \\left( \\frac{L_{\\sigma',M}(\\mathcal{S})}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3651: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-lipschitz-structural-error-bound",
      "title": "Bounding the Squared Structural Error",
      "start_line": 3654,
      "end_line": 3663,
      "header_lines": [
        3655
      ],
      "content_start": 3656,
      "content_end": 3662,
      "content": "3656: \n3657:     C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3658: \n3659: \n3660: $$\n3661: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively, as defined in [](#lem-stats-value-continuity).\n3662: :::",
      "metadata": {
        "label": "thm-lipschitz-structural-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3654: 4.  **The Total Value Error Coefficient ($C_V,total(S)$):** The composite coefficient that bounds the total squared error.\n3655: $$\n3656: \n3657:     C_{V,\\text{total}}(\\mathcal{S}) := 3 \\cdot \\left( C_{V,\\text{direct}} + C_{V,\\mu}(\\mathcal{S}) + C_{V,\\sigma}(\\mathcal{S}) \\right)\n3658: \n3659: \n3660: $$\n3661: where $L_{\\mu,M}(S)$ and $L_{\\sigma',M}(S)$ are the value Lipschitz functions for the aggregator's mean and regularized standard deviation, respectively, as defined in [](#lem-stats-value-continuity).\n3662: :::\n3663: #### 11.3.5 Theorem: Bounding the Squared Structural Error"
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-lipschitz-structural-error-bound",
      "title": null,
      "start_line": 3664,
      "end_line": 3693,
      "header_lines": [
        3665
      ],
      "content_start": 3666,
      "content_end": 3692,
      "content": "3666: :label: thm-lipschitz-structural-error-bound\n3667: Let **v** be a fixed raw value vector. Let $S_1$ and $S_2$ be two swarm states. The squared structural error, $E_S^2(S_1, S_2; v) = \\|z(S_1, v, M) - z(S_2, v, M)\\|_2^2$, is deterministically bounded as follows:\n3668: $$\n3669: \n3670: E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}) \\le C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3671: \n3672: $$\n3673: where $C_{S,direct}$ and $C_{S,indirect}(S_1, S_2)$ are the **Structural Error Coefficients**, which are deterministic, finite coefficients formally defined in the subsequent section. The presence of the $n_c^2$ term confirms that the error is not linearly proportional to the number of status changes.\n3674: :::\n3675: :::{prf:proof}\n3676: :label: proof-thm-lipschitz-structural-error-bound\n3677: **Proof.**\n3678: The proof proceeds by decomposing the total structural error vector $\\Deltaz = z(S_1, v) - z(S_2, v)$ into two orthogonal components: a \"direct\" error from walkers whose status changes, and an \"indirect\" error affecting walkers whose status is stable.\n3679: 1.  **Decomposition of Structural Error:** The N-dimensional error vector $\\Deltaz$ is partitioned based on walker indices. The squared norm is the sum of the squared norms over these disjoint sets:\n3680: $$\n3681: \n3682:     \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2\n3683: \n3684: \n3685: $$\n3686: *   $\\Delta_{\\text{direct}}$ has non-zero components only for indices **i** where $s_{1,i} \u2260 s_{2,i}$.\n3687:     *   $\\Delta_{\\text{indirect}}$ has non-zero components only for indices **i** where $s_{1,i} = s_{2,i} = 1$.\n3688: 2.  **Bound the Direct Error Component ($\\Delta_{\\text{direct}}$):**\n3689:     This component has $n_c$ non-zero terms. For each such term **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero. The other is a valid Z-score, whose magnitude is bounded by $|z_j| \\leq 2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}}$. The squared error for this component is thus bounded by $(2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}})^2$. Summing over all $n_c$ unstable walkers gives a bound that is linear in $n_c$:\n3690: $$\n3691: \n3692:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 n_c(\\mathcal{S}_1, \\mathcal{S}_2)",
      "metadata": {
        "label": "proof-thm-lipschitz-structural-error-bound"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3664: We now turn to bounding the Squared Structural Error, $E_S^2$, which arises from the change in the swarm's structure (the set of alive walkers) for a fixed raw value vector. This theorem demonstrates that the standardization operator's continuity with respect to structural changes is not strictly Lipschitz, but has a non-linear, H\u00f6lder-type component.\n3665: :::{prf:theorem} Bounding the Squared Structural Error\n3666: :label: thm-lipschitz-structural-error-bound\n3667: Let **v** be a fixed raw value vector. Let $S_1$ and $S_2$ be two swarm states. The squared structural error, $E_S^2(S_1, S_2; v) = \\|z(S_1, v, M) - z(S_2, v, M)\\|_2^2$, is deterministically bounded as follows:\n3668: $$\n3669: \n3670: E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}) \\le C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3671: \n3672: $$\n3673: where $C_{S,direct}$ and $C_{S,indirect}(S_1, S_2)$ are the **Structural Error Coefficients**, which are deterministic, finite coefficients formally defined in the subsequent section. The presence of the $n_c^2$ term confirms that the error is not linearly proportional to the number of status changes.\n3674: :::\n3675: :::{prf:proof}\n3676: :label: proof-thm-lipschitz-structural-error-bound\n3677: **Proof.**\n3678: The proof proceeds by decomposing the total structural error vector $\\Deltaz = z(S_1, v) - z(S_2, v)$ into two orthogonal components: a \"direct\" error from walkers whose status changes, and an \"indirect\" error affecting walkers whose status is stable.\n3679: 1.  **Decomposition of Structural Error:** The N-dimensional error vector $\\Deltaz$ is partitioned based on walker indices. The squared norm is the sum of the squared norms over these disjoint sets:\n3680: $$\n3681: \n3682:     \\|\\Delta\\mathbf{z}\\|_2^2 = \\|\\Delta_{\\text{direct}}\\|_2^2 + \\|\\Delta_{\\text{indirect}}\\|_2^2\n3683: \n3684: \n3685: $$\n3686: *   $\\Delta_{\\text{direct}}$ has non-zero components only for indices **i** where $s_{1,i} \u2260 s_{2,i}$.\n3687:     *   $\\Delta_{\\text{indirect}}$ has non-zero components only for indices **i** where $s_{1,i} = s_{2,i} = 1$.\n3688: 2.  **Bound the Direct Error Component ($\\Delta_{\\text{direct}}$):**\n3689:     This component has $n_c$ non-zero terms. For each such term **i**, one of $z_{1,i}$ or $z_{2,i}$ is zero. The other is a valid Z-score, whose magnitude is bounded by $|z_j| \\leq 2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}}$. The squared error for this component is thus bounded by $(2V_{\\max} / \\sigma'_{\\min\\,\\text{bound}})^2$. Summing over all $n_c$ unstable walkers gives a bound that is linear in $n_c$:\n3690: $$\n3691: \n3692:     \\|\\Delta_{\\text{direct}}\\|_2^2 \\le \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2 n_c(\\mathcal{S}_1, \\mathcal{S}_2)\n3693: "
    },
    {
      "directive_type": "definition",
      "label": "def-lipschitz-structural-error-coefficients",
      "title": "Structural Error Coefficients",
      "start_line": 3696,
      "end_line": 3720,
      "header_lines": [
        3697
      ],
      "content_start": 3698,
      "content_end": 3719,
      "content": "3698:     *   The mean shift error is bounded by $2k_{\\text{stable}} \\cdot ((\\mu_1 - \\mu_2)/\\sigma'_1)^2$. Using the structural continuity of the mean ($|\\mu_1-\\mu_2|^2 \\leq (L_{\\mu,S})^2 (n_c)^2$), this term is bounded by an expression proportional to $n_c^2$.\n3699:     *   The denominator shift error is bounded by $2\\|z_1\\|^2((\\sigma'_1-\\sigma'_2)/\\sigma'_2)^2$. Using the structural continuity of $\\sigma'$ ($|\\sigma'_1-\\sigma'_2|^2 \\leq (L_{\\sigma',S})^2 (n_c)^2$), this term is also bounded by an expression proportional to $n_c^2$.\n3700:     The sum of these two terms gives a total bound for the indirect error that is quadratic in $n_c$.\n3701: 4.  **Combine the Bounds:**\n3702:     Summing the bounds for the direct (linear in $n_c$) and indirect (quadratic in $n_c$) components gives the final bound as stated in the theorem.\n3703: **Q.E.D.**\n3704: :::\n3705: #### 11.3.6 Definition: Structural Error Coefficients\n3706: To formalize the result of the preceding theorem, we explicitly define the coefficients used in the bound for the Squared Structural Error. These coefficients are deterministic functions of the two swarm states, $\\mathcal{S}_1$ and $\\mathcal{S}_2$.\n3707: :::{prf:definition} Structural Error Coefficients\n3708: :label: def-lipschitz-structural-error-coefficients\n3709: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states with alive sets $\\mathcal{A}_1$ and $\\mathcal{A}_2$, of sizes $k_1:=|\\mathcal{A}_1|$ and $k_2:=|\\mathcal{A}_2|$. Let $k_{\\text{stable}}:=|\\mathcal{A}_1\\cap\\mathcal{A}_2|$. Let\n3710: $$\n3711: \n3712: \\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}\n3713: \n3714: $$\n3715: be a uniform lower bound on the regularized standard deviation. The coefficients for the structural error bounds are defined as follows:\n3716: 1.  **The Direct Structural Error Coefficient ($C_{S,\\text{direct}}$):** The coefficient of the term linear in $n_c$.\n3717: $$\n3718: \n3719:     C_{S,\\text{direct}} := \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2",
      "metadata": {
        "label": "def-lipschitz-structural-error-coefficients"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3696: 3.  **Bound the Indirect Error Component ($\\Delta_{\\text{indirect}}$):**\n3697:     For the $k_{\\text{stable}}$ walkers that are alive in both swarms, the error $z_{1,i} - z_{2,i}$ is decomposed into a mean-shift part and a denominator-shift part. Using $\\|a+b\\|^2 \\leq 2(\\|a\\|^2 + \\|b\\|^2)$, we bound the sum of these errors over all stable walkers.\n3698:     *   The mean shift error is bounded by $2k_{\\text{stable}} \\cdot ((\\mu_1 - \\mu_2)/\\sigma'_1)^2$. Using the structural continuity of the mean ($|\\mu_1-\\mu_2|^2 \\leq (L_{\\mu,S})^2 (n_c)^2$), this term is bounded by an expression proportional to $n_c^2$.\n3699:     *   The denominator shift error is bounded by $2\\|z_1\\|^2((\\sigma'_1-\\sigma'_2)/\\sigma'_2)^2$. Using the structural continuity of $\\sigma'$ ($|\\sigma'_1-\\sigma'_2|^2 \\leq (L_{\\sigma',S})^2 (n_c)^2$), this term is also bounded by an expression proportional to $n_c^2$.\n3700:     The sum of these two terms gives a total bound for the indirect error that is quadratic in $n_c$.\n3701: 4.  **Combine the Bounds:**\n3702:     Summing the bounds for the direct (linear in $n_c$) and indirect (quadratic in $n_c$) components gives the final bound as stated in the theorem.\n3703: **Q.E.D.**\n3704: :::\n3705: #### 11.3.6 Definition: Structural Error Coefficients\n3706: To formalize the result of the preceding theorem, we explicitly define the coefficients used in the bound for the Squared Structural Error. These coefficients are deterministic functions of the two swarm states, $\\mathcal{S}_1$ and $\\mathcal{S}_2$.\n3707: :::{prf:definition} Structural Error Coefficients\n3708: :label: def-lipschitz-structural-error-coefficients\n3709: Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states with alive sets $\\mathcal{A}_1$ and $\\mathcal{A}_2$, of sizes $k_1:=|\\mathcal{A}_1|$ and $k_2:=|\\mathcal{A}_2|$. Let $k_{\\text{stable}}:=|\\mathcal{A}_1\\cap\\mathcal{A}_2|$. Let\n3710: $$\n3711: \n3712: \\sigma'_{\\min\\,\\text{bound}} := \\sqrt{\\kappa_{\\text{var,min}} + \\varepsilon_{\\text{std}}^2}\n3713: \n3714: $$\n3715: be a uniform lower bound on the regularized standard deviation. The coefficients for the structural error bounds are defined as follows:\n3716: 1.  **The Direct Structural Error Coefficient ($C_{S,\\text{direct}}$):** The coefficient of the term linear in $n_c$.\n3717: $$\n3718: \n3719:     C_{S,\\text{direct}} := \\left( \\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}} \\right)^2\n3720: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-global-continuity-patched-standardization",
      "title": "Global Continuity of the Patched Standardization Operator",
      "start_line": 3723,
      "end_line": 3733,
      "header_lines": [
        3724
      ],
      "content_start": 3725,
      "content_end": 3732,
      "content": "3725: \n3726:     C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) := 2 k_{\\text{stable}} \\frac{(L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}} + 2 k_1 \\left(\\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\\right)^2 \\frac{(L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}}\n3727: \n3728: \n3729: $$\n3730: where $L_{\\mu,S}$ and $L_{\\sigma',S}$ are the structural continuity functions for the aggregator's mean and regularized standard deviation, as defined in [](#lem-stats-structural-continuity).\n3731: :::\n3732: #### 11.3.7 Theorem: Global Continuity of the Patched Standardization Operator",
      "metadata": {
        "label": "thm-global-continuity-patched-standardization"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3723: 2.  **The Indirect Structural Error Coefficient ($C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2)$):** The coefficient of the term quadratic in $n_c$. This coefficient bounds the error for the stable walkers.\n3724: $$\n3725: \n3726:     C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) := 2 k_{\\text{stable}} \\frac{(L_{\\mu,S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}} + 2 k_1 \\left(\\frac{2V_{\\max}}{\\sigma'_{\\min\\,\\text{bound}}}\\right)^2 \\frac{(L_{\\sigma',S}(\\mathcal{S}_1, \\mathcal{S}_2))^2}{\\sigma'^{2}_{\\min\\,\\text{bound}}}\n3727: \n3728: \n3729: $$\n3730: where $L_{\\mu,S}$ and $L_{\\sigma',S}$ are the structural continuity functions for the aggregator's mean and regularized standard deviation, as defined in [](#lem-stats-structural-continuity).\n3731: :::\n3732: #### 11.3.7 Theorem: Global Continuity of the Patched Standardization Operator\n3733: By combining the bounds for the value error and the structural error, we can now state the final deterministic continuity property of the patched standardization operator. The operator is not globally Lipschitz, but it is jointly continuous with a well-defined Lipschitz-H\u00f6lder structure."
    },
    {
      "directive_type": "proof",
      "label": "proof-thm-global-continuity-patched-standardization",
      "title": null,
      "start_line": 3734,
      "end_line": 3761,
      "header_lines": [
        3735
      ],
      "content_start": 3736,
      "content_end": 3760,
      "content": "3736: Let $z(\\mathcal{S}, v, M)$ be the N-Dimensional Standardization Operator using the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, and let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two corresponding N-dimensional raw value vectors.\n3737: The squared Euclidean error between the output standardized vectors, $\\|z(\\mathcal{S}_1, \\mathbf{v}_1, M) - z(\\mathcal{S}_2, \\mathbf{v}_2, M)\\|_2^2$, is deterministically bounded by a function of the swarm displacement and the raw value difference:\n3738: $$\n3739: \n3740: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2 + 2 C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + 2 C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3741: \n3742: $$\n3743: where $C_{V,\\text{total}}$, $C_{S,\\text{direct}}$, and $C_{S,\\text{indirect}}$ are the finite, deterministic coefficients defined in [](#def-lipschitz-value-error-coefficients) and [](#def-lipschitz-structural-error-coefficients).\n3744: :::\n3745: :::{prf:proof}\n3746: :label: proof-thm-global-continuity-patched-standardization\n3747: **Proof.**\n3748: The proof is a direct assembly of the bounds derived in the preceding theorems of this section.\n3749: 1.  **Decomposition of Total Error:** From [](#thm-deterministic-error-decomposition), the total squared error is bounded by the sum of the squared value error and the squared structural error:\n3750: $$\n3751: \n3752:     \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3753: \n3754: \n3755: $$\n3756: 2.  **Substitute the Value Error Bound:** From [](#thm-lipschitz-value-error-bound), the squared value error is bounded by:\n3757: $$\n3758: \n3759:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3760: ",
      "metadata": {
        "label": "proof-thm-global-continuity-patched-standardization"
      },
      "section": "## 12. Standardization pipeline",
      "references": [],
      "raw_directive": "3734: :::{prf:theorem} Global Continuity of the Patched Standardization Operator\n3735: :label: thm-global-continuity-patched-standardization\n3736: Let $z(\\mathcal{S}, v, M)$ be the N-Dimensional Standardization Operator using the **Regularized Standard Deviation Function** ([](#def-statistical-properties-measurement)). Let $\\mathcal{S}_1$ and $\\mathcal{S}_2$ be two swarm states, and let $\\mathbf{v}_1$ and $\\mathbf{v}_2$ be two corresponding N-dimensional raw value vectors.\n3737: The squared Euclidean error between the output standardized vectors, $\\|z(\\mathcal{S}_1, \\mathbf{v}_1, M) - z(\\mathcal{S}_2, \\mathbf{v}_2, M)\\|_2^2$, is deterministically bounded by a function of the swarm displacement and the raw value difference:\n3738: $$\n3739: \n3740: \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2 + 2 C_{S,\\text{direct}} \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2) + 2 C_{S,\\text{indirect}}(\\mathcal{S}_1, \\mathcal{S}_2) \\cdot n_c(\\mathcal{S}_1, \\mathcal{S}_2)^2\n3741: \n3742: $$\n3743: where $C_{V,\\text{total}}$, $C_{S,\\text{direct}}$, and $C_{S,\\text{indirect}}$ are the finite, deterministic coefficients defined in [](#def-lipschitz-value-error-coefficients) and [](#def-lipschitz-structural-error-coefficients).\n3744: :::\n3745: :::{prf:proof}\n3746: :label: proof-thm-global-continuity-patched-standardization\n3747: **Proof.**\n3748: The proof is a direct assembly of the bounds derived in the preceding theorems of this section.\n3749: 1.  **Decomposition of Total Error:** From [](#thm-deterministic-error-decomposition), the total squared error is bounded by the sum of the squared value error and the squared structural error:\n3750: $$\n3751: \n3752:     \\|\\mathbf{z}_1 - \\mathbf{z}_2\\|_2^2 \\le 2 E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) + 2 E_{S}^2(\\mathcal{S}_1, \\mathcal{S}_2; \\mathbf{v}_2)\n3753: \n3754: \n3755: $$\n3756: 2.  **Substitute the Value Error Bound:** From [](#thm-lipschitz-value-error-bound), the squared value error is bounded by:\n3757: $$\n3758: \n3759:     E_{V}^2(\\mathcal{S}_1; \\mathbf{v}_1, \\mathbf{v}_2) \\le C_{V,\\text{total}}(\\mathcal{S}_1) \\cdot \\|\\mathbf{v}_1 - \\mathbf{v}_2\\|_2^2\n3760: \n3761: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}