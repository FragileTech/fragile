{
  "chapter_index": 5,
  "section_id": "## Part 5: Genus and Surface Classification",
  "directive_count": 3,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-genus",
      "title": "Genus of a Surface",
      "start_line": 753,
      "end_line": 781,
      "header_lines": [
        754
      ],
      "content_start": 756,
      "content_end": 780,
      "content": "756: :label: def-genus\n757: \n758: For a compact, connected, **orientable** surface $\\Sigma$ without boundary, the **genus** $g$ is related to the Euler characteristic by:\n759: \n760: $$\n761: \\chi(\\Sigma) = 2 - 2g\n762: \n763: $$\n764: \n765: **Standard surfaces**:\n766: - Sphere: $\\chi = 2$, $g = 0$ (no holes)\n767: - Torus: $\\chi = 0$, $g = 1$ (one hole)\n768: - Double torus (pretzel): $\\chi = -2$, $g = 2$ (two holes)\n769: - $g$-holed torus: $\\chi = 2 - 2g$\n770: \n771: For **non-orientable** surfaces (e.g., Klein bottle, real projective plane):\n772: \n773: $$\n774: \\chi(\\Sigma) = 2 - g\n775: \n776: $$\n777: \n778: where $g$ is the **non-orientable genus** (number of crosscaps).\n779: \n780: **Classification Theorem**: Any compact, connected surface without boundary is homeomorphic to either:",
      "metadata": {
        "label": "def-genus"
      },
      "section": "## Part 5: Genus and Surface Classification",
      "raw_directive": "753: For 2-dimensional surfaces, the **genus** is the \"number of holes\" and completely determines the topology (up to orientability).\n754: \n755: :::{prf:definition} Genus of a Surface\n756: :label: def-genus\n757: \n758: For a compact, connected, **orientable** surface $\\Sigma$ without boundary, the **genus** $g$ is related to the Euler characteristic by:\n759: \n760: $$\n761: \\chi(\\Sigma) = 2 - 2g\n762: \n763: $$\n764: \n765: **Standard surfaces**:\n766: - Sphere: $\\chi = 2$, $g = 0$ (no holes)\n767: - Torus: $\\chi = 0$, $g = 1$ (one hole)\n768: - Double torus (pretzel): $\\chi = -2$, $g = 2$ (two holes)\n769: - $g$-holed torus: $\\chi = 2 - 2g$\n770: \n771: For **non-orientable** surfaces (e.g., Klein bottle, real projective plane):\n772: \n773: $$\n774: \\chi(\\Sigma) = 2 - g\n775: \n776: $$\n777: \n778: where $g$ is the **non-orientable genus** (number of crosscaps).\n779: \n780: **Classification Theorem**: Any compact, connected surface without boundary is homeomorphic to either:\n781: 1. A sphere with $g$ handles (orientable genus $g$), or"
    },
    {
      "directive_type": "theorem",
      "label": "thm-genus-from-triangulation",
      "title": "Computing Genus from Triangulated 2-Manifold",
      "start_line": 783,
      "end_line": 835,
      "header_lines": [
        784
      ],
      "content_start": 787,
      "content_end": 834,
      "content": "787: \n788: ::::{important} **Prerequisites: Actual 2-Manifold Required**\n789: This algorithm applies ONLY to a genuine **2-dimensional combinatorial manifold** (a triangulated surface), NOT to the raw Delaunay triangulation of a 3D point cloud.\n790: \n791: **Why**: The Delaunay triangulation of walkers in $\\mathbb{R}^3$ produces a 3-dimensional simplicial complex (convex hull), not a 2-surface. To apply this genus computation, you must first:\n792: 1. Extract a 2-manifold via **\u03b1-complex** at appropriate radius (see \u00a7 2.3), OR\n793: 2. Use **persistent homology** to identify the correct scale where the 2-surface emerges\n794: \n795: **See \u00a7 1.1 warnings**: The Delaunay Euler characteristic captures point cloud topology, not landscape topology.\n796: ::::\n797: \n798: For a triangulated 2-surface $\\Sigma$ with $V$ vertices, $E$ edges, and $F$ faces:\n799: \n800: 1. **Compute Euler characteristic**: $\\chi = V - E + F$\n801: \n802: 2. **Determine orientability**: Check if the triangulation admits a consistent orientation using a **propagation-based algorithm**:\n803: \n804:    **Preconditions**: The input simplicial complex must be a **combinatorial 2-manifold**, meaning:\n805:    - For a **closed surface**: Every edge is shared by exactly two faces\n806:    - For a **surface with boundary**: Boundary edges are shared by exactly one face; interior edges by exactly two faces\n807: \n808:    If the complex has edges shared by more than two faces (pinch points) or other non-manifold features, the algorithm may fail or produce incorrect results. For robustness, verify the manifold property before running this algorithm.\n809: \n810:    a. **Initialize**: Pick an arbitrary face $F_0$ and assign it an orientation (e.g., order its vertices as $(v_1, v_2, v_3)$). Mark $F_0$ as \"oriented\". Create a queue $Q := \\{F_0\\}$.\n811: \n812:    b. **Propagate orientations**: While $Q$ is non-empty:\n813:       - Dequeue a face $F$ from $Q$\n814:       - For each edge $e$ of $F$, find the adjacent face $F'$ sharing edge $e$ (if it exists and is interior, i.e., not a boundary edge)\n815:       - If $F'$ is not yet oriented:\n816:         * Orient $F'$ so that the shared edge $e$ has **opposite orientation** in $F$ and $F'$ (if $F$ has edge oriented $(u,v)$, then $F'$ must have $(v,u)$)\n817:         * Mark $F'$ as \"oriented\" and add it to $Q$\n818:       - If $F'$ is already oriented:\n819:         * Check if the shared edge $e$ has opposite orientations in $F$ and $F'$\n820:         * If they have the **same orientation**, the surface is **non-orientable** \u2192 STOP\n821: \n822:    c. If the algorithm completes without conflicts, the surface is **orientable**.\n823: \n824:    **Important restriction**: This algorithm assumes the surface is **closed (without boundary)** or properly handles boundary edges (edges adjacent to only one face should be ignored in the consistency check). For surfaces with boundary, use the boundary-aware Euler characteristic formula: $\\chi = 2 - 2g - b$ for orientable surfaces with $b$ boundary components, or $\\chi = 2 - g - b$ for non-orientable surfaces.\n825: \n826:    **Complexity**: $O(F)$ where $F$ is the number of faces (each face visited at most once). This is equivalent to $O(E)$ since $F = O(E)$ for a 2-complex.\n827: \n828:    **Correctness**: A closed surface is orientable if and only if its triangulation admits a consistent orientation. The propagation algorithm tests for this by attempting to build such an orientation; a conflict indicates a \"twist\" characteristic of non-orientable surfaces (e.g., M\u00f6bius strip, Klein bottle).\n829: \n830: 3. **Compute genus**:\n831:    - If orientable: $g = (2 - \\chi) / 2$\n832:    - If non-orientable: $g = 2 - \\chi$\n833: \n834: **Complexity**: $O(E)$ for orientation check, $O(1)$ for genus computation given $\\chi$.",
      "metadata": {
        "label": "thm-genus-from-triangulation"
      },
      "section": "## Part 5: Genus and Surface Classification",
      "raw_directive": "783: :::\n784: \n785: :::{prf:theorem} Computing Genus from Triangulated 2-Manifold\n786: :label: thm-genus-from-triangulation\n787: \n788: ::::{important} **Prerequisites: Actual 2-Manifold Required**\n789: This algorithm applies ONLY to a genuine **2-dimensional combinatorial manifold** (a triangulated surface), NOT to the raw Delaunay triangulation of a 3D point cloud.\n790: \n791: **Why**: The Delaunay triangulation of walkers in $\\mathbb{R}^3$ produces a 3-dimensional simplicial complex (convex hull), not a 2-surface. To apply this genus computation, you must first:\n792: 1. Extract a 2-manifold via **\u03b1-complex** at appropriate radius (see \u00a7 2.3), OR\n793: 2. Use **persistent homology** to identify the correct scale where the 2-surface emerges\n794: \n795: **See \u00a7 1.1 warnings**: The Delaunay Euler characteristic captures point cloud topology, not landscape topology.\n796: ::::\n797: \n798: For a triangulated 2-surface $\\Sigma$ with $V$ vertices, $E$ edges, and $F$ faces:\n799: \n800: 1. **Compute Euler characteristic**: $\\chi = V - E + F$\n801: \n802: 2. **Determine orientability**: Check if the triangulation admits a consistent orientation using a **propagation-based algorithm**:\n803: \n804:    **Preconditions**: The input simplicial complex must be a **combinatorial 2-manifold**, meaning:\n805:    - For a **closed surface**: Every edge is shared by exactly two faces\n806:    - For a **surface with boundary**: Boundary edges are shared by exactly one face; interior edges by exactly two faces\n807: \n808:    If the complex has edges shared by more than two faces (pinch points) or other non-manifold features, the algorithm may fail or produce incorrect results. For robustness, verify the manifold property before running this algorithm.\n809: \n810:    a. **Initialize**: Pick an arbitrary face $F_0$ and assign it an orientation (e.g., order its vertices as $(v_1, v_2, v_3)$). Mark $F_0$ as \"oriented\". Create a queue $Q := \\{F_0\\}$.\n811: \n812:    b. **Propagate orientations**: While $Q$ is non-empty:\n813:       - Dequeue a face $F$ from $Q$\n814:       - For each edge $e$ of $F$, find the adjacent face $F'$ sharing edge $e$ (if it exists and is interior, i.e., not a boundary edge)\n815:       - If $F'$ is not yet oriented:\n816:         * Orient $F'$ so that the shared edge $e$ has **opposite orientation** in $F$ and $F'$ (if $F$ has edge oriented $(u,v)$, then $F'$ must have $(v,u)$)\n817:         * Mark $F'$ as \"oriented\" and add it to $Q$\n818:       - If $F'$ is already oriented:\n819:         * Check if the shared edge $e$ has opposite orientations in $F$ and $F'$\n820:         * If they have the **same orientation**, the surface is **non-orientable** \u2192 STOP\n821: \n822:    c. If the algorithm completes without conflicts, the surface is **orientable**.\n823: \n824:    **Important restriction**: This algorithm assumes the surface is **closed (without boundary)** or properly handles boundary edges (edges adjacent to only one face should be ignored in the consistency check). For surfaces with boundary, use the boundary-aware Euler characteristic formula: $\\chi = 2 - 2g - b$ for orientable surfaces with $b$ boundary components, or $\\chi = 2 - g - b$ for non-orientable surfaces.\n825: \n826:    **Complexity**: $O(F)$ where $F$ is the number of faces (each face visited at most once). This is equivalent to $O(E)$ since $F = O(E)$ for a 2-complex.\n827: \n828:    **Correctness**: A closed surface is orientable if and only if its triangulation admits a consistent orientation. The propagation algorithm tests for this by attempting to build such an orientation; a conflict indicates a \"twist\" characteristic of non-orientable surfaces (e.g., M\u00f6bius strip, Klein bottle).\n829: \n830: 3. **Compute genus**:\n831:    - If orientable: $g = (2 - \\chi) / 2$\n832:    - If non-orientable: $g = 2 - \\chi$\n833: \n834: **Complexity**: $O(E)$ for orientation check, $O(1)$ for genus computation given $\\chi$.\n835: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-gauss-bonnet-genus",
      "title": "Gauss-Bonnet and Genus",
      "start_line": 839,
      "end_line": 857,
      "header_lines": [
        840
      ],
      "content_start": 842,
      "content_end": 856,
      "content": "842: :label: thm-gauss-bonnet-genus\n843: \n844: For a compact orientable surface $\\Sigma$ without boundary:\n845: \n846: $$\n847: \\int_\\Sigma K \\, dA = 2\\pi \\chi(\\Sigma) = 2\\pi(2 - 2g) = 4\\pi(1 - g)\n848: \n849: $$\n850: \n851: where $K$ is the Gaussian curvature.\n852: \n853: **Physical Interpretation**:\n854: - **Genus 0** (sphere): Total curvature is $4\\pi > 0$ (positive on average)\n855: - **Genus 1** (torus): Total curvature is $0$ (can be flat everywhere)\n856: - **Genus $g > 1$**: Total curvature is $4\\pi(1 - g) < 0$ (negative on average, hyperbolic)",
      "metadata": {
        "label": "thm-gauss-bonnet-genus"
      },
      "section": "## Part 5: Genus and Surface Classification",
      "raw_directive": "839: ### 5.2. Genus and Gauss-Bonnet\n840: \n841: :::{prf:theorem} Gauss-Bonnet and Genus\n842: :label: thm-gauss-bonnet-genus\n843: \n844: For a compact orientable surface $\\Sigma$ without boundary:\n845: \n846: $$\n847: \\int_\\Sigma K \\, dA = 2\\pi \\chi(\\Sigma) = 2\\pi(2 - 2g) = 4\\pi(1 - g)\n848: \n849: $$\n850: \n851: where $K$ is the Gaussian curvature.\n852: \n853: **Physical Interpretation**:\n854: - **Genus 0** (sphere): Total curvature is $4\\pi > 0$ (positive on average)\n855: - **Genus 1** (torus): Total curvature is $0$ (can be flat everywhere)\n856: - **Genus $g > 1$**: Total curvature is $4\\pi(1 - g) < 0$ (negative on average, hyperbolic)\n857: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}