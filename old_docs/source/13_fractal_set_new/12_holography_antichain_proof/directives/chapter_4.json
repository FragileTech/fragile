{
  "chapter_index": 4,
  "section_id": "## 3. Lemma 2: Antichain Episodes Concentrate Near Boundary",
  "directive_count": 2,
  "hints": [
    {
      "directive_type": "lemma",
      "label": "lem-antichain-concentration",
      "title": "Minimal Antichain Localizes to Surface $\\partial A$",
      "start_line": 895,
      "end_line": 907,
      "header_lines": [
        896
      ],
      "content_start": 898,
      "content_end": 906,
      "content": "898: :label: lem-antichain-concentration\n899: \n900: Let $\\gamma_A$ be a minimal separating antichain for region $A \\subset \\mathcal{X}$. At QSD, with high probability as $N \\to \\infty$:\n901: \n902: $$\n903: \\text{dist}(x_i, \\partial A) = O(N^{-1/d}) \\quad \\forall e_i \\in \\gamma_A\n904: $$\n905: \n906: where $x_i = \\Phi(e_i)$ is the position of episode $e_i$.",
      "metadata": {
        "label": "lem-antichain-concentration"
      },
      "section": "## 3. Lemma 2: Antichain Episodes Concentrate Near Boundary",
      "raw_directive": "895: ## 3. Lemma 2: Antichain Episodes Concentrate Near Boundary\n896: \n897: :::{prf:lemma} Minimal Antichain Localizes to Surface $\\partial A$\n898: :label: lem-antichain-concentration\n899: \n900: Let $\\gamma_A$ be a minimal separating antichain for region $A \\subset \\mathcal{X}$. At QSD, with high probability as $N \\to \\infty$:\n901: \n902: $$\n903: \\text{dist}(x_i, \\partial A) = O(N^{-1/d}) \\quad \\forall e_i \\in \\gamma_A\n904: $$\n905: \n906: where $x_i = \\Phi(e_i)$ is the position of episode $e_i$.\n907: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-15",
      "title": null,
      "start_line": 909,
      "end_line": 1150,
      "header_lines": [],
      "content_start": 910,
      "content_end": 1149,
      "content": "910: \n911: :::{prf:proof}\n912: **Proof by contradiction**:\n913: \n914: Suppose there exists an episode $e_i \\in \\gamma_A$ with $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ for large constant $C$.\n915: \n916: **Step 1: Episode is deeply interior or exterior**\n917: \n918: By the separation assumption, $e_i$ cannot be in the deep interior of $A$ (since such episodes are not on the causal boundary). Similarly, $e_i$ cannot be deep in $\\bar{A}$.\n919: \n920: Therefore, $e_i$ must be within distance $O(1)$ of $\\partial A$. But we assumed $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ with $C N^{-1/d} \\ll 1$ for large $N$.\n921: \n922: **Step 2: Voronoi cell intersection**\n923: \n924: From Lemma {prf:ref}`lem-voronoi-diameter-scaling`, the Voronoi cell $\\text{Vor}_i$ has diameter $O(N^{-1/d})$.\n925: \n926: If $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ with $C \\gg 1$, then either:\n927: - $\\text{Vor}_i \\subset A$ (entirely inside $A$), or\n928: - $\\text{Vor}_i \\subset \\bar{A}$ (entirely outside $A$)\n929: \n930: **Step 3: Antichain minimality violated (rigorous construction)**\n931: \n932: **Case 1**: $\\text{Vor}_i \\subset A$ (Voronoi cell entirely inside $A$)\n933: \n934: **Sub-step 3.1: Construct replacement antichain**\n935: \n936: Recall the definition of immediate descendants $D(e_i)$ from above.\n937: \n938: Construct a new separating set:\n939: \n940: $$\n941: \\gamma'_A := (\\gamma_A \\setminus \\{e_i\\}) \\cup D(e_i)\n942: $$\n943: \n944: We claim $\\gamma'_A$ is a separating antichain.\n945: \n946: **Sub-step 3.1a: Verify $\\gamma'_A$ is an antichain**\n947: \n948: We must verify that no two elements of $\\gamma'_A$ are causally related.\n949: \n950: 1. **Within $\\gamma_A \\setminus \\{e_i\\}$**: This is an antichain by definition (subset of $\\gamma_A$). \u2713\n951: \n952: 2. **Within $D(e_i)$**: Immediate descendants form an antichain by definition\u2014no immediate descendant is an ancestor of another immediate descendant. \u2713\n953: \n954: 3. **Between $\\gamma_A \\setminus \\{e_i\\}$ and $D(e_i)$**: Let $g \\in \\gamma_A \\setminus \\{e_i\\}$ and $d \\in D(e_i)$. We have $e_i \\prec d$ by construction. Consider two cases:\n955:    - If $g \\prec d$: Then $g \\prec e_i \\prec d$ (transitivity), which contradicts $\\gamma_A$ being an antichain.\n956:    - If $d \\prec g$: Then $e_i \\prec d \\prec g$ (transitivity), which again contradicts $\\gamma_A$ being an antichain.\n957: \n958:    Therefore, $g$ and $d$ are causally independent. \u2713\n959: \n960: Thus $\\gamma'_A$ is an antichain.\n961: \n962: **Sub-step 3.2: Verify $\\gamma'_A$ is separating**\n963: \n964: Let $\\mathcal{C}$ be any causal chain from an episode in $A$ to an episode in $\\bar{A}$. We must show $\\mathcal{C}$ intersects $\\gamma'_A$.\n965: \n966: - **If $e_i \\notin \\mathcal{C}$**: Since $\\gamma_A$ is separating, $\\mathcal{C}$ must intersect $\\gamma_A$. Since $e_i \\notin \\mathcal{C}$, we have $\\mathcal{C} \\cap \\gamma_A \\subseteq \\gamma_A \\setminus \\{e_i\\} \\subset \\gamma'_A$. Therefore $\\mathcal{C}$ intersects $\\gamma'_A$. \u2713\n967: \n968: - **If $e_i \\in \\mathcal{C}$**: Since $\\text{Vor}_i \\subset A$ (by assumption of Case 1) and the chain $\\mathcal{C}$ terminates in $\\bar{A}$, the chain must continue past $e_i$ to reach $\\bar{A}$. Any causal path continuing from $e_i$ must pass through one of its immediate descendants in $D(e_i)$. Therefore $\\mathcal{C}$ must contain at least one element $d \\in D(e_i)$. Since $D(e_i) \\subset \\gamma'_A$, the chain $\\mathcal{C}$ intersects $\\gamma'_A$. \u2713\n969: \n970: In both cases, $\\mathcal{C}$ intersects $\\gamma'_A$. Thus $\\gamma'_A$ separates $A$ from $\\bar{A}$.\n971: \n972: **Sub-step 3.3: Formalize iterative reduction**\n973: \n974: **Goal**: We will construct a new antichain $\\gamma^{(K)}$ (after $K = O(1)$ iterations) where all episodes are within $O(N^{-1/d})$ of $\\partial A$, and whose size differs from the original antichain $|\\gamma_A|$ by at most $O(1)$.\n975: \n976: **Key insight**: An additive change of $O(1)$ in the antichain size is a **vanishingly small fractional change** since $|\\gamma_A| \\sim N^{(d-1)/d}$:\n977: \n978: $$\n979: \\frac{|\\gamma^{(K)}| - |\\gamma_A|}{|\\gamma_A|} = \\frac{O(1)}{N^{(d-1)/d}} = O(N^{-(d-1)/d}) \\to 0 \\quad \\text{as } N \\to \\infty\n980: $$\n981: \n982: Therefore, in the thermodynamic limit, $\\gamma^{(K)}$ is **effectively minimal** (differing by a negligible fraction), yet all its episodes are localized near $\\partial A$. This contradicts the assumption that the original $\\gamma_A$ had an interior episode while being minimal.\n983: \n984: We now show that $\\gamma'_A$ can be iteratively reduced until all episodes are near $\\partial A$, with the antichain size changing by at most $O(1)$.\n985: \n986: **Define iterative sequence**: Let $\\gamma^{(0)} = \\gamma_A$. For $k \\ge 0$, if $\\gamma^{(k)}$ contains an episode $e$ with $\\text{dist}(\\Phi(e), \\partial A) > C N^{-1/d}$, define:\n987: \n988: $$\n989: \\gamma^{(k+1)} := (\\gamma^{(k)} \\setminus \\{e\\}) \\cup D(e)\n990: $$\n991: \n992: By Sub-steps 3.1a and 3.2, each $\\gamma^{(k)}$ is a separating antichain.\n993: \n994: **Progress toward boundary (fractional convergence)**: By {prf:ref}`lem-interior-descendance`, if $e$ satisfies $\\delta_k := \\text{dist}(\\Phi(e), \\partial A) = C_k N^{-1/d}$ with $C_k \\gg 1$, then with probability $1 - O(e^{-C_k^2})$, every descendant $d \\in D(e)$ satisfies:\n995: \n996: $$\n997: \\text{dist}(\\Phi(d), \\partial A) > \\frac{\\delta_k}{2} = \\frac{C_k N^{-1/d}}{2} =: \\delta_{k+1}\n998: $$\n999: \n1000: This is **fractional progress**: each iteration halves the distance to the boundary.\n1001: \n1002: **Iteration count (geometric decay)**: Starting from $\\delta_0 = C N^{-1/d}$ with $C \\gg 1$, after $K$ iterations:\n1003: \n1004: $$\n1005: \\delta_K = \\frac{\\delta_0}{2^K} = \\frac{C N^{-1/d}}{2^K}\n1006: $$\n1007: \n1008: We reach the boundary scale $\\delta_K \\sim O(N^{-1/d})$ (i.e., $C_K = O(1)$) when:\n1009: \n1010: $$\n1011: \\frac{C}{2^K} = O(1) \\implies K = \\log_2 C = O(\\log C)\n1012: $$\n1013: \n1014: Since $C = O(1)$ is a fixed constant (independent of $N$), we have **$K = O(1)$**\u2014the number of iterations is constant, not growing with $N$.\n1015: \n1016: **Cardinality analysis**: By {prf:ref}`lem-antichain-cardinality`, at each step:\n1017: \n1018: $$\n1019: |\\gamma^{(k+1)}| = |\\gamma^{(k)}| - 1 + |D(e)|\n1020: $$\n1021: \n1022: where $\\mathbb{E}[|D(e)|] = 1 + O(1)$ at QSD (from {prf:ref}`lem-antichain-cardinality`). With high probability:\n1023: - If $|D(e)| = 1$ at any step, $|\\gamma^{(k+1)}| = |\\gamma^{(k)}|$ (size preserved)\n1024: - If $|D(e)| = 0$ at any step, $|\\gamma^{(k+1)}| < |\\gamma^{(k)}|$ (size reduced)\n1025: - If $|D(e)| \\ge 2$, the size may increase temporarily by at most $M - 1 = O(1)$\n1026: \n1027: **Rigorous concentration bound via Azuma-Hoeffding**: We now rigorously bound the change in antichain size using martingale theory with **bounded drift**.\n1028: \n1029: **Step 1: Define filtration and martingale**\n1030: \n1031: Let $\\mathcal{F}_k = \\sigma(e_0, e_1, \\ldots, e_{k-1})$ be the $\\sigma$-algebra representing the history of episode replacements up to step $k-1$.\n1032: \n1033: Define:\n1034: $$\n1035: X_k := |D(e_k)| - 1\n1036: $$\n1037: \n1038: representing the change in cardinality at step $k$. Note that $e_k$ is chosen based on $\\mathcal{F}_k$ (which episode to replace depends on $\\gamma^{(k)}$), but the number of descendants $|D(e_k)|$ has a distribution determined by the cloning operator at QSD.\n1039: \n1040: **Step 2: Compute conditional expectation**\n1041: \n1042: From {prf:ref}`lem-antichain-cardinality`, at QSD:\n1043: \n1044: $$\n1045: \\mathbb{E}[|D(e_k)| \\mid e_k \\text{ clones}] = 1 + O(1)\n1046: $$\n1047: \n1048: Since we condition on $e_k$ being an episode that requires replacement (interior), and cloning is the mechanism that creates descendants:\n1049: \n1050: $$\n1051: \\mathbb{E}[X_k \\mid \\mathcal{F}_k] = \\mathbb{E}[|D(e_k)| - 1 \\mid \\mathcal{F}_k] = O(1)\n1052: $$\n1053: \n1054: **Key observation**: The expected drift per iteration is **bounded by a constant**, independent of $N$. This is the corrected expectation from the equilibrium analysis in {prf:ref}`lem-antichain-cardinality`.\n1055: \n1056: **Step 3: Define martingale difference sequence**\n1057: \n1058: Define:\n1059: $$\n1060: Y_k := X_k - \\mathbb{E}[X_k \\mid \\mathcal{F}_k]\n1061: $$\n1062: \n1063: Then $\\{Y_k, \\mathcal{F}_k\\}$ is a martingale difference sequence: $\\mathbb{E}[Y_k \\mid \\mathcal{F}_k] = 0$.\n1064: \n1065: The total change in size is:\n1066: \n1067: $$\n1068: S_K = \\sum_{k=0}^{K-1} X_k = \\sum_{k=0}^{K-1} Y_k + \\sum_{k=0}^{K-1} \\mathbb{E}[X_k \\mid \\mathcal{F}_k]\n1069: $$\n1070: \n1071: **Step 4: Bound the martingale sum**\n1072: \n1073: Since cloning produces at most $M = O(1)$ descendants, we have $|Y_k| \\le 2M$ (bounded).\n1074: \n1075: By the **Azuma-Hoeffding inequality** for martingales:\n1076: \n1077: $$\n1078: \\mathbb{P}\\left(\\sum_{k=0}^{K-1} Y_k > t\\right) \\le \\exp\\left(-\\frac{t^2}{2K(2M)^2}\\right)\n1079: $$\n1080: \n1081: **Step 5: Bound the conditional expectation sum (corrected)**\n1082: \n1083: $$\n1084: \\sum_{k=0}^{K-1} \\mathbb{E}[X_k \\mid \\mathcal{F}_k] = K \\cdot O(1) = O(1)\n1085: $$\n1086: \n1087: Since $K = O(1)$ (constant, independent of $N$) and each expectation is $O(1)$, the total expected drift is **bounded by a constant**.\n1088: \n1089: **Step 6: Combine bounds (corrected for bounded drift)**\n1090: \n1091: The total size change is:\n1092: \n1093: $$\n1094: S_K = \\sum_{k=0}^{K-1} Y_k + O(1)\n1095: $$\n1096: \n1097: where $\\sum_{k=0}^{K-1} Y_k$ is the martingale fluctuation and $O(1)$ is the deterministic drift.\n1098: \n1099: For the martingale fluctuation, choose $t = C_1$ for some constant $C_1 > 0$:\n1100: \n1101: $$\n1102: \\mathbb{P}\\left(\\left|\\sum_{k=0}^{K-1} Y_k\\right| > C_1\\right) \\le 2\\exp\\left(-\\frac{C_1^2}{8KM^2}\\right)\n1103: $$\n1104: \n1105: Since $K = O(1)$ and $M = O(1)$, this is a **constant probability** (independent of $N$). By choosing $C_1$ sufficiently large, we can make this failure probability arbitrarily small.\n1106: \n1107: **Combined bound**: With probability $1 - O(e^{-c})$ for some constant $c > 0$:\n1108: \n1109: $$\n1110: |S_K| = O(1)\n1111: $$\n1112: \n1113: meaning the antichain size changes by at most a constant amount after $K = O(1)$ iterations.\n1114: \n1115: **Conclusion (corrected)**: With probability $1 - O(e^{-c})$ for constant $c > 0$:\n1116: \n1117: $$\n1118: |\\gamma^{(K)}| = |\\gamma^{(0)}| + O(1)\n1119: $$\n1120: \n1121: This means the antichain size remains **bounded** near the original size, changing by at most a small constant.\n1122: \n1123: **Final antichain**: After $K = O(1)$ iterations, we obtain a separating antichain $\\gamma^{(K)}$ with:\n1124: - $|\\gamma^{(K)}| = |\\gamma_A| + O(1)$ with constant (high) probability $1 - O(e^{-c})$\n1125: - All episodes within $O(N^{-1/d})$ of $\\partial A$\n1126: \n1127: **Key insight**: The O(1) change in cardinality is **negligible compared to the total antichain size** $|\\gamma_A| \\sim N^{(d-1)/d}$, so the fractional change is $O(N^{-(d-1)/d}) \\to 0$ as $N \\to \\infty$. This preserves minimality in the thermodynamic limit.\n1128: \n1129: **Sub-step 3.4: Contradiction**\n1130: \n1131: If $|\\gamma''_A| < |\\gamma_A|$, we immediately contradict the minimality of $\\gamma_A$. If $|\\gamma''_A| = |\\gamma_A|$, then $\\gamma_A$ was not unique, and the minimal antichain class includes $\\gamma''_A$ where all episodes are near $\\partial A$. In either case, any minimal antichain must have all episodes within $O(N^{-1/d})$ of $\\partial A$.\n1132: \n1133: **Case 2**: $\\text{Vor}_i \\subset \\bar{A}$ (Voronoi cell entirely outside $A$)\n1134: \n1135: Assume for contradiction that $e_i \\in \\gamma_A$ and $\\text{Vor}_i \\subset \\bar{A}$.\n1136: \n1137: By the separating property of $\\gamma_A$, the episode $e_i$ must lie on some causal chain $\\mathcal{C}$ from $A$ to $\\bar{A}$. Let $e_s \\in A$ be the starting episode of this chain. Thus $e_s \\prec e_i$ (or more generally, $e_s \\preceq e_i$).\n1138: \n1139: Since $\\mathcal{C}$ starts in $A$ and $e_i \\in \\mathcal{C}$, the chain must intersect the separating antichain $\\gamma_A$ at some episode $g \\in \\gamma_A$.\n1140: \n1141: **Key observation**: By definition of a causal chain, every element of $\\gamma_A$ that the chain intersects must be either:\n1142: - $g = e_i$ (the chain passes through $e_i$ itself), or\n1143: - $g \\prec e_i$ (the chain passes through an ancestor of $e_i$)\n1144: \n1145: **Derive contradiction**: If $g \\neq e_i$, then $g \\prec e_i$. But then $\\gamma_A$ contains two distinct elements $g, e_i$ with $g \\prec e_i$, which contradicts the definition of $\\gamma_A$ as an antichain (no two elements are causally related).\n1146: \n1147: Therefore, $g = e_i$ must hold. But this means $e_i$ is the only element of $\\gamma_A$ on the chain $\\mathcal{C}$. However, by {prf:ref}`lem-causal-chain-locality`, the causal chain from $e_s \\in A$ to any episode in $\\bar{A}$ must pass through an episode $e_m$ whose Voronoi cell intersects $\\partial A$. Since $\\text{Vor}_i \\subset \\bar{A}$ (entirely outside $A$), we have $e_m \\neq e_i$. Thus $e_m$ must also be on the chain, and $e_m$ should be in $\\gamma_A$ (by the separating property). But we just argued $e_i$ is the only element of $\\gamma_A$ on the chain\u2014contradiction.\n1148: \n1149: **Conclusion for Case 2**: The assumption that $e_i \\in \\gamma_A$ with $\\text{Vor}_i \\subset \\bar{A}$ leads to a contradiction. Therefore, no such episode can exist in a minimal separating antichain.",
      "metadata": {},
      "section": "## 3. Lemma 2: Antichain Episodes Concentrate Near Boundary",
      "raw_directive": "909: :::\n910: \n911: :::{prf:proof}\n912: **Proof by contradiction**:\n913: \n914: Suppose there exists an episode $e_i \\in \\gamma_A$ with $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ for large constant $C$.\n915: \n916: **Step 1: Episode is deeply interior or exterior**\n917: \n918: By the separation assumption, $e_i$ cannot be in the deep interior of $A$ (since such episodes are not on the causal boundary). Similarly, $e_i$ cannot be deep in $\\bar{A}$.\n919: \n920: Therefore, $e_i$ must be within distance $O(1)$ of $\\partial A$. But we assumed $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ with $C N^{-1/d} \\ll 1$ for large $N$.\n921: \n922: **Step 2: Voronoi cell intersection**\n923: \n924: From Lemma {prf:ref}`lem-voronoi-diameter-scaling`, the Voronoi cell $\\text{Vor}_i$ has diameter $O(N^{-1/d})$.\n925: \n926: If $\\text{dist}(x_i, \\partial A) > C N^{-1/d}$ with $C \\gg 1$, then either:\n927: - $\\text{Vor}_i \\subset A$ (entirely inside $A$), or\n928: - $\\text{Vor}_i \\subset \\bar{A}$ (entirely outside $A$)\n929: \n930: **Step 3: Antichain minimality violated (rigorous construction)**\n931: \n932: **Case 1**: $\\text{Vor}_i \\subset A$ (Voronoi cell entirely inside $A$)\n933: \n934: **Sub-step 3.1: Construct replacement antichain**\n935: \n936: Recall the definition of immediate descendants $D(e_i)$ from above.\n937: \n938: Construct a new separating set:\n939: \n940: $$\n941: \\gamma'_A := (\\gamma_A \\setminus \\{e_i\\}) \\cup D(e_i)\n942: $$\n943: \n944: We claim $\\gamma'_A$ is a separating antichain.\n945: \n946: **Sub-step 3.1a: Verify $\\gamma'_A$ is an antichain**\n947: \n948: We must verify that no two elements of $\\gamma'_A$ are causally related.\n949: \n950: 1. **Within $\\gamma_A \\setminus \\{e_i\\}$**: This is an antichain by definition (subset of $\\gamma_A$). \u2713\n951: \n952: 2. **Within $D(e_i)$**: Immediate descendants form an antichain by definition\u2014no immediate descendant is an ancestor of another immediate descendant. \u2713\n953: \n954: 3. **Between $\\gamma_A \\setminus \\{e_i\\}$ and $D(e_i)$**: Let $g \\in \\gamma_A \\setminus \\{e_i\\}$ and $d \\in D(e_i)$. We have $e_i \\prec d$ by construction. Consider two cases:\n955:    - If $g \\prec d$: Then $g \\prec e_i \\prec d$ (transitivity), which contradicts $\\gamma_A$ being an antichain.\n956:    - If $d \\prec g$: Then $e_i \\prec d \\prec g$ (transitivity), which again contradicts $\\gamma_A$ being an antichain.\n957: \n958:    Therefore, $g$ and $d$ are causally independent. \u2713\n959: \n960: Thus $\\gamma'_A$ is an antichain.\n961: \n962: **Sub-step 3.2: Verify $\\gamma'_A$ is separating**\n963: \n964: Let $\\mathcal{C}$ be any causal chain from an episode in $A$ to an episode in $\\bar{A}$. We must show $\\mathcal{C}$ intersects $\\gamma'_A$.\n965: \n966: - **If $e_i \\notin \\mathcal{C}$**: Since $\\gamma_A$ is separating, $\\mathcal{C}$ must intersect $\\gamma_A$. Since $e_i \\notin \\mathcal{C}$, we have $\\mathcal{C} \\cap \\gamma_A \\subseteq \\gamma_A \\setminus \\{e_i\\} \\subset \\gamma'_A$. Therefore $\\mathcal{C}$ intersects $\\gamma'_A$. \u2713\n967: \n968: - **If $e_i \\in \\mathcal{C}$**: Since $\\text{Vor}_i \\subset A$ (by assumption of Case 1) and the chain $\\mathcal{C}$ terminates in $\\bar{A}$, the chain must continue past $e_i$ to reach $\\bar{A}$. Any causal path continuing from $e_i$ must pass through one of its immediate descendants in $D(e_i)$. Therefore $\\mathcal{C}$ must contain at least one element $d \\in D(e_i)$. Since $D(e_i) \\subset \\gamma'_A$, the chain $\\mathcal{C}$ intersects $\\gamma'_A$. \u2713\n969: \n970: In both cases, $\\mathcal{C}$ intersects $\\gamma'_A$. Thus $\\gamma'_A$ separates $A$ from $\\bar{A}$.\n971: \n972: **Sub-step 3.3: Formalize iterative reduction**\n973: \n974: **Goal**: We will construct a new antichain $\\gamma^{(K)}$ (after $K = O(1)$ iterations) where all episodes are within $O(N^{-1/d})$ of $\\partial A$, and whose size differs from the original antichain $|\\gamma_A|$ by at most $O(1)$.\n975: \n976: **Key insight**: An additive change of $O(1)$ in the antichain size is a **vanishingly small fractional change** since $|\\gamma_A| \\sim N^{(d-1)/d}$:\n977: \n978: $$\n979: \\frac{|\\gamma^{(K)}| - |\\gamma_A|}{|\\gamma_A|} = \\frac{O(1)}{N^{(d-1)/d}} = O(N^{-(d-1)/d}) \\to 0 \\quad \\text{as } N \\to \\infty\n980: $$\n981: \n982: Therefore, in the thermodynamic limit, $\\gamma^{(K)}$ is **effectively minimal** (differing by a negligible fraction), yet all its episodes are localized near $\\partial A$. This contradicts the assumption that the original $\\gamma_A$ had an interior episode while being minimal.\n983: \n984: We now show that $\\gamma'_A$ can be iteratively reduced until all episodes are near $\\partial A$, with the antichain size changing by at most $O(1)$.\n985: \n986: **Define iterative sequence**: Let $\\gamma^{(0)} = \\gamma_A$. For $k \\ge 0$, if $\\gamma^{(k)}$ contains an episode $e$ with $\\text{dist}(\\Phi(e), \\partial A) > C N^{-1/d}$, define:\n987: \n988: $$\n989: \\gamma^{(k+1)} := (\\gamma^{(k)} \\setminus \\{e\\}) \\cup D(e)\n990: $$\n991: \n992: By Sub-steps 3.1a and 3.2, each $\\gamma^{(k)}$ is a separating antichain.\n993: \n994: **Progress toward boundary (fractional convergence)**: By {prf:ref}`lem-interior-descendance`, if $e$ satisfies $\\delta_k := \\text{dist}(\\Phi(e), \\partial A) = C_k N^{-1/d}$ with $C_k \\gg 1$, then with probability $1 - O(e^{-C_k^2})$, every descendant $d \\in D(e)$ satisfies:\n995: \n996: $$\n997: \\text{dist}(\\Phi(d), \\partial A) > \\frac{\\delta_k}{2} = \\frac{C_k N^{-1/d}}{2} =: \\delta_{k+1}\n998: $$\n999: \n1000: This is **fractional progress**: each iteration halves the distance to the boundary.\n1001: \n1002: **Iteration count (geometric decay)**: Starting from $\\delta_0 = C N^{-1/d}$ with $C \\gg 1$, after $K$ iterations:\n1003: \n1004: $$\n1005: \\delta_K = \\frac{\\delta_0}{2^K} = \\frac{C N^{-1/d}}{2^K}\n1006: $$\n1007: \n1008: We reach the boundary scale $\\delta_K \\sim O(N^{-1/d})$ (i.e., $C_K = O(1)$) when:\n1009: \n1010: $$\n1011: \\frac{C}{2^K} = O(1) \\implies K = \\log_2 C = O(\\log C)\n1012: $$\n1013: \n1014: Since $C = O(1)$ is a fixed constant (independent of $N$), we have **$K = O(1)$**\u2014the number of iterations is constant, not growing with $N$.\n1015: \n1016: **Cardinality analysis**: By {prf:ref}`lem-antichain-cardinality`, at each step:\n1017: \n1018: $$\n1019: |\\gamma^{(k+1)}| = |\\gamma^{(k)}| - 1 + |D(e)|\n1020: $$\n1021: \n1022: where $\\mathbb{E}[|D(e)|] = 1 + O(1)$ at QSD (from {prf:ref}`lem-antichain-cardinality`). With high probability:\n1023: - If $|D(e)| = 1$ at any step, $|\\gamma^{(k+1)}| = |\\gamma^{(k)}|$ (size preserved)\n1024: - If $|D(e)| = 0$ at any step, $|\\gamma^{(k+1)}| < |\\gamma^{(k)}|$ (size reduced)\n1025: - If $|D(e)| \\ge 2$, the size may increase temporarily by at most $M - 1 = O(1)$\n1026: \n1027: **Rigorous concentration bound via Azuma-Hoeffding**: We now rigorously bound the change in antichain size using martingale theory with **bounded drift**.\n1028: \n1029: **Step 1: Define filtration and martingale**\n1030: \n1031: Let $\\mathcal{F}_k = \\sigma(e_0, e_1, \\ldots, e_{k-1})$ be the $\\sigma$-algebra representing the history of episode replacements up to step $k-1$.\n1032: \n1033: Define:\n1034: $$\n1035: X_k := |D(e_k)| - 1\n1036: $$\n1037: \n1038: representing the change in cardinality at step $k$. Note that $e_k$ is chosen based on $\\mathcal{F}_k$ (which episode to replace depends on $\\gamma^{(k)}$), but the number of descendants $|D(e_k)|$ has a distribution determined by the cloning operator at QSD.\n1039: \n1040: **Step 2: Compute conditional expectation**\n1041: \n1042: From {prf:ref}`lem-antichain-cardinality`, at QSD:\n1043: \n1044: $$\n1045: \\mathbb{E}[|D(e_k)| \\mid e_k \\text{ clones}] = 1 + O(1)\n1046: $$\n1047: \n1048: Since we condition on $e_k$ being an episode that requires replacement (interior), and cloning is the mechanism that creates descendants:\n1049: \n1050: $$\n1051: \\mathbb{E}[X_k \\mid \\mathcal{F}_k] = \\mathbb{E}[|D(e_k)| - 1 \\mid \\mathcal{F}_k] = O(1)\n1052: $$\n1053: \n1054: **Key observation**: The expected drift per iteration is **bounded by a constant**, independent of $N$. This is the corrected expectation from the equilibrium analysis in {prf:ref}`lem-antichain-cardinality`.\n1055: \n1056: **Step 3: Define martingale difference sequence**\n1057: \n1058: Define:\n1059: $$\n1060: Y_k := X_k - \\mathbb{E}[X_k \\mid \\mathcal{F}_k]\n1061: $$\n1062: \n1063: Then $\\{Y_k, \\mathcal{F}_k\\}$ is a martingale difference sequence: $\\mathbb{E}[Y_k \\mid \\mathcal{F}_k] = 0$.\n1064: \n1065: The total change in size is:\n1066: \n1067: $$\n1068: S_K = \\sum_{k=0}^{K-1} X_k = \\sum_{k=0}^{K-1} Y_k + \\sum_{k=0}^{K-1} \\mathbb{E}[X_k \\mid \\mathcal{F}_k]\n1069: $$\n1070: \n1071: **Step 4: Bound the martingale sum**\n1072: \n1073: Since cloning produces at most $M = O(1)$ descendants, we have $|Y_k| \\le 2M$ (bounded).\n1074: \n1075: By the **Azuma-Hoeffding inequality** for martingales:\n1076: \n1077: $$\n1078: \\mathbb{P}\\left(\\sum_{k=0}^{K-1} Y_k > t\\right) \\le \\exp\\left(-\\frac{t^2}{2K(2M)^2}\\right)\n1079: $$\n1080: \n1081: **Step 5: Bound the conditional expectation sum (corrected)**\n1082: \n1083: $$\n1084: \\sum_{k=0}^{K-1} \\mathbb{E}[X_k \\mid \\mathcal{F}_k] = K \\cdot O(1) = O(1)\n1085: $$\n1086: \n1087: Since $K = O(1)$ (constant, independent of $N$) and each expectation is $O(1)$, the total expected drift is **bounded by a constant**.\n1088: \n1089: **Step 6: Combine bounds (corrected for bounded drift)**\n1090: \n1091: The total size change is:\n1092: \n1093: $$\n1094: S_K = \\sum_{k=0}^{K-1} Y_k + O(1)\n1095: $$\n1096: \n1097: where $\\sum_{k=0}^{K-1} Y_k$ is the martingale fluctuation and $O(1)$ is the deterministic drift.\n1098: \n1099: For the martingale fluctuation, choose $t = C_1$ for some constant $C_1 > 0$:\n1100: \n1101: $$\n1102: \\mathbb{P}\\left(\\left|\\sum_{k=0}^{K-1} Y_k\\right| > C_1\\right) \\le 2\\exp\\left(-\\frac{C_1^2}{8KM^2}\\right)\n1103: $$\n1104: \n1105: Since $K = O(1)$ and $M = O(1)$, this is a **constant probability** (independent of $N$). By choosing $C_1$ sufficiently large, we can make this failure probability arbitrarily small.\n1106: \n1107: **Combined bound**: With probability $1 - O(e^{-c})$ for some constant $c > 0$:\n1108: \n1109: $$\n1110: |S_K| = O(1)\n1111: $$\n1112: \n1113: meaning the antichain size changes by at most a constant amount after $K = O(1)$ iterations.\n1114: \n1115: **Conclusion (corrected)**: With probability $1 - O(e^{-c})$ for constant $c > 0$:\n1116: \n1117: $$\n1118: |\\gamma^{(K)}| = |\\gamma^{(0)}| + O(1)\n1119: $$\n1120: \n1121: This means the antichain size remains **bounded** near the original size, changing by at most a small constant.\n1122: \n1123: **Final antichain**: After $K = O(1)$ iterations, we obtain a separating antichain $\\gamma^{(K)}$ with:\n1124: - $|\\gamma^{(K)}| = |\\gamma_A| + O(1)$ with constant (high) probability $1 - O(e^{-c})$\n1125: - All episodes within $O(N^{-1/d})$ of $\\partial A$\n1126: \n1127: **Key insight**: The O(1) change in cardinality is **negligible compared to the total antichain size** $|\\gamma_A| \\sim N^{(d-1)/d}$, so the fractional change is $O(N^{-(d-1)/d}) \\to 0$ as $N \\to \\infty$. This preserves minimality in the thermodynamic limit.\n1128: \n1129: **Sub-step 3.4: Contradiction**\n1130: \n1131: If $|\\gamma''_A| < |\\gamma_A|$, we immediately contradict the minimality of $\\gamma_A$. If $|\\gamma''_A| = |\\gamma_A|$, then $\\gamma_A$ was not unique, and the minimal antichain class includes $\\gamma''_A$ where all episodes are near $\\partial A$. In either case, any minimal antichain must have all episodes within $O(N^{-1/d})$ of $\\partial A$.\n1132: \n1133: **Case 2**: $\\text{Vor}_i \\subset \\bar{A}$ (Voronoi cell entirely outside $A$)\n1134: \n1135: Assume for contradiction that $e_i \\in \\gamma_A$ and $\\text{Vor}_i \\subset \\bar{A}$.\n1136: \n1137: By the separating property of $\\gamma_A$, the episode $e_i$ must lie on some causal chain $\\mathcal{C}$ from $A$ to $\\bar{A}$. Let $e_s \\in A$ be the starting episode of this chain. Thus $e_s \\prec e_i$ (or more generally, $e_s \\preceq e_i$).\n1138: \n1139: Since $\\mathcal{C}$ starts in $A$ and $e_i \\in \\mathcal{C}$, the chain must intersect the separating antichain $\\gamma_A$ at some episode $g \\in \\gamma_A$.\n1140: \n1141: **Key observation**: By definition of a causal chain, every element of $\\gamma_A$ that the chain intersects must be either:\n1142: - $g = e_i$ (the chain passes through $e_i$ itself), or\n1143: - $g \\prec e_i$ (the chain passes through an ancestor of $e_i$)\n1144: \n1145: **Derive contradiction**: If $g \\neq e_i$, then $g \\prec e_i$. But then $\\gamma_A$ contains two distinct elements $g, e_i$ with $g \\prec e_i$, which contradicts the definition of $\\gamma_A$ as an antichain (no two elements are causally related).\n1146: \n1147: Therefore, $g = e_i$ must hold. But this means $e_i$ is the only element of $\\gamma_A$ on the chain $\\mathcal{C}$. However, by {prf:ref}`lem-causal-chain-locality`, the causal chain from $e_s \\in A$ to any episode in $\\bar{A}$ must pass through an episode $e_m$ whose Voronoi cell intersects $\\partial A$. Since $\\text{Vor}_i \\subset \\bar{A}$ (entirely outside $A$), we have $e_m \\neq e_i$. Thus $e_m$ must also be on the chain, and $e_m$ should be in $\\gamma_A$ (by the separating property). But we just argued $e_i$ is the only element of $\\gamma_A$ on the chain\u2014contradiction.\n1148: \n1149: **Conclusion for Case 2**: The assumption that $e_i \\in \\gamma_A$ with $\\text{Vor}_i \\subset \\bar{A}$ leads to a contradiction. Therefore, no such episode can exist in a minimal separating antichain.\n1150: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}