{
  "chapter_index": 6,
  "section_id": "## 6. Observable Preservation and Physical Predictions",
  "directive_count": 5,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-observable-algebra",
      "title": "Observable Algebra",
      "start_line": 1074,
      "end_line": 1094,
      "header_lines": [
        1075
      ],
      "content_start": 1077,
      "content_end": 1093,
      "content": "1077: :label: def-observable-algebra\n1078: \n1079: An **observable** is a measurable function $\\mathcal{O}: \\Omega \\to \\mathbb{R}$ on the state space.\n1080: \n1081: The **observable algebra** $\\mathcal{F}_{\\text{obs}}$ is the set of all physically relevant observables. For the Fractal Gas lattice QFT, this includes:\n1082: \n1083: 1. **Wilson loops** $W_C(U)$ (Definition 5.1.1 in [08_lattice_qft_framework.md](08_lattice_qft_framework.md))\n1084: 2. **Plaquette action** $S_P$ (Definition 6.1 in [08_lattice_qft_framework.md](08_lattice_qft_framework.md))\n1085: 3. **Energy density** $\\varepsilon(x)$\n1086: 4. **Coupling constants** $g_i$ (gauge coupling, cloning noise, friction)\n1087: \n1088: **Macro-observables:** For each observable $\\mathcal{O}$, define the **induced macro-observable**:\n1089: \n1090: $$\n1091: \\tilde{\\mathcal{O}}(\\tilde{z}) := \\mathbb{E}[\\mathcal{O}(z) \\mid \\mathcal{R}_b(z) = \\tilde{z}]\n1092: \n1093: $$",
      "metadata": {
        "label": "def-observable-algebra"
      },
      "section": "## 6. Observable Preservation and Physical Predictions",
      "references": [],
      "raw_directive": "1074: ### 6.1. Observable Algebra\n1075: \n1076: :::{prf:definition} Observable Algebra\n1077: :label: def-observable-algebra\n1078: \n1079: An **observable** is a measurable function $\\mathcal{O}: \\Omega \\to \\mathbb{R}$ on the state space.\n1080: \n1081: The **observable algebra** $\\mathcal{F}_{\\text{obs}}$ is the set of all physically relevant observables. For the Fractal Gas lattice QFT, this includes:\n1082: \n1083: 1. **Wilson loops** $W_C(U)$ (Definition 5.1.1 in [08_lattice_qft_framework.md](08_lattice_qft_framework.md))\n1084: 2. **Plaquette action** $S_P$ (Definition 6.1 in [08_lattice_qft_framework.md](08_lattice_qft_framework.md))\n1085: 3. **Energy density** $\\varepsilon(x)$\n1086: 4. **Coupling constants** $g_i$ (gauge coupling, cloning noise, friction)\n1087: \n1088: **Macro-observables:** For each observable $\\mathcal{O}$, define the **induced macro-observable**:\n1089: \n1090: $$\n1091: \\tilde{\\mathcal{O}}(\\tilde{z}) := \\mathbb{E}[\\mathcal{O}(z) \\mid \\mathcal{R}_b(z) = \\tilde{z}]\n1092: \n1093: $$\n1094: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-observable-invariance-closure",
      "title": "Observable Invariance under Closure (Bounded Observables)",
      "start_line": 1098,
      "end_line": 1179,
      "header_lines": [
        1099
      ],
      "content_start": 1101,
      "content_end": 1178,
      "content": "1101: :label: thm-observable-invariance-closure\n1102: \n1103: Suppose the renormalization channel $\\mathcal{R}_b$ satisfies computational closure. Then for any **bounded** observable $\\mathcal{O} \\in \\mathcal{F}_{\\text{obs}}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M < \\infty$, the expectation values satisfy:\n1104: \n1105: $$\n1106: \\left| \\mathbb{E}_{\\mu_{\\text{QSD}}}[\\mathcal{O}(Z)] - \\mathbb{E}_{\\tilde{\\mu}_{\\text{QSD}}}[\\tilde{\\mathcal{O}}(\\tilde{Z})] \\right| \\leq 2M \\cdot \\|\\tilde{\\mu}_{\\text{QSD}} - \\mathcal{R}_b \\mu_{\\text{QSD}}\\|_{\\text{TV}}\n1107: \n1108: $$\n1109: \n1110: where:\n1111: - $\\mu_{\\text{QSD}}$ is the micro-QSD (stationary distribution of $\\{Z_k\\}$)\n1112: - $\\tilde{\\mu}_{\\text{QSD}}$ is the macro-QSD (stationary distribution of $\\{\\tilde{Z}_k\\}$)\n1113: - $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is the push-forward of the micro-QSD through the channel\n1114: - $\\|\\cdot\\|_{\\text{TV}}$ is the total variation distance\n1115: \n1116: **Proof:**\n1117: \n1118: **Step 1 (Bounded observables and TV distance):** For any bounded observable $\\mathcal{O}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M$ and any two probability measures $\\mu, \\nu$:\n1119: \n1120: $$\n1121: |\\mathbb{E}_\\mu[\\mathcal{O}] - \\mathbb{E}_\\nu[\\mathcal{O}]| \\leq 2M \\cdot \\|\\mu - \\nu\\|_{\\text{TV}}\n1122: \n1123: $$\n1124: \n1125: **Proof of Step 1:** By definition of total variation:\n1126: \n1127: $$\n1128: \\|\\mu - \\nu\\|_{\\text{TV}} = \\sup_{|f| \\leq 1} \\left| \\int f d\\mu - \\int f d\\nu \\right|\n1129: \n1130: $$\n1131: \n1132: For $\\mathcal{O}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M$, rescale: $f = \\mathcal{O} / (2M)$ has $|f| \\leq 1/2 \\leq 1$. Therefore:\n1133: \n1134: $$\n1135: \\left| \\int \\mathcal{O} d\\mu - \\int \\mathcal{O} d\\nu \\right| = 2M \\left| \\int f d\\mu - \\int f d\\nu \\right| \\leq 2M \\cdot \\|\\mu - \\nu\\|_{\\text{TV}}\n1136: \n1137: $$\n1138: \n1139: **Step 2 (Distinguish macro-QSD from push-forward):** The macro-QSD $\\tilde{\\mu}_{\\text{QSD}}$ is the **stationary distribution** of the macro-chain $\\{\\tilde{Z}_k\\}$, defined by:\n1140: \n1141: $$\n1142: \\tilde{\\mu}_{\\text{QSD}} = \\tilde{\\mathbb{P}}^* \\tilde{\\mu}_{\\text{QSD}}\n1143: \n1144: $$\n1145: \n1146: where $\\tilde{\\mathbb{P}}$ is the macro-transition kernel.\n1147: \n1148: The push-forward $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is the image of the micro-QSD under the channel:\n1149: \n1150: $$\n1151: (\\mathcal{R}_b \\mu_{\\text{QSD}})(A) = \\int_\\Omega P(\\tilde{Z} \\in A \\mid Z = z) d\\mu_{\\text{QSD}}(z)\n1152: \n1153: $$\n1154: \n1155: **These are NOT generally equal**. $\\tilde{\\mu}_{\\text{QSD}}$ is stationary for the macro-chain, while $\\mathcal{R}_b \\mu_{\\text{QSD}}$ need not be.\n1156: \n1157: **Step 3 (Stationarity condition):** The push-forward $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is stationary for the macro-chain **if and only if** the micro-QSD is lumpable under $\\mathcal{R}_b$, which holds if computational closure is satisfied (by Proposition {prf:ref}`prop-closure-implies-lumpability`).\n1158: \n1159: Under computational closure:\n1160: \n1161: $$\n1162: \\tilde{\\mu}_{\\text{QSD}} = \\mathcal{R}_b \\mu_{\\text{QSD}}\n1163: \n1164: $$\n1165: \n1166: **Step 4 (Apply bounded observable bound):** When computational closure holds, the two measures coincide, and:\n1167: \n1168: $$\n1169: \\|\\tilde{\\mu}_{\\text{QSD}} - \\mathcal{R}_b \\mu_{\\text{QSD}}\\|_{\\text{TV}} = 0\n1170: \n1171: $$\n1172: \n1173: Therefore, the observable expectation values match perfectly:\n1174: \n1175: $$\n1176: \\mathbb{E}_{\\mu_{\\text{QSD}}}[\\mathcal{O}(Z)] = \\mathbb{E}_{\\tilde{\\mu}_{\\text{QSD}}}[\\tilde{\\mathcal{O}}(\\tilde{Z})]\n1177: \n1178: $$",
      "metadata": {
        "label": "thm-observable-invariance-closure"
      },
      "section": "## 6. Observable Preservation and Physical Predictions",
      "references": [
        "prop-closure-implies-lumpability"
      ],
      "raw_directive": "1098: ### 6.2. Observable Preservation Theorem\n1099: \n1100: :::{prf:theorem} Observable Invariance under Closure (Bounded Observables)\n1101: :label: thm-observable-invariance-closure\n1102: \n1103: Suppose the renormalization channel $\\mathcal{R}_b$ satisfies computational closure. Then for any **bounded** observable $\\mathcal{O} \\in \\mathcal{F}_{\\text{obs}}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M < \\infty$, the expectation values satisfy:\n1104: \n1105: $$\n1106: \\left| \\mathbb{E}_{\\mu_{\\text{QSD}}}[\\mathcal{O}(Z)] - \\mathbb{E}_{\\tilde{\\mu}_{\\text{QSD}}}[\\tilde{\\mathcal{O}}(\\tilde{Z})] \\right| \\leq 2M \\cdot \\|\\tilde{\\mu}_{\\text{QSD}} - \\mathcal{R}_b \\mu_{\\text{QSD}}\\|_{\\text{TV}}\n1107: \n1108: $$\n1109: \n1110: where:\n1111: - $\\mu_{\\text{QSD}}$ is the micro-QSD (stationary distribution of $\\{Z_k\\}$)\n1112: - $\\tilde{\\mu}_{\\text{QSD}}$ is the macro-QSD (stationary distribution of $\\{\\tilde{Z}_k\\}$)\n1113: - $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is the push-forward of the micro-QSD through the channel\n1114: - $\\|\\cdot\\|_{\\text{TV}}$ is the total variation distance\n1115: \n1116: **Proof:**\n1117: \n1118: **Step 1 (Bounded observables and TV distance):** For any bounded observable $\\mathcal{O}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M$ and any two probability measures $\\mu, \\nu$:\n1119: \n1120: $$\n1121: |\\mathbb{E}_\\mu[\\mathcal{O}] - \\mathbb{E}_\\nu[\\mathcal{O}]| \\leq 2M \\cdot \\|\\mu - \\nu\\|_{\\text{TV}}\n1122: \n1123: $$\n1124: \n1125: **Proof of Step 1:** By definition of total variation:\n1126: \n1127: $$\n1128: \\|\\mu - \\nu\\|_{\\text{TV}} = \\sup_{|f| \\leq 1} \\left| \\int f d\\mu - \\int f d\\nu \\right|\n1129: \n1130: $$\n1131: \n1132: For $\\mathcal{O}$ with $\\|\\mathcal{O}\\|_\\infty \\leq M$, rescale: $f = \\mathcal{O} / (2M)$ has $|f| \\leq 1/2 \\leq 1$. Therefore:\n1133: \n1134: $$\n1135: \\left| \\int \\mathcal{O} d\\mu - \\int \\mathcal{O} d\\nu \\right| = 2M \\left| \\int f d\\mu - \\int f d\\nu \\right| \\leq 2M \\cdot \\|\\mu - \\nu\\|_{\\text{TV}}\n1136: \n1137: $$\n1138: \n1139: **Step 2 (Distinguish macro-QSD from push-forward):** The macro-QSD $\\tilde{\\mu}_{\\text{QSD}}$ is the **stationary distribution** of the macro-chain $\\{\\tilde{Z}_k\\}$, defined by:\n1140: \n1141: $$\n1142: \\tilde{\\mu}_{\\text{QSD}} = \\tilde{\\mathbb{P}}^* \\tilde{\\mu}_{\\text{QSD}}\n1143: \n1144: $$\n1145: \n1146: where $\\tilde{\\mathbb{P}}$ is the macro-transition kernel.\n1147: \n1148: The push-forward $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is the image of the micro-QSD under the channel:\n1149: \n1150: $$\n1151: (\\mathcal{R}_b \\mu_{\\text{QSD}})(A) = \\int_\\Omega P(\\tilde{Z} \\in A \\mid Z = z) d\\mu_{\\text{QSD}}(z)\n1152: \n1153: $$\n1154: \n1155: **These are NOT generally equal**. $\\tilde{\\mu}_{\\text{QSD}}$ is stationary for the macro-chain, while $\\mathcal{R}_b \\mu_{\\text{QSD}}$ need not be.\n1156: \n1157: **Step 3 (Stationarity condition):** The push-forward $\\mathcal{R}_b \\mu_{\\text{QSD}}$ is stationary for the macro-chain **if and only if** the micro-QSD is lumpable under $\\mathcal{R}_b$, which holds if computational closure is satisfied (by Proposition {prf:ref}`prop-closure-implies-lumpability`).\n1158: \n1159: Under computational closure:\n1160: \n1161: $$\n1162: \\tilde{\\mu}_{\\text{QSD}} = \\mathcal{R}_b \\mu_{\\text{QSD}}\n1163: \n1164: $$\n1165: \n1166: **Step 4 (Apply bounded observable bound):** When computational closure holds, the two measures coincide, and:\n1167: \n1168: $$\n1169: \\|\\tilde{\\mu}_{\\text{QSD}} - \\mathcal{R}_b \\mu_{\\text{QSD}}\\|_{\\text{TV}} = 0\n1170: \n1171: $$\n1172: \n1173: Therefore, the observable expectation values match perfectly:\n1174: \n1175: $$\n1176: \\mathbb{E}_{\\mu_{\\text{QSD}}}[\\mathcal{O}(Z)] = \\mathbb{E}_{\\tilde{\\mu}_{\\text{QSD}}}[\\tilde{\\mathcal{O}}(\\tilde{Z})]\n1177: \n1178: $$\n1179: "
    },
    {
      "directive_type": "remark",
      "label": "unlabeled-remark-112",
      "title": "Limitation to Bounded Observables",
      "start_line": 1181,
      "end_line": 1203,
      "header_lines": [
        1182
      ],
      "content_start": 1184,
      "content_end": 1202,
      "content": "1184: :class: warning\n1185: \n1186: **Why bounded observables?** The proof uses the TV distance bound, which requires $\\|\\mathcal{O}\\|_\\infty < \\infty$.\n1187: \n1188: **Lipschitz observables:** For unbounded Lipschitz observables (e.g., energy), we need **Wasserstein-1 distance** instead of TV distance:\n1189: \n1190: $$\n1191: W_1(\\mu, \\nu) := \\inf_{\\pi} \\mathbb{E}_{(X,Y) \\sim \\pi}[d(X, Y)]\n1192: \n1193: $$\n1194: \n1195: where the infimum is over all couplings $\\pi$ with marginals $\\mu, \\nu$.\n1196: \n1197: For Lipschitz $\\mathcal{O}$ with constant $L$:\n1198: \n1199: $$\n1200: |\\mathbb{E}_\\mu[\\mathcal{O}] - \\mathbb{E}_\\nu[\\mathcal{O}]| \\leq L \\cdot W_1(\\mu, \\nu)\n1201: \n1202: $$",
      "metadata": {
        "class": "warning"
      },
      "section": "## 6. Observable Preservation and Physical Predictions",
      "references": [],
      "raw_directive": "1181: :::\n1182: \n1183: :::{prf:remark} Limitation to Bounded Observables\n1184: :class: warning\n1185: \n1186: **Why bounded observables?** The proof uses the TV distance bound, which requires $\\|\\mathcal{O}\\|_\\infty < \\infty$.\n1187: \n1188: **Lipschitz observables:** For unbounded Lipschitz observables (e.g., energy), we need **Wasserstein-1 distance** instead of TV distance:\n1189: \n1190: $$\n1191: W_1(\\mu, \\nu) := \\inf_{\\pi} \\mathbb{E}_{(X,Y) \\sim \\pi}[d(X, Y)]\n1192: \n1193: $$\n1194: \n1195: where the infimum is over all couplings $\\pi$ with marginals $\\mu, \\nu$.\n1196: \n1197: For Lipschitz $\\mathcal{O}$ with constant $L$:\n1198: \n1199: $$\n1200: |\\mathbb{E}_\\mu[\\mathcal{O}] - \\mathbb{E}_\\nu[\\mathcal{O}]| \\leq L \\cdot W_1(\\mu, \\nu)\n1201: \n1202: $$\n1203: "
    },
    {
      "directive_type": "corollary",
      "label": "cor-wilson-loop-preservation",
      "title": "Wilson Loop Preservation",
      "start_line": 1205,
      "end_line": 1218,
      "header_lines": [
        1206
      ],
      "content_start": 1208,
      "content_end": 1217,
      "content": "1208: :label: cor-wilson-loop-preservation\n1209: \n1210: For Wilson loops $W_C$ on the lattice, computational closure implies:\n1211: \n1212: $$\n1213: \\left| \\langle W_C \\rangle_{\\text{micro}} - \\langle W_{\\tilde{C}} \\rangle_{\\text{macro}} \\right| \\leq C \\cdot D_{\\text{KL}}(\\tilde{\\mu}_{\\text{QSD}} \\| \\mathcal{R}_b \\mu_{\\text{QSD}})^{1/2}\n1214: \n1215: $$\n1216: \n1217: where $\\tilde{C}$ is the coarse-grained loop (block-level path corresponding to the micro-level path $C$).",
      "metadata": {
        "label": "cor-wilson-loop-preservation"
      },
      "section": "## 6. Observable Preservation and Physical Predictions",
      "references": [],
      "raw_directive": "1205: :::\n1206: \n1207: :::{prf:corollary} Wilson Loop Preservation\n1208: :label: cor-wilson-loop-preservation\n1209: \n1210: For Wilson loops $W_C$ on the lattice, computational closure implies:\n1211: \n1212: $$\n1213: \\left| \\langle W_C \\rangle_{\\text{micro}} - \\langle W_{\\tilde{C}} \\rangle_{\\text{macro}} \\right| \\leq C \\cdot D_{\\text{KL}}(\\tilde{\\mu}_{\\text{QSD}} \\| \\mathcal{R}_b \\mu_{\\text{QSD}})^{1/2}\n1214: \n1215: $$\n1216: \n1217: where $\\tilde{C}$ is the coarse-grained loop (block-level path corresponding to the micro-level path $C$).\n1218: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-kl-divergence-bound-coarse-graining",
      "title": "KL-Divergence Bound for Coarse-Graining",
      "start_line": 1224,
      "end_line": 1240,
      "header_lines": [
        1225
      ],
      "content_start": 1227,
      "content_end": 1239,
      "content": "1227: :label: thm-kl-divergence-bound-coarse-graining\n1228: \n1229: Let $\\mu_k^{\\text{micro}}$ be the distribution of the micro-chain at time $k$ and $\\mu_k^{\\text{macro}} = \\mathcal{R}_b \\mu_k^{\\text{micro}}$ be the push-forward. Then:\n1230: \n1231: $$\n1232: D_{\\text{KL}}(\\mu_k^{\\text{macro}} \\| \\pi_{\\text{QSD}}^{\\text{macro}}) \\leq (1 - \\kappa \\Delta t)^k D_{\\text{KL}}(\\mu_0^{\\text{macro}} \\| \\pi_{\\text{QSD}}^{\\text{macro}}) + \\frac{C_{\\text{total}}}{\\kappa}\n1233: \n1234: $$\n1235: \n1236: where:\n1237: - $\\kappa > 0$ is the Lyapunov drift constant (Theorem 4.1 in [02_computational_equivalence.md](02_computational_equivalence.md))\n1238: - $C_{\\text{total}}$ is the drift bound\n1239: - $\\Delta t$ is the timestep size",
      "metadata": {
        "label": "thm-kl-divergence-bound-coarse-graining"
      },
      "section": "## 6. Observable Preservation and Physical Predictions",
      "references": [
        "thm-observable-invariance-closure"
      ],
      "raw_directive": "1224: The Fractal Gas already has rigorous KL-convergence bounds ([02_computational_equivalence.md](02_computational_equivalence.md) and [10_kl_convergence/10_kl_convergence.md](../10_kl_convergence/10_kl_convergence.md)).\n1225: \n1226: :::{prf:theorem} KL-Divergence Bound for Coarse-Graining\n1227: :label: thm-kl-divergence-bound-coarse-graining\n1228: \n1229: Let $\\mu_k^{\\text{micro}}$ be the distribution of the micro-chain at time $k$ and $\\mu_k^{\\text{macro}} = \\mathcal{R}_b \\mu_k^{\\text{micro}}$ be the push-forward. Then:\n1230: \n1231: $$\n1232: D_{\\text{KL}}(\\mu_k^{\\text{macro}} \\| \\pi_{\\text{QSD}}^{\\text{macro}}) \\leq (1 - \\kappa \\Delta t)^k D_{\\text{KL}}(\\mu_0^{\\text{macro}} \\| \\pi_{\\text{QSD}}^{\\text{macro}}) + \\frac{C_{\\text{total}}}{\\kappa}\n1233: \n1234: $$\n1235: \n1236: where:\n1237: - $\\kappa > 0$ is the Lyapunov drift constant (Theorem 4.1 in [02_computational_equivalence.md](02_computational_equivalence.md))\n1238: - $C_{\\text{total}}$ is the drift bound\n1239: - $\\Delta t$ is the timestep size\n1240: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}