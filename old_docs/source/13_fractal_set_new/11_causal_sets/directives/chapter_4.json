{
  "chapter_index": 4,
  "section_id": "## 4. Faithful Discretization and Manifoldlikeness",
  "directive_count": 4,
  "hints": [
    {
      "directive_type": "theorem",
      "label": "thm-fractal-set-faithful-embedding",
      "title": "Fractal Set is Faithful Discretization of Riemannian Manifold",
      "start_line": 264,
      "end_line": 288,
      "header_lines": [
        265
      ],
      "content_start": 267,
      "content_end": 287,
      "content": "267: :label: thm-fractal-set-faithful-embedding\n268: \n269: Let $(\\mathcal{X}, g)$ be the emergent Riemannian manifold with metric $g(x) = H(x) + \\epsilon_\\Sigma I$. The Fractal Set $(E, \\prec_{\\text{CST}})$ provides a **faithful discretization** in the sense:\n270: \n271: 1. **Volume Matching**: The number of episodes in a region $\\Omega \\subset \\mathcal{X}$ satisfies:\n272: \n273: $$\n274: \\mathbb{E}\\left[\\frac{|E \\cap \\Omega|}{N}\\right] = \\frac{1}{Z} \\int_{\\Omega} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T} dx + O(N^{-1/2})\n275: $$\n276: \n277: 2. **Metric Recovery**: The Riemannian distance can be recovered from the causal structure via:\n278: \n279: $$\n280: d_{\\mathcal{X}}(x_i, x_j) = c \\cdot \\inf\\{t_j - t_i : e_i \\prec e \\prec e_j \\text{ with } t_e = t_i + t/c\\}\n281: $$\n282: \n283: 3. **Dimension Estimation**: The Myrheim-Meyer dimension estimator converges:\n284: \n285: $$\n286: d_{\\text{MM}} := \\lim_{N \\to \\infty} \\frac{\\ln \\mathbb{E}[|I(e_1, e_2)|]}{\\ln \\mathbb{E}[\\sqrt{|I(e_1, e_3)| \\cdot |I(e_3, e_2)|}]} \\xrightarrow{N \\to \\infty} d\n287: $$",
      "metadata": {
        "label": "thm-fractal-set-faithful-embedding"
      },
      "section": "## 4. Faithful Discretization and Manifoldlikeness",
      "references": [],
      "raw_directive": "264: ### 4.1. Faithful Embedding Theorem\n265: \n266: :::{prf:theorem} Fractal Set is Faithful Discretization of Riemannian Manifold\n267: :label: thm-fractal-set-faithful-embedding\n268: \n269: Let $(\\mathcal{X}, g)$ be the emergent Riemannian manifold with metric $g(x) = H(x) + \\epsilon_\\Sigma I$. The Fractal Set $(E, \\prec_{\\text{CST}})$ provides a **faithful discretization** in the sense:\n270: \n271: 1. **Volume Matching**: The number of episodes in a region $\\Omega \\subset \\mathcal{X}$ satisfies:\n272: \n273: $$\n274: \\mathbb{E}\\left[\\frac{|E \\cap \\Omega|}{N}\\right] = \\frac{1}{Z} \\int_{\\Omega} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T} dx + O(N^{-1/2})\n275: $$\n276: \n277: 2. **Metric Recovery**: The Riemannian distance can be recovered from the causal structure via:\n278: \n279: $$\n280: d_{\\mathcal{X}}(x_i, x_j) = c \\cdot \\inf\\{t_j - t_i : e_i \\prec e \\prec e_j \\text{ with } t_e = t_i + t/c\\}\n281: $$\n282: \n283: 3. **Dimension Estimation**: The Myrheim-Meyer dimension estimator converges:\n284: \n285: $$\n286: d_{\\text{MM}} := \\lim_{N \\to \\infty} \\frac{\\ln \\mathbb{E}[|I(e_1, e_2)|]}{\\ln \\mathbb{E}[\\sqrt{|I(e_1, e_3)| \\cdot |I(e_3, e_2)|}]} \\xrightarrow{N \\to \\infty} d\n287: $$\n288: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-29",
      "title": null,
      "start_line": 290,
      "end_line": 340,
      "header_lines": [],
      "content_start": 291,
      "content_end": 339,
      "content": "291: \n292: :::{prf:proof}\n293: **Part 1 (Volume Matching)**:\n294: \n295: The expected number of episodes in $\\Omega$ is:\n296: \n297: $$\n298: \\mathbb{E}[|E \\cap \\Omega|] = N \\cdot \\mathbb{P}(e \\in \\Omega) = N \\int_{\\Omega} \\frac{\\rho_{\\text{spatial}}(x)}{Z} dx\n299: $$\n300: \n301: $$\n302: = \\frac{N}{Z} \\int_{\\Omega} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T} dx\n303: $$\n304: \n305: Normalizing by $N$ gives the stated result. The $O(N^{-1/2})$ error comes from finite-sample fluctuations (Central Limit Theorem).\n306: \n307: **Part 2 (Metric Recovery)**:\n308: \n309: The Riemannian distance $d_{\\mathcal{X}}(x_i, x_j)$ is the length of the shortest path in $(\\mathcal{X}, g)$.\n310: \n311: For episodes $e_i$ at $(t_i, x_i)$ and $e_j$ at $(t_j, x_j)$, consider a chain $e_i \\prec e \\prec e_j$ where $e$ is at $(t, x)$.\n312: \n313: From the causal order definition:\n314: - $d_{\\mathcal{X}}(x_i, x) < c(t - t_i)$\n315: - $d_{\\mathcal{X}}(x, x_j) < c(t_j - t)$\n316: \n317: The shortest such chain gives $d_{\\mathcal{X}}(x_i, x_j) \\approx c(t_j - t_i)$ for direct causal connection.\n318: \n319: For non-direct connections, the inf over chains approximates the geodesic distance.\n320: \n321: **Part 3 (Dimension Estimation)**:\n322: \n323: The Myrheim-Meyer dimension estimator uses the scaling of causal intervals.\n324: \n325: For a $d$-dimensional manifold with Lorentzian metric, the expected size of a causal interval scales as:\n326: \n327: $$\n328: \\mathbb{E}[|I(e_1, e_2)|] \\sim (\\Delta t)^d\n329: $$\n330: \n331: where $\\Delta t = t_2 - t_1$ is the temporal separation.\n332: \n333: The estimator extracts $d$ from the scaling exponent. For the Fractal Set:\n334: \n335: $$\n336: \\mathbb{E}[|I(e_1, e_2)|] = \\int_{t_1}^{t_2} dt \\int_{\\mathcal{B}_t} \\rho_{\\text{spatial}}(x) \\sqrt{\\det g} \\, dx \\sim (t_2 - t_1)^d\n337: $$\n338: \n339: for small $t_2 - t_1$. Thus $d_{\\text{MM}} \\to d$ as $N \\to \\infty$.",
      "metadata": {},
      "section": "## 4. Faithful Discretization and Manifoldlikeness",
      "references": [],
      "raw_directive": "290: :::\n291: \n292: :::{prf:proof}\n293: **Part 1 (Volume Matching)**:\n294: \n295: The expected number of episodes in $\\Omega$ is:\n296: \n297: $$\n298: \\mathbb{E}[|E \\cap \\Omega|] = N \\cdot \\mathbb{P}(e \\in \\Omega) = N \\int_{\\Omega} \\frac{\\rho_{\\text{spatial}}(x)}{Z} dx\n299: $$\n300: \n301: $$\n302: = \\frac{N}{Z} \\int_{\\Omega} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T} dx\n303: $$\n304: \n305: Normalizing by $N$ gives the stated result. The $O(N^{-1/2})$ error comes from finite-sample fluctuations (Central Limit Theorem).\n306: \n307: **Part 2 (Metric Recovery)**:\n308: \n309: The Riemannian distance $d_{\\mathcal{X}}(x_i, x_j)$ is the length of the shortest path in $(\\mathcal{X}, g)$.\n310: \n311: For episodes $e_i$ at $(t_i, x_i)$ and $e_j$ at $(t_j, x_j)$, consider a chain $e_i \\prec e \\prec e_j$ where $e$ is at $(t, x)$.\n312: \n313: From the causal order definition:\n314: - $d_{\\mathcal{X}}(x_i, x) < c(t - t_i)$\n315: - $d_{\\mathcal{X}}(x, x_j) < c(t_j - t)$\n316: \n317: The shortest such chain gives $d_{\\mathcal{X}}(x_i, x_j) \\approx c(t_j - t_i)$ for direct causal connection.\n318: \n319: For non-direct connections, the inf over chains approximates the geodesic distance.\n320: \n321: **Part 3 (Dimension Estimation)**:\n322: \n323: The Myrheim-Meyer dimension estimator uses the scaling of causal intervals.\n324: \n325: For a $d$-dimensional manifold with Lorentzian metric, the expected size of a causal interval scales as:\n326: \n327: $$\n328: \\mathbb{E}[|I(e_1, e_2)|] \\sim (\\Delta t)^d\n329: $$\n330: \n331: where $\\Delta t = t_2 - t_1$ is the temporal separation.\n332: \n333: The estimator extracts $d$ from the scaling exponent. For the Fractal Set:\n334: \n335: $$\n336: \\mathbb{E}[|I(e_1, e_2)|] = \\int_{t_1}^{t_2} dt \\int_{\\mathcal{B}_t} \\rho_{\\text{spatial}}(x) \\sqrt{\\det g} \\, dx \\sim (t_2 - t_1)^d\n337: $$\n338: \n339: for small $t_2 - t_1$. Thus $d_{\\text{MM}} \\to d$ as $N \\to \\infty$.\n340: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-fractal-vs-poisson",
      "title": "Fractal Set Improves on Poisson Sprinkling",
      "start_line": 344,
      "end_line": 364,
      "header_lines": [
        345
      ],
      "content_start": 347,
      "content_end": 363,
      "content": "347: :label: prop-fractal-vs-poisson\n348: \n349: Compared to uniform Poisson sprinkling with density $\\rho_0 = N/V_{\\text{total}}$, the Fractal Set with adaptive density $\\rho(x) = \\sqrt{\\det g(x)} \\psi(x)$ achieves:\n350: \n351: 1. **Better geometric fidelity**: Variance in local sample count is:\n352: \n353: $$\n354: \\text{Var}_{\\text{Fractal}}[|E \\cap \\Omega|] < \\text{Var}_{\\text{Poisson}}[|E \\cap \\Omega|]\n355: $$\n356: \n357: for regions $\\Omega$ where $\\sqrt{\\det g}$ varies significantly.\n358: \n359: 2. **Optimal information content**: The Kullback-Leibler divergence from the true volume measure is minimized:\n360: \n361: $$\n362: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Fractal}}) < D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Poisson}})\n363: $$",
      "metadata": {
        "label": "prop-fractal-vs-poisson"
      },
      "section": "## 4. Faithful Discretization and Manifoldlikeness",
      "references": [],
      "raw_directive": "344: ### 4.2. Comparison with Poisson Sprinkling\n345: \n346: :::{prf:proposition} Fractal Set Improves on Poisson Sprinkling\n347: :label: prop-fractal-vs-poisson\n348: \n349: Compared to uniform Poisson sprinkling with density $\\rho_0 = N/V_{\\text{total}}$, the Fractal Set with adaptive density $\\rho(x) = \\sqrt{\\det g(x)} \\psi(x)$ achieves:\n350: \n351: 1. **Better geometric fidelity**: Variance in local sample count is:\n352: \n353: $$\n354: \\text{Var}_{\\text{Fractal}}[|E \\cap \\Omega|] < \\text{Var}_{\\text{Poisson}}[|E \\cap \\Omega|]\n355: $$\n356: \n357: for regions $\\Omega$ where $\\sqrt{\\det g}$ varies significantly.\n358: \n359: 2. **Optimal information content**: The Kullback-Leibler divergence from the true volume measure is minimized:\n360: \n361: $$\n362: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Fractal}}) < D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Poisson}})\n363: $$\n364: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-105",
      "title": null,
      "start_line": 366,
      "end_line": 406,
      "header_lines": [],
      "content_start": 367,
      "content_end": 405,
      "content": "367: \n368: :::{prf:proof}\n369: **Part 1 (Geometric Fidelity)**:\n370: \n371: For Poisson sprinkling with uniform density $\\rho_0$:\n372: \n373: $$\n374: \\text{Var}_{\\text{Poisson}}[|E \\cap \\Omega|] = \\rho_0 \\int_{\\Omega} \\sqrt{\\det g} \\, dx\n375: $$\n376: \n377: For Fractal Set with adaptive density:\n378: \n379: $$\n380: \\text{Var}_{\\text{Fractal}}[|E \\cap \\Omega|] = \\int_{\\Omega} \\rho(x) [1 - \\rho(x)] dx \\leq \\int_{\\Omega} \\rho(x) dx\n381: $$\n382: \n383: When $\\rho(x) \\propto \\sqrt{\\det g(x)}$ matches the local geometry, the variance is reduced because sampling is concentrated where the volume element is large.\n384: \n385: **Part 2 (Information Content)**:\n386: \n387: The KL divergence from the true volume measure $\\rho_{\\text{true}} = \\sqrt{\\det g} / V$ to the Fractal Set density is:\n388: \n389: $$\n390: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Fractal}}) = \\int \\rho_{\\text{true}} \\log \\frac{\\rho_{\\text{true}}}{\\rho_{\\text{Fractal}}} dx\n391: $$\n392: \n393: $$\n394: = \\int \\frac{\\sqrt{\\det g}}{V} \\log \\frac{\\sqrt{\\det g} / V}{\\sqrt{\\det g} \\psi / Z} dx = \\log(Z/V) + \\int \\rho_{\\text{true}} \\log(1/\\psi) dx\n395: $$\n396: \n397: For Poisson with constant density $\\rho_0 = N/V$:\n398: \n399: $$\n400: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Poisson}}) = \\int \\frac{\\sqrt{\\det g}}{V} \\log \\frac{\\sqrt{\\det g}}{\\rho_0} dx\n401: $$\n402: \n403: When $\\sqrt{\\det g}$ varies spatially, the constant $\\rho_0$ cannot match it everywhere, leading to higher KL divergence.\n404: \n405: The Fractal Set with $\\rho \\propto \\sqrt{\\det g}$ achieves the minimum KL divergence (modulo the fitness factor $\\psi$).",
      "metadata": {},
      "section": "## 4. Faithful Discretization and Manifoldlikeness",
      "references": [],
      "raw_directive": "366: :::\n367: \n368: :::{prf:proof}\n369: **Part 1 (Geometric Fidelity)**:\n370: \n371: For Poisson sprinkling with uniform density $\\rho_0$:\n372: \n373: $$\n374: \\text{Var}_{\\text{Poisson}}[|E \\cap \\Omega|] = \\rho_0 \\int_{\\Omega} \\sqrt{\\det g} \\, dx\n375: $$\n376: \n377: For Fractal Set with adaptive density:\n378: \n379: $$\n380: \\text{Var}_{\\text{Fractal}}[|E \\cap \\Omega|] = \\int_{\\Omega} \\rho(x) [1 - \\rho(x)] dx \\leq \\int_{\\Omega} \\rho(x) dx\n381: $$\n382: \n383: When $\\rho(x) \\propto \\sqrt{\\det g(x)}$ matches the local geometry, the variance is reduced because sampling is concentrated where the volume element is large.\n384: \n385: **Part 2 (Information Content)**:\n386: \n387: The KL divergence from the true volume measure $\\rho_{\\text{true}} = \\sqrt{\\det g} / V$ to the Fractal Set density is:\n388: \n389: $$\n390: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Fractal}}) = \\int \\rho_{\\text{true}} \\log \\frac{\\rho_{\\text{true}}}{\\rho_{\\text{Fractal}}} dx\n391: $$\n392: \n393: $$\n394: = \\int \\frac{\\sqrt{\\det g}}{V} \\log \\frac{\\sqrt{\\det g} / V}{\\sqrt{\\det g} \\psi / Z} dx = \\log(Z/V) + \\int \\rho_{\\text{true}} \\log(1/\\psi) dx\n395: $$\n396: \n397: For Poisson with constant density $\\rho_0 = N/V$:\n398: \n399: $$\n400: D_{\\text{KL}}(\\rho_{\\text{true}} \\| \\rho_{\\text{Poisson}}) = \\int \\frac{\\sqrt{\\det g}}{V} \\log \\frac{\\sqrt{\\det g}}{\\rho_0} dx\n401: $$\n402: \n403: When $\\sqrt{\\det g}$ varies spatially, the constant $\\rho_0$ cannot match it everywhere, leading to higher KL divergence.\n404: \n405: The Fractal Set with $\\rho \\propto \\sqrt{\\det g}$ achieves the minimum KL divergence (modulo the fitness factor $\\psi$).\n406: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}