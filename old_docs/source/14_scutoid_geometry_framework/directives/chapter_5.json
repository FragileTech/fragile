{
  "chapter_index": 5,
  "section_id": "## 5. Multiple Curvature Perspectives and Their Unification",
  "directive_count": 45,
  "hints": [
    {
      "directive_type": "definition",
      "label": "def-deficit-angle",
      "title": "Deficit Angle (Discrete Curvature)",
      "start_line": 1008,
      "end_line": 1030,
      "header_lines": [
        1009
      ],
      "content_start": 1011,
      "content_end": 1029,
      "content": "1011: :label: def-deficit-angle\n1012: \n1013: Consider the Delaunay triangulation dual to the Voronoi tessellation of the walker configuration $S_t = \\{x_1, \\ldots, x_N\\}$ at time $t$. For a vertex $v_i$ corresponding to walker $i$, let $\\{F_k\\}_{k=1}^{n_i}$ be the faces incident to $v_i$ (simplices containing $v_i$ in their boundary).\n1014: \n1015: In dimension $d$, each face $F_k$ subtends a **solid angle** $\\Omega_k$ at vertex $v_i$. The **deficit angle** is:\n1016: \n1017: $$\n1018: \\delta_i := \\Omega_{\\text{total}}(d) - \\sum_{k=1}^{n_i} \\Omega_k\n1019: $$\n1020: \n1021: where $\\Omega_{\\text{total}}(d)$ is the total solid angle in $\\mathbb{R}^d$:\n1022: \n1023: $$\n1024: \\Omega_{\\text{total}}(d) = \\begin{cases}\n1025: 2\\pi & d = 2 \\\\\n1026: 4\\pi & d = 3 \\\\\n1027: \\frac{2\\pi^{d/2}}{\\Gamma(d/2)} & d \\ge 2\n1028: \\end{cases}\n1029: $$",
      "metadata": {
        "label": "def-deficit-angle"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1008: ### 5.2. Deficit Angles at Voronoi/Delaunay Vertices\n1009: \n1010: :::{prf:definition} Deficit Angle (Discrete Curvature)\n1011: :label: def-deficit-angle\n1012: \n1013: Consider the Delaunay triangulation dual to the Voronoi tessellation of the walker configuration $S_t = \\{x_1, \\ldots, x_N\\}$ at time $t$. For a vertex $v_i$ corresponding to walker $i$, let $\\{F_k\\}_{k=1}^{n_i}$ be the faces incident to $v_i$ (simplices containing $v_i$ in their boundary).\n1014: \n1015: In dimension $d$, each face $F_k$ subtends a **solid angle** $\\Omega_k$ at vertex $v_i$. The **deficit angle** is:\n1016: \n1017: $$\n1018: \\delta_i := \\Omega_{\\text{total}}(d) - \\sum_{k=1}^{n_i} \\Omega_k\n1019: $$\n1020: \n1021: where $\\Omega_{\\text{total}}(d)$ is the total solid angle in $\\mathbb{R}^d$:\n1022: \n1023: $$\n1024: \\Omega_{\\text{total}}(d) = \\begin{cases}\n1025: 2\\pi & d = 2 \\\\\n1026: 4\\pi & d = 3 \\\\\n1027: \\frac{2\\pi^{d/2}}{\\Gamma(d/2)} & d \\ge 2\n1028: \\end{cases}\n1029: $$\n1030: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-discrete-gauss-bonnet",
      "title": "Discrete Gauss-Bonnet Theorem",
      "start_line": 1032,
      "end_line": 1044,
      "header_lines": [
        1033
      ],
      "content_start": 1035,
      "content_end": 1043,
      "content": "1035: :label: thm-discrete-gauss-bonnet\n1036: \n1037: For a triangulated polyhedral surface $P$ in $\\mathbb{R}^3$ (or more generally, a simplicial complex in $\\mathbb{R}^d$), the sum of deficit angles equals the Euler characteristic:\n1038: \n1039: $$\n1040: \\sum_{i \\in \\text{vertices}} \\delta_i = 2\\pi \\chi(P)\n1041: $$\n1042: \n1043: where $\\chi(P) = V - E + F$ (vertices minus edges plus faces) is the Euler characteristic.",
      "metadata": {
        "label": "thm-discrete-gauss-bonnet"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1032: :::\n1033: \n1034: :::{prf:theorem} Discrete Gauss-Bonnet Theorem\n1035: :label: thm-discrete-gauss-bonnet\n1036: \n1037: For a triangulated polyhedral surface $P$ in $\\mathbb{R}^3$ (or more generally, a simplicial complex in $\\mathbb{R}^d$), the sum of deficit angles equals the Euler characteristic:\n1038: \n1039: $$\n1040: \\sum_{i \\in \\text{vertices}} \\delta_i = 2\\pi \\chi(P)\n1041: $$\n1042: \n1043: where $\\chi(P) = V - E + F$ (vertices minus edges plus faces) is the Euler characteristic.\n1044: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-deficit-ricci-convergence",
      "title": "Deficit Angle Convergence to Ricci Scalar (All Dimensions)",
      "start_line": 1046,
      "end_line": 1067,
      "header_lines": [
        1047
      ],
      "content_start": 1049,
      "content_end": 1066,
      "content": "1049: :label: thm-deficit-ricci-convergence\n1050: \n1051: In the continuum limit, the deficit angle at a vertex of a Delaunay triangulation converges to the integrated Ricci scalar curvature in the corresponding Voronoi cell:\n1052: \n1053: $$\n1054: \\lim_{\\text{diam}(V_i) \\to 0} \\frac{\\delta_i}{\\text{Vol}(\\partial V_i)} = C(d) \\, R(x_i)\n1055: $$\n1056: \n1057: where:\n1058: - $\\delta_i$ is the deficit angle at vertex $v_i$\n1059: - $V_i$ is the Voronoi cell of walker $i$\n1060: - $R(x_i)$ is the Ricci scalar of the emergent metric $g = H + \\epsilon_\\Sigma I$ at $x_i$\n1061: - $C(d) = \\frac{\\Omega_{\\text{total}}(d)}{(d-2)!}$ is a dimension-dependent geometric constant\n1062: - $\\Omega_{\\text{total}}(d) = \\frac{2\\pi^{d/2}}{\\Gamma(d/2)}$ is the total solid angle in $\\mathbb{R}^d$\n1063: \n1064: **For $d=2$**: $C(2) = \\frac{2\\pi}{1} = 2\\pi$, giving $\\frac{\\delta_i}{\\text{Area}(\\partial V_i)} = 2\\pi K(x_i) = \\pi R(x_i)$\n1065: \n1066: **For $d=3$**: $C(3) = \\frac{4\\pi}{1} = 4\\pi$",
      "metadata": {
        "label": "thm-deficit-ricci-convergence"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1046: :::\n1047: \n1048: :::{prf:theorem} Deficit Angle Convergence to Ricci Scalar (All Dimensions)\n1049: :label: thm-deficit-ricci-convergence\n1050: \n1051: In the continuum limit, the deficit angle at a vertex of a Delaunay triangulation converges to the integrated Ricci scalar curvature in the corresponding Voronoi cell:\n1052: \n1053: $$\n1054: \\lim_{\\text{diam}(V_i) \\to 0} \\frac{\\delta_i}{\\text{Vol}(\\partial V_i)} = C(d) \\, R(x_i)\n1055: $$\n1056: \n1057: where:\n1058: - $\\delta_i$ is the deficit angle at vertex $v_i$\n1059: - $V_i$ is the Voronoi cell of walker $i$\n1060: - $R(x_i)$ is the Ricci scalar of the emergent metric $g = H + \\epsilon_\\Sigma I$ at $x_i$\n1061: - $C(d) = \\frac{\\Omega_{\\text{total}}(d)}{(d-2)!}$ is a dimension-dependent geometric constant\n1062: - $\\Omega_{\\text{total}}(d) = \\frac{2\\pi^{d/2}}{\\Gamma(d/2)}$ is the total solid angle in $\\mathbb{R}^d$\n1063: \n1064: **For $d=2$**: $C(2) = \\frac{2\\pi}{1} = 2\\pi$, giving $\\frac{\\delta_i}{\\text{Area}(\\partial V_i)} = 2\\pi K(x_i) = \\pi R(x_i)$\n1065: \n1066: **For $d=3$**: $C(3) = \\frac{4\\pi}{1} = 4\\pi$\n1067: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-85",
      "title": "Regge Calculus Convergence",
      "start_line": 1069,
      "end_line": 1166,
      "header_lines": [],
      "content_start": 1071,
      "content_end": 1165,
      "content": "1071: :::{prf:proof} Regge Calculus Convergence\n1072: \n1073: The proof follows the principles of Regge calculus, establishing that discrete Einstein-Hilbert action converges to the continuum action.\n1074: \n1075: **Step 1: Regge Action for Simplicial Manifolds**\n1076: \n1077: In a $d$-dimensional simplicial triangulation $\\mathcal{T}$ of a Riemannian manifold $(M, g)$, curvature is concentrated on the $(d-2)$-dimensional sub-simplices (the **hinges**).\n1078: \n1079: For a hinge $h$ (a $(d-2)$-simplex), the **deficit angle** is:\n1080: \n1081: $$\n1082: \\delta_h = \\Omega_{\\text{total}}(d) - \\sum_{s \\supset h} \\theta_{s,h}\n1083: $$\n1084: \n1085: where the sum is over all $d$-simplices $s$ containing hinge $h$, and $\\theta_{s,h}$ is the **dihedral angle** of simplex $s$ at hinge $h$.\n1086: \n1087: The **Regge action** is:\n1088: \n1089: $$\n1090: S_{\\text{Regge}}[\\mathcal{T}] = \\sum_{\\text{hinges } h} \\text{Vol}_{d-2}(h) \\, \\delta_h\n1091: $$\n1092: \n1093: **Step 2: Convergence to Einstein-Hilbert Action**\n1094: \n1095: A fundamental result of Cheeger, M\u00fcller, and Schrader (1984) proves that for a sequence of finer triangulations with mesh size $\\ell \\to 0$:\n1096: \n1097: $$\n1098: \\lim_{\\ell \\to 0} S_{\\text{Regge}}[\\mathcal{T}] = \\frac{1}{2} \\int_M R(x) \\, dV_g(x)\n1099: $$\n1100: \n1101: where $R(x)$ is the Ricci scalar curvature of the smooth metric $g$.\n1102: \n1103: **Proof technique**: Uses variational calculus to show the Regge action is a discrete approximation to the continuum curvature integral, with error $O(\\ell^{d+2})$ for smooth metrics.\n1104: \n1105: **Step 3: From Hinges to Vertices (Dual Representation)**\n1106: \n1107: Each vertex $v_i$ in the triangulation corresponds to a Voronoi cell $V_i$ in the dual tessellation. We can express the Regge action as a sum over vertices by distributing hinge contributions:\n1108: \n1109: $$\n1110: S_{\\text{Regge}} = \\sum_{\\text{vertices } v_i} R_i^{\\text{discrete}}\n1111: $$\n1112: \n1113: where the **discrete curvature** at vertex $v_i$ is:\n1114: \n1115: $$\n1116: R_i^{\\text{discrete}} := \\sum_{h \\in H(v_i)} \\frac{\\text{Vol}_{d-2}(h)}{|v_i \\in h|} \\, \\delta_h\n1117: $$\n1118: \n1119: and $H(v_i)$ is the set of hinges incident to $v_i$, and $|v_i \\in h|$ is the number of vertices in hinge $h$ (typically $d-1$).\n1120: \n1121: **Step 4: Vertex Deficit Angle**\n1122: \n1123: For a regular triangulation (or in the continuum limit where the triangulation becomes increasingly uniform), the deficit angle at a vertex $\\delta_i$ (sum of dihedral angle deficits at all incident hinges) relates directly to $R_i^{\\text{discrete}}$:\n1124: \n1125: $$\n1126: \\delta_i \\approx C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R_i^{\\text{discrete}}\n1127: $$\n1128: \n1129: where $\\text{Vol}(\\partial V_i)$ is the $(d-1)$-volume (area in 3D) of the Voronoi cell boundary.\n1130: \n1131: **Step 5: Continuum Limit**\n1132: \n1133: As the mesh size $\\ell_{\\text{cell}} = \\text{diam}(V_i) \\to 0$, the discrete sum converges to the continuum integral:\n1134: \n1135: $$\n1136: \\lim_{\\ell \\to 0} \\sum_{v_i} R_i^{\\text{discrete}} = \\int_M R(x) \\, dV_g(x)\n1137: $$\n1138: \n1139: This implies point-wise convergence (in the sense of distributions):\n1140: \n1141: $$\n1142: R_i^{\\text{discrete}} \\approx R(x_i) \\cdot \\text{Vol}(V_i)\n1143: $$\n1144: \n1145: Substituting into the vertex deficit relationship:\n1146: \n1147: $$\n1148: \\delta_i \\approx C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R(x_i) \\cdot \\text{Vol}(V_i) / \\text{Vol}(V_i) = C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R(x_i)\n1149: $$\n1150: \n1151: Therefore:\n1152: \n1153: $$\n1154: \\frac{\\delta_i}{\\text{Vol}(\\partial V_i)} \\to C(d) \\, R(x_i)\n1155: $$\n1156: \n1157: **Step 6: Determination of $C(d)$**\n1158: \n1159: The constant $C(d)$ arises from the relationship between deficit angles and integrated curvature in Regge calculus. For a $(d-2)$-hinge in a regular triangulation, the geometric factor relating deficit to Ricci scalar is:\n1160: \n1161: $$\n1162: C(d) = \\frac{\\Omega_{\\text{total}}(d)}{(d-2)!}\n1163: $$\n1164: \n1165: **Verification for $d=2$**: $\\Omega_{\\text{total}}(2) = 2\\pi$, so $C(2) = 2\\pi$. The Gaussian curvature $K = R/2$, giving $\\frac{\\delta}{\\text{Length}(\\partial V)} = 2\\pi K$, which matches the classical Gauss-Bonnet theorem. $\\checkmark$",
      "metadata": {},
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1069: :::\n1070: \n1071: :::{prf:proof} Regge Calculus Convergence\n1072: \n1073: The proof follows the principles of Regge calculus, establishing that discrete Einstein-Hilbert action converges to the continuum action.\n1074: \n1075: **Step 1: Regge Action for Simplicial Manifolds**\n1076: \n1077: In a $d$-dimensional simplicial triangulation $\\mathcal{T}$ of a Riemannian manifold $(M, g)$, curvature is concentrated on the $(d-2)$-dimensional sub-simplices (the **hinges**).\n1078: \n1079: For a hinge $h$ (a $(d-2)$-simplex), the **deficit angle** is:\n1080: \n1081: $$\n1082: \\delta_h = \\Omega_{\\text{total}}(d) - \\sum_{s \\supset h} \\theta_{s,h}\n1083: $$\n1084: \n1085: where the sum is over all $d$-simplices $s$ containing hinge $h$, and $\\theta_{s,h}$ is the **dihedral angle** of simplex $s$ at hinge $h$.\n1086: \n1087: The **Regge action** is:\n1088: \n1089: $$\n1090: S_{\\text{Regge}}[\\mathcal{T}] = \\sum_{\\text{hinges } h} \\text{Vol}_{d-2}(h) \\, \\delta_h\n1091: $$\n1092: \n1093: **Step 2: Convergence to Einstein-Hilbert Action**\n1094: \n1095: A fundamental result of Cheeger, M\u00fcller, and Schrader (1984) proves that for a sequence of finer triangulations with mesh size $\\ell \\to 0$:\n1096: \n1097: $$\n1098: \\lim_{\\ell \\to 0} S_{\\text{Regge}}[\\mathcal{T}] = \\frac{1}{2} \\int_M R(x) \\, dV_g(x)\n1099: $$\n1100: \n1101: where $R(x)$ is the Ricci scalar curvature of the smooth metric $g$.\n1102: \n1103: **Proof technique**: Uses variational calculus to show the Regge action is a discrete approximation to the continuum curvature integral, with error $O(\\ell^{d+2})$ for smooth metrics.\n1104: \n1105: **Step 3: From Hinges to Vertices (Dual Representation)**\n1106: \n1107: Each vertex $v_i$ in the triangulation corresponds to a Voronoi cell $V_i$ in the dual tessellation. We can express the Regge action as a sum over vertices by distributing hinge contributions:\n1108: \n1109: $$\n1110: S_{\\text{Regge}} = \\sum_{\\text{vertices } v_i} R_i^{\\text{discrete}}\n1111: $$\n1112: \n1113: where the **discrete curvature** at vertex $v_i$ is:\n1114: \n1115: $$\n1116: R_i^{\\text{discrete}} := \\sum_{h \\in H(v_i)} \\frac{\\text{Vol}_{d-2}(h)}{|v_i \\in h|} \\, \\delta_h\n1117: $$\n1118: \n1119: and $H(v_i)$ is the set of hinges incident to $v_i$, and $|v_i \\in h|$ is the number of vertices in hinge $h$ (typically $d-1$).\n1120: \n1121: **Step 4: Vertex Deficit Angle**\n1122: \n1123: For a regular triangulation (or in the continuum limit where the triangulation becomes increasingly uniform), the deficit angle at a vertex $\\delta_i$ (sum of dihedral angle deficits at all incident hinges) relates directly to $R_i^{\\text{discrete}}$:\n1124: \n1125: $$\n1126: \\delta_i \\approx C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R_i^{\\text{discrete}}\n1127: $$\n1128: \n1129: where $\\text{Vol}(\\partial V_i)$ is the $(d-1)$-volume (area in 3D) of the Voronoi cell boundary.\n1130: \n1131: **Step 5: Continuum Limit**\n1132: \n1133: As the mesh size $\\ell_{\\text{cell}} = \\text{diam}(V_i) \\to 0$, the discrete sum converges to the continuum integral:\n1134: \n1135: $$\n1136: \\lim_{\\ell \\to 0} \\sum_{v_i} R_i^{\\text{discrete}} = \\int_M R(x) \\, dV_g(x)\n1137: $$\n1138: \n1139: This implies point-wise convergence (in the sense of distributions):\n1140: \n1141: $$\n1142: R_i^{\\text{discrete}} \\approx R(x_i) \\cdot \\text{Vol}(V_i)\n1143: $$\n1144: \n1145: Substituting into the vertex deficit relationship:\n1146: \n1147: $$\n1148: \\delta_i \\approx C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R(x_i) \\cdot \\text{Vol}(V_i) / \\text{Vol}(V_i) = C(d) \\cdot \\text{Vol}(\\partial V_i) \\cdot R(x_i)\n1149: $$\n1150: \n1151: Therefore:\n1152: \n1153: $$\n1154: \\frac{\\delta_i}{\\text{Vol}(\\partial V_i)} \\to C(d) \\, R(x_i)\n1155: $$\n1156: \n1157: **Step 6: Determination of $C(d)$**\n1158: \n1159: The constant $C(d)$ arises from the relationship between deficit angles and integrated curvature in Regge calculus. For a $(d-2)$-hinge in a regular triangulation, the geometric factor relating deficit to Ricci scalar is:\n1160: \n1161: $$\n1162: C(d) = \\frac{\\Omega_{\\text{total}}(d)}{(d-2)!}\n1163: $$\n1164: \n1165: **Verification for $d=2$**: $\\Omega_{\\text{total}}(2) = 2\\pi$, so $C(2) = 2\\pi$. The Gaussian curvature $K = R/2$, giving $\\frac{\\delta}{\\text{Length}(\\partial V)} = 2\\pi K$, which matches the classical Gauss-Bonnet theorem. $\\checkmark$\n1166: "
    },
    {
      "directive_type": "remark",
      "label": "rem-deficit-fractal-set",
      "title": "Connection to Chapter 13 Fractal Set",
      "start_line": 1168,
      "end_line": 1177,
      "header_lines": [
        1169
      ],
      "content_start": 1171,
      "content_end": 1176,
      "content": "1171: :label: rem-deficit-fractal-set\n1172: \n1173: The deficit angle curvature measure provides a **discrete, computable** analogue of the continuum Ricci scalar directly from the Fractal Set graph structure. Combined with {prf:ref}`thm-laplacian-convergence-fractal-set` (graph Laplacian convergence), this establishes two independent discrete-to-continuum bridges:\n1174: \n1175: 1. **Topological bridge**: Deficit angles (vertex-based) $\\to$ Ricci scalar\n1176: 2. **Spectral bridge**: Graph Laplacian eigenvalues (edge-based) $\\to$ Laplace-Beltrami spectrum",
      "metadata": {
        "label": "rem-deficit-fractal-set"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "thm-laplacian-convergence-fractal-set"
      ],
      "raw_directive": "1168: :::\n1169: \n1170: :::{prf:remark} Connection to Chapter 13 Fractal Set\n1171: :label: rem-deficit-fractal-set\n1172: \n1173: The deficit angle curvature measure provides a **discrete, computable** analogue of the continuum Ricci scalar directly from the Fractal Set graph structure. Combined with {prf:ref}`thm-laplacian-convergence-fractal-set` (graph Laplacian convergence), this establishes two independent discrete-to-continuum bridges:\n1174: \n1175: 1. **Topological bridge**: Deficit angles (vertex-based) $\\to$ Ricci scalar\n1176: 2. **Spectral bridge**: Graph Laplacian eigenvalues (edge-based) $\\to$ Laplace-Beltrami spectrum\n1177: "
    },
    {
      "directive_type": "remark",
      "label": "rem-deficit-computational",
      "title": "Computational Advantages",
      "start_line": 1179,
      "end_line": 1189,
      "header_lines": [
        1180
      ],
      "content_start": 1182,
      "content_end": 1188,
      "content": "1182: :label: rem-deficit-computational\n1183: \n1184: **Why deficit angles are useful**:\n1185: 1. **Purely topological**: Can be computed from combinatorial data (neighbor lists) without coordinate geometry\n1186: 2. **Robust**: Insensitive to small perturbations in walker positions\n1187: 3. **Local**: Each $\\delta_i$ depends only on immediate neighbors of walker $i$\n1188: 4. **No derivatives**: Avoids numerical differentiation errors inherent in finite-difference Hessian estimates",
      "metadata": {
        "label": "rem-deficit-computational"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1179: :::\n1180: \n1181: :::{prf:remark} Computational Advantages\n1182: :label: rem-deficit-computational\n1183: \n1184: **Why deficit angles are useful**:\n1185: 1. **Purely topological**: Can be computed from combinatorial data (neighbor lists) without coordinate geometry\n1186: 2. **Robust**: Insensitive to small perturbations in walker positions\n1187: 3. **Local**: Each $\\delta_i$ depends only on immediate neighbors of walker $i$\n1188: 4. **No derivatives**: Avoids numerical differentiation errors inherent in finite-difference Hessian estimates\n1189: "
    },
    {
      "directive_type": "definition",
      "label": "def-graph-laplacian-curvature",
      "title": "Graph Laplacian on Fractal Set",
      "start_line": 1195,
      "end_line": 1217,
      "header_lines": [
        1196
      ],
      "content_start": 1198,
      "content_end": 1216,
      "content": "1198: :label: def-graph-laplacian-curvature\n1199: \n1200: Given the walker configuration $S_t = \\{x_1, \\ldots, x_N\\}$, define the **adjacency graph** $G = (V, E)$ where:\n1201: - Vertices $V = \\{1, \\ldots, N\\}$ index walkers\n1202: - Edges $(i, j) \\in E$ if walkers $i, j$ are Voronoi neighbors\n1203: \n1204: The **graph Laplacian** is the $N \\times N$ matrix:\n1205: \n1206: $$\n1207: (\\Delta_0)_{ij} = \\begin{cases}\n1208: \\deg(i) & i = j \\\\\n1209: -1 & (i, j) \\in E \\\\\n1210: 0 & \\text{otherwise}\n1211: \\end{cases}\n1212: $$\n1213: \n1214: where $\\deg(i) = |\\mathcal{N}_i|$ is the degree (number of neighbors) of walker $i$.\n1215: \n1216: **Spectral properties**:",
      "metadata": {
        "label": "def-graph-laplacian-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1195: From Chapter 13 (Fractal Set), the Fragile Gas constructs a **graph Laplacian** on the walker configuration.\n1196: \n1197: :::{prf:definition} Graph Laplacian on Fractal Set\n1198: :label: def-graph-laplacian-curvature\n1199: \n1200: Given the walker configuration $S_t = \\{x_1, \\ldots, x_N\\}$, define the **adjacency graph** $G = (V, E)$ where:\n1201: - Vertices $V = \\{1, \\ldots, N\\}$ index walkers\n1202: - Edges $(i, j) \\in E$ if walkers $i, j$ are Voronoi neighbors\n1203: \n1204: The **graph Laplacian** is the $N \\times N$ matrix:\n1205: \n1206: $$\n1207: (\\Delta_0)_{ij} = \\begin{cases}\n1208: \\deg(i) & i = j \\\\\n1209: -1 & (i, j) \\in E \\\\\n1210: 0 & \\text{otherwise}\n1211: \\end{cases}\n1212: $$\n1213: \n1214: where $\\deg(i) = |\\mathcal{N}_i|$ is the degree (number of neighbors) of walker $i$.\n1215: \n1216: **Spectral properties**:\n1217: - Eigenvalues: $0 = \\lambda_0 \\le \\lambda_1 \\le \\cdots \\le \\lambda_{N-1}$"
    },
    {
      "directive_type": "theorem",
      "label": "thm-cheeger-curvature",
      "title": "Cheeger Inequality and Ricci Curvature Bounds",
      "start_line": 1219,
      "end_line": 1247,
      "header_lines": [
        1220
      ],
      "content_start": 1222,
      "content_end": 1246,
      "content": "1222: :label: thm-cheeger-curvature\n1223: \n1224: The Cheeger inequality for the combinatorial graph Laplacian (as defined in {prf:ref}`def-graph-laplacian-curvature`) states:\n1225: \n1226: $$\n1227: \\lambda_1 \\ge \\frac{h^2}{2}\n1228: $$\n1229: \n1230: where $\\lambda_1$ is the first non-zero eigenvalue of $\\Delta_0$ and $h$ is the **Cheeger constant** (isoperimetric ratio):\n1231: \n1232: $$\n1233: h = \\inf_{S \\subset V} \\frac{|\\partial S|}{\\min\\{\\text{Vol}(S), \\text{Vol}(V \\setminus S)\\}}\n1234: $$\n1235: \n1236: **Connection to Ricci Curvature (one-way implication)**:\n1237: \n1238: For Riemannian manifolds with positive Ricci curvature $\\text{Ric} \\ge \\kappa > 0$, the Cheeger constant and spectral gap satisfy:\n1239: \n1240: $$\n1241: \\text{Ric} \\ge \\kappa \\implies h \\ge C_1(\\kappa, d, \\text{diam}(M)) \\implies \\lambda_1 \\ge C_2(\\kappa, d, \\text{diam}(M))\n1242: $$\n1243: \n1244: where $C_1, C_2 > 0$ are constants depending on the curvature lower bound $\\kappa$, dimension $d$, and diameter (via the Lichnerowicz theorem and Bonnet-Myers theorem).\n1245: \n1246: **Important**: The converse\u2014inferring a Ricci curvature bound from a spectral gap bound alone\u2014is not generally valid without additional geometric information (e.g., diameter bounds, volume growth estimates).",
      "metadata": {
        "label": "thm-cheeger-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-graph-laplacian-curvature"
      ],
      "raw_directive": "1219: :::\n1220: \n1221: :::{prf:theorem} Cheeger Inequality and Ricci Curvature Bounds\n1222: :label: thm-cheeger-curvature\n1223: \n1224: The Cheeger inequality for the combinatorial graph Laplacian (as defined in {prf:ref}`def-graph-laplacian-curvature`) states:\n1225: \n1226: $$\n1227: \\lambda_1 \\ge \\frac{h^2}{2}\n1228: $$\n1229: \n1230: where $\\lambda_1$ is the first non-zero eigenvalue of $\\Delta_0$ and $h$ is the **Cheeger constant** (isoperimetric ratio):\n1231: \n1232: $$\n1233: h = \\inf_{S \\subset V} \\frac{|\\partial S|}{\\min\\{\\text{Vol}(S), \\text{Vol}(V \\setminus S)\\}}\n1234: $$\n1235: \n1236: **Connection to Ricci Curvature (one-way implication)**:\n1237: \n1238: For Riemannian manifolds with positive Ricci curvature $\\text{Ric} \\ge \\kappa > 0$, the Cheeger constant and spectral gap satisfy:\n1239: \n1240: $$\n1241: \\text{Ric} \\ge \\kappa \\implies h \\ge C_1(\\kappa, d, \\text{diam}(M)) \\implies \\lambda_1 \\ge C_2(\\kappa, d, \\text{diam}(M))\n1242: $$\n1243: \n1244: where $C_1, C_2 > 0$ are constants depending on the curvature lower bound $\\kappa$, dimension $d$, and diameter (via the Lichnerowicz theorem and Bonnet-Myers theorem).\n1245: \n1246: **Important**: The converse\u2014inferring a Ricci curvature bound from a spectral gap bound alone\u2014is not generally valid without additional geometric information (e.g., diameter bounds, volume growth estimates).\n1247: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-eigenvalues-sectional",
      "title": "Higher Eigenvalues Encode Sectional Curvatures",
      "start_line": 1249,
      "end_line": 1261,
      "header_lines": [
        1250
      ],
      "content_start": 1252,
      "content_end": 1260,
      "content": "1252: :label: prop-eigenvalues-sectional\n1253: \n1254: The full spectrum $\\{\\lambda_k\\}_{k=0}^{N-1}$ encodes information about **sectional curvatures** in different 2-plane directions:\n1255: \n1256: $$\n1257: \\lambda_k \\sim \\frac{k^2}{N^{2/d}} + \\frac{1}{6} \\langle R_{ijkl} \\rangle \\cdot \\frac{k^2}{N^{2/d}} + O(1/N^{1+2/d})\n1258: $$\n1259: \n1260: where $\\langle R_{ijkl} \\rangle$ is an average of sectional curvatures weighted by the $k$-th eigenfunction.",
      "metadata": {
        "label": "prop-eigenvalues-sectional"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1249: :::\n1250: \n1251: :::{prf:proposition} Higher Eigenvalues Encode Sectional Curvatures\n1252: :label: prop-eigenvalues-sectional\n1253: \n1254: The full spectrum $\\{\\lambda_k\\}_{k=0}^{N-1}$ encodes information about **sectional curvatures** in different 2-plane directions:\n1255: \n1256: $$\n1257: \\lambda_k \\sim \\frac{k^2}{N^{2/d}} + \\frac{1}{6} \\langle R_{ijkl} \\rangle \\cdot \\frac{k^2}{N^{2/d}} + O(1/N^{1+2/d})\n1258: $$\n1259: \n1260: where $\\langle R_{ijkl} \\rangle$ is an average of sectional curvatures weighted by the $k$-th eigenfunction.\n1261: "
    },
    {
      "directive_type": "remark",
      "label": "rem-laplacian-convergence",
      "title": "Convergence to Continuum Laplacian",
      "start_line": 1263,
      "end_line": 1285,
      "header_lines": [
        1264
      ],
      "content_start": 1266,
      "content_end": 1284,
      "content": "1266: :label: rem-laplacian-convergence\n1267: \n1268: From Chapter 13, Section 13.2 (Discrete Hodge Laplacians), we have the **convergence conjecture**:\n1269: \n1270: $$\n1271: \\lim_{N \\to \\infty} \\frac{1}{\\ell_{\\text{cell}}^2} \\Delta_0 f \\to \\Delta_g f\n1272: $$\n1273: \n1274: where $\\Delta_g$ is the **Laplace-Beltrami operator** on the emergent Riemannian manifold $(M, g)$:\n1275: \n1276: $$\n1277: \\Delta_g f = \\frac{1}{\\sqrt{\\det g}} \\partial_i \\left( \\sqrt{\\det g} \\, g^{ij} \\partial_j f \\right)\n1278: $$\n1279: \n1280: The Ricci curvature appears in the **Bochner identity**:\n1281: \n1282: $$\n1283: \\frac{1}{2} \\Delta_g |\\nabla f|^2 = |\\nabla^2 f|^2 + \\langle \\nabla f, \\nabla(\\Delta_g f) \\rangle + \\text{Ric}(\\nabla f, \\nabla f)\n1284: $$",
      "metadata": {
        "label": "rem-laplacian-convergence"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1263: :::\n1264: \n1265: :::{prf:remark} Convergence to Continuum Laplacian\n1266: :label: rem-laplacian-convergence\n1267: \n1268: From Chapter 13, Section 13.2 (Discrete Hodge Laplacians), we have the **convergence conjecture**:\n1269: \n1270: $$\n1271: \\lim_{N \\to \\infty} \\frac{1}{\\ell_{\\text{cell}}^2} \\Delta_0 f \\to \\Delta_g f\n1272: $$\n1273: \n1274: where $\\Delta_g$ is the **Laplace-Beltrami operator** on the emergent Riemannian manifold $(M, g)$:\n1275: \n1276: $$\n1277: \\Delta_g f = \\frac{1}{\\sqrt{\\det g}} \\partial_i \\left( \\sqrt{\\det g} \\, g^{ij} \\partial_j f \\right)\n1278: $$\n1279: \n1280: The Ricci curvature appears in the **Bochner identity**:\n1281: \n1282: $$\n1283: \\frac{1}{2} \\Delta_g |\\nabla f|^2 = |\\nabla^2 f|^2 + \\langle \\nabla f, \\nabla(\\Delta_g f) \\rangle + \\text{Ric}(\\nabla f, \\nabla f)\n1284: $$\n1285: "
    },
    {
      "directive_type": "definition",
      "label": "def-emergent-metric-curvature",
      "title": "Emergent Riemannian Metric",
      "start_line": 1291,
      "end_line": 1306,
      "header_lines": [
        1292
      ],
      "content_start": 1294,
      "content_end": 1305,
      "content": "1294: :label: def-emergent-metric-curvature\n1295: \n1296: At time $t$, given swarm state $S_t$, the **emergent metric tensor** at position $x \\in \\mathcal{X}$ is:\n1297: \n1298: $$\n1299: g_{ij}(x, t) = H_{ij}(x, t) + \\epsilon_\\Sigma \\delta_{ij}\n1300: $$\n1301: \n1302: where:\n1303: - $H(x, t) = \\nabla^2 V_{\\text{fit}}(x, S_t)$ is the **fitness Hessian**\n1304: - $\\epsilon_\\Sigma > 0$ is the **diffusion regularization** (ensures positive-definiteness)\n1305: - $\\delta_{ij}$ is the Kronecker delta",
      "metadata": {
        "label": "def-emergent-metric-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1291: From Chapter 8 (Emergent Geometry), the spatial metric is defined via the fitness Hessian.\n1292: \n1293: :::{prf:definition} Emergent Riemannian Metric\n1294: :label: def-emergent-metric-curvature\n1295: \n1296: At time $t$, given swarm state $S_t$, the **emergent metric tensor** at position $x \\in \\mathcal{X}$ is:\n1297: \n1298: $$\n1299: g_{ij}(x, t) = H_{ij}(x, t) + \\epsilon_\\Sigma \\delta_{ij}\n1300: $$\n1301: \n1302: where:\n1303: - $H(x, t) = \\nabla^2 V_{\\text{fit}}(x, S_t)$ is the **fitness Hessian**\n1304: - $\\epsilon_\\Sigma > 0$ is the **diffusion regularization** (ensures positive-definiteness)\n1305: - $\\delta_{ij}$ is the Kronecker delta\n1306: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-ricci-fitness-hessian",
      "title": "Ricci Curvature from Fitness Hessian",
      "start_line": 1308,
      "end_line": 1343,
      "header_lines": [
        1309
      ],
      "content_start": 1311,
      "content_end": 1342,
      "content": "1311: :label: prop-ricci-fitness-hessian\n1312: \n1313: The Ricci tensor $\\text{Ric}_{ij}$ of the emergent metric $g$ involves **third and fourth derivatives** of the fitness potential:\n1314: \n1315: $$\n1316: \\text{Ric}_{ij} = -\\frac{1}{2} g^{kl} \\left( \\partial_i \\partial_j g_{kl} + \\partial_k \\partial_l g_{ij} - \\partial_i \\partial_l g_{jk} - \\partial_j \\partial_k g_{il} \\right) + \\text{(Christoffel symbol corrections)}\n1317: $$\n1318: \n1319: Substituting $g_{ij} = H_{ij} + \\epsilon_\\Sigma \\delta_{ij}$ and noting that $H_{ij} = \\partial_i \\partial_j V_{\\text{fit}}$:\n1320: \n1321: $$\n1322: \\partial_k g_{ij} = \\partial_k H_{ij} = \\partial_i \\partial_j \\partial_k V_{\\text{fit}}\n1323: $$\n1324: \n1325: $$\n1326: \\partial_k \\partial_l g_{ij} = \\partial_i \\partial_j \\partial_k \\partial_l V_{\\text{fit}}\n1327: $$\n1328: \n1329: **Consequence**: The Ricci scalar is:\n1330: \n1331: $$\n1332: R = g^{ij} \\text{Ric}_{ij} = \\text{tr}(g^{-1} \\text{Ric})\n1333: $$\n1334: \n1335: which involves **traces of third and fourth derivatives of $V_{\\text{fit}}$**.\n1336: \n1337: **Computational Approach**: For the metric $g = H + \\epsilon_\\Sigma I$ where $H = \\nabla^2 V_{\\text{fit}}$, the Ricci scalar can be computed via standard tensor calculus:\n1338: \n1339: 1. Compute Christoffel symbols: $\\Gamma^k_{ij} = \\frac{1}{2} g^{kl} (\\partial_i g_{jl} + \\partial_j g_{il} - \\partial_l g_{ij})$\n1340: 2. Compute Riemann tensor: $R^l_{ijk} = \\partial_j \\Gamma^l_{ik} - \\partial_k \\Gamma^l_{ij} + \\Gamma^l_{jm} \\Gamma^m_{ik} - \\Gamma^l_{km} \\Gamma^m_{ij}$\n1341: 3. Contract to Ricci tensor: $\\text{Ric}_{ij} = R^k_{ikj}$\n1342: 4. Contract to scalar: $R = g^{ij} \\text{Ric}_{ij}$",
      "metadata": {
        "label": "prop-ricci-fitness-hessian"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1308: :::\n1309: \n1310: :::{prf:proposition} Ricci Curvature from Fitness Hessian\n1311: :label: prop-ricci-fitness-hessian\n1312: \n1313: The Ricci tensor $\\text{Ric}_{ij}$ of the emergent metric $g$ involves **third and fourth derivatives** of the fitness potential:\n1314: \n1315: $$\n1316: \\text{Ric}_{ij} = -\\frac{1}{2} g^{kl} \\left( \\partial_i \\partial_j g_{kl} + \\partial_k \\partial_l g_{ij} - \\partial_i \\partial_l g_{jk} - \\partial_j \\partial_k g_{il} \\right) + \\text{(Christoffel symbol corrections)}\n1317: $$\n1318: \n1319: Substituting $g_{ij} = H_{ij} + \\epsilon_\\Sigma \\delta_{ij}$ and noting that $H_{ij} = \\partial_i \\partial_j V_{\\text{fit}}$:\n1320: \n1321: $$\n1322: \\partial_k g_{ij} = \\partial_k H_{ij} = \\partial_i \\partial_j \\partial_k V_{\\text{fit}}\n1323: $$\n1324: \n1325: $$\n1326: \\partial_k \\partial_l g_{ij} = \\partial_i \\partial_j \\partial_k \\partial_l V_{\\text{fit}}\n1327: $$\n1328: \n1329: **Consequence**: The Ricci scalar is:\n1330: \n1331: $$\n1332: R = g^{ij} \\text{Ric}_{ij} = \\text{tr}(g^{-1} \\text{Ric})\n1333: $$\n1334: \n1335: which involves **traces of third and fourth derivatives of $V_{\\text{fit}}$**.\n1336: \n1337: **Computational Approach**: For the metric $g = H + \\epsilon_\\Sigma I$ where $H = \\nabla^2 V_{\\text{fit}}$, the Ricci scalar can be computed via standard tensor calculus:\n1338: \n1339: 1. Compute Christoffel symbols: $\\Gamma^k_{ij} = \\frac{1}{2} g^{kl} (\\partial_i g_{jl} + \\partial_j g_{il} - \\partial_l g_{ij})$\n1340: 2. Compute Riemann tensor: $R^l_{ijk} = \\partial_j \\Gamma^l_{ik} - \\partial_k \\Gamma^l_{ij} + \\Gamma^l_{jm} \\Gamma^m_{ik} - \\Gamma^l_{km} \\Gamma^m_{ij}$\n1341: 3. Contract to Ricci tensor: $\\text{Ric}_{ij} = R^k_{ikj}$\n1342: 4. Contract to scalar: $R = g^{ij} \\text{Ric}_{ij}$\n1343: "
    },
    {
      "directive_type": "corollary",
      "label": "cor-sectional-fitness",
      "title": "Sectional Curvature from Fitness Landscape",
      "start_line": 1345,
      "end_line": 1357,
      "header_lines": [
        1346
      ],
      "content_start": 1348,
      "content_end": 1356,
      "content": "1348: :label: cor-sectional-fitness\n1349: \n1350: The sectional curvature $K(\\pi)$ for a 2-plane $\\pi = \\text{span}\\{u, v\\}$ at point $x$ is:\n1351: \n1352: $$\n1353: K(\\pi) = \\frac{R_{ijkl} u^i v^j u^k v^l}{g_{ik} g_{jl} u^i u^k v^j v^l - (g_{ij} u^i v^j)^2}\n1354: $$\n1355: \n1356: where $R_{ijkl}$ is the full Riemann tensor.",
      "metadata": {
        "label": "cor-sectional-fitness"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1345: :::\n1346: \n1347: :::{prf:corollary} Sectional Curvature from Fitness Landscape\n1348: :label: cor-sectional-fitness\n1349: \n1350: The sectional curvature $K(\\pi)$ for a 2-plane $\\pi = \\text{span}\\{u, v\\}$ at point $x$ is:\n1351: \n1352: $$\n1353: K(\\pi) = \\frac{R_{ijkl} u^i v^j u^k v^l}{g_{ik} g_{jl} u^i u^k v^j v^l - (g_{ij} u^i v^j)^2}\n1354: $$\n1355: \n1356: where $R_{ijkl}$ is the full Riemann tensor.\n1357: "
    },
    {
      "directive_type": "remark",
      "label": "rem-adaptive-force-curvature",
      "title": "Connection to Adaptive Force",
      "start_line": 1359,
      "end_line": 1377,
      "header_lines": [
        1360
      ],
      "content_start": 1362,
      "content_end": 1376,
      "content": "1362: :label: rem-adaptive-force-curvature\n1363: \n1364: From Chapter 2 (Adaptive Gas), the **adaptive force** is:\n1365: \n1366: $$\n1367: F_{\\text{adaptive}}(x_i) = -\\nabla V_{\\text{fit}}(x_i, S_t)\n1368: $$\n1369: \n1370: The **second derivative** (Hessian) determines the metric $g = H + \\epsilon I$.\n1371: \n1372: The **third and fourth derivatives** (appearing in the Ricci curvature) determine the **Christoffel symbols** and thus the **geodesic spray**:\n1373: \n1374: $$\n1375: \\frac{D^2 x^i}{dt^2} + \\Gamma^i_{jk} \\frac{dx^j}{dt} \\frac{dx^k}{dt} = 0\n1376: $$",
      "metadata": {
        "label": "rem-adaptive-force-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1359: :::\n1360: \n1361: :::{prf:remark} Connection to Adaptive Force\n1362: :label: rem-adaptive-force-curvature\n1363: \n1364: From Chapter 2 (Adaptive Gas), the **adaptive force** is:\n1365: \n1366: $$\n1367: F_{\\text{adaptive}}(x_i) = -\\nabla V_{\\text{fit}}(x_i, S_t)\n1368: $$\n1369: \n1370: The **second derivative** (Hessian) determines the metric $g = H + \\epsilon I$.\n1371: \n1372: The **third and fourth derivatives** (appearing in the Ricci curvature) determine the **Christoffel symbols** and thus the **geodesic spray**:\n1373: \n1374: $$\n1375: \\frac{D^2 x^i}{dt^2} + \\Gamma^i_{jk} \\frac{dx^j}{dt} \\frac{dx^k}{dt} = 0\n1376: $$\n1377: "
    },
    {
      "directive_type": "definition",
      "label": "def-heat-kernel-curvature",
      "title": "Heat Kernel on the Emergent Manifold",
      "start_line": 1381,
      "end_line": 1397,
      "header_lines": [
        1382
      ],
      "content_start": 1384,
      "content_end": 1396,
      "content": "1384: :label: def-heat-kernel-curvature\n1385: \n1386: The **heat kernel** $K_t(x, y)$ is the fundamental solution to the heat equation on the emergent Riemannian manifold $(M, g)$:\n1387: \n1388: $$\n1389: \\frac{\\partial K_t}{\\partial t} = \\Delta_g K_t\n1390: $$\n1391: \n1392: $$\n1393: \\lim_{t \\to 0^+} K_t(x, y) = \\delta(x - y)\n1394: $$\n1395: \n1396: where $\\Delta_g$ is the Laplace-Beltrami operator (Definition {prf:ref}`rem-laplacian-convergence`).",
      "metadata": {
        "label": "def-heat-kernel-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "rem-laplacian-convergence"
      ],
      "raw_directive": "1381: ### 5.5. Heat Kernel and Analytic Curvature\n1382: \n1383: :::{prf:definition} Heat Kernel on the Emergent Manifold\n1384: :label: def-heat-kernel-curvature\n1385: \n1386: The **heat kernel** $K_t(x, y)$ is the fundamental solution to the heat equation on the emergent Riemannian manifold $(M, g)$:\n1387: \n1388: $$\n1389: \\frac{\\partial K_t}{\\partial t} = \\Delta_g K_t\n1390: $$\n1391: \n1392: $$\n1393: \\lim_{t \\to 0^+} K_t(x, y) = \\delta(x - y)\n1394: $$\n1395: \n1396: where $\\Delta_g$ is the Laplace-Beltrami operator (Definition {prf:ref}`rem-laplacian-convergence`).\n1397: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-heat-kernel-asymptotics",
      "title": "Heat Kernel Small-Time Asymptotics (Curvature Expansion)",
      "start_line": 1399,
      "end_line": 1425,
      "header_lines": [
        1400
      ],
      "content_start": 1402,
      "content_end": 1424,
      "content": "1402: :label: thm-heat-kernel-asymptotics\n1403: \n1404: On a compact Riemannian manifold $(M, g)$ of dimension $d$, the heat kernel admits the small-time expansion:\n1405: \n1406: $$\n1407: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n1408: $$\n1409: \n1410: where $R(x)$ is the **Ricci scalar** at point $x$.\n1411: \n1412: **Consequence**: The **trace of the heat kernel** (summed over all $x$) gives:\n1413: \n1414: $$\n1415: \\text{Tr}(e^{-t\\Delta_g}) = \\int_M K_t(x, x) \\, dV_g = \\frac{1}{(4\\pi t)^{d/2}} \\left[ \\text{Vol}(M) + \\frac{t}{6} \\int_M R \\, dV_g + O(t^2) \\right]\n1416: $$\n1417: \n1418: This can be rewritten as:\n1419: \n1420: $$\n1421: \\text{Tr}(e^{-t\\Delta_g}) = \\frac{\\text{Vol}(M)}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} \\frac{\\int_M R \\, dV_g}{\\text{Vol}(M)} + O(t^2) \\right)\n1422: $$\n1423: \n1424: The $O(t)$ coefficient (in the first form) is the **total scalar curvature** $\\int_M R \\, dV_g$, not normalized by volume or dimension.",
      "metadata": {
        "label": "thm-heat-kernel-asymptotics"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1399: :::\n1400: \n1401: :::{prf:theorem} Heat Kernel Small-Time Asymptotics (Curvature Expansion)\n1402: :label: thm-heat-kernel-asymptotics\n1403: \n1404: On a compact Riemannian manifold $(M, g)$ of dimension $d$, the heat kernel admits the small-time expansion:\n1405: \n1406: $$\n1407: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n1408: $$\n1409: \n1410: where $R(x)$ is the **Ricci scalar** at point $x$.\n1411: \n1412: **Consequence**: The **trace of the heat kernel** (summed over all $x$) gives:\n1413: \n1414: $$\n1415: \\text{Tr}(e^{-t\\Delta_g}) = \\int_M K_t(x, x) \\, dV_g = \\frac{1}{(4\\pi t)^{d/2}} \\left[ \\text{Vol}(M) + \\frac{t}{6} \\int_M R \\, dV_g + O(t^2) \\right]\n1416: $$\n1417: \n1418: This can be rewritten as:\n1419: \n1420: $$\n1421: \\text{Tr}(e^{-t\\Delta_g}) = \\frac{\\text{Vol}(M)}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} \\frac{\\int_M R \\, dV_g}{\\text{Vol}(M)} + O(t^2) \\right)\n1422: $$\n1423: \n1424: The $O(t)$ coefficient (in the first form) is the **total scalar curvature** $\\int_M R \\, dV_g$, not normalized by volume or dimension.\n1425: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-zeta-curvature",
      "title": "Spectral Zeta Function and Curvature",
      "start_line": 1427,
      "end_line": 1449,
      "header_lines": [
        1428
      ],
      "content_start": 1430,
      "content_end": 1448,
      "content": "1430: :label: prop-zeta-curvature\n1431: \n1432: The **spectral zeta function** is:\n1433: \n1434: $$\n1435: \\zeta(s) = \\sum_{k=0}^\\infty \\lambda_k^{-s} = \\frac{1}{\\Gamma(s)} \\int_0^\\infty t^{s-1} \\text{Tr}(e^{-t\\Delta_g}) \\, dt\n1436: $$\n1437: \n1438: The **residue at $s = d/2$** is:\n1439: \n1440: $$\n1441: \\text{Res}_{s=d/2} \\zeta(s) = \\frac{\\text{Vol}(M)}{(4\\pi)^{d/2}}\n1442: $$\n1443: \n1444: The **residue at $s = d/2 - 1$** involves the total scalar curvature:\n1445: \n1446: $$\n1447: \\text{Res}_{s=d/2-1} \\zeta(s) = \\frac{1}{6(4\\pi)^{d/2}} \\int_M R \\, dV_g\n1448: $$",
      "metadata": {
        "label": "prop-zeta-curvature"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1427: :::\n1428: \n1429: :::{prf:proposition} Spectral Zeta Function and Curvature\n1430: :label: prop-zeta-curvature\n1431: \n1432: The **spectral zeta function** is:\n1433: \n1434: $$\n1435: \\zeta(s) = \\sum_{k=0}^\\infty \\lambda_k^{-s} = \\frac{1}{\\Gamma(s)} \\int_0^\\infty t^{s-1} \\text{Tr}(e^{-t\\Delta_g}) \\, dt\n1436: $$\n1437: \n1438: The **residue at $s = d/2$** is:\n1439: \n1440: $$\n1441: \\text{Res}_{s=d/2} \\zeta(s) = \\frac{\\text{Vol}(M)}{(4\\pi)^{d/2}}\n1442: $$\n1443: \n1444: The **residue at $s = d/2 - 1$** involves the total scalar curvature:\n1445: \n1446: $$\n1447: \\text{Res}_{s=d/2-1} \\zeta(s) = \\frac{1}{6(4\\pi)^{d/2}} \\int_M R \\, dV_g\n1448: $$\n1449: "
    },
    {
      "directive_type": "remark",
      "label": "rem-fractal-set-heat-kernel",
      "title": "Connection to Fractal Set Graph Laplacian",
      "start_line": 1451,
      "end_line": 1475,
      "header_lines": [
        1452
      ],
      "content_start": 1454,
      "content_end": 1474,
      "content": "1454: :label: rem-fractal-set-heat-kernel\n1455: \n1456: From Chapter 13, the discrete graph Laplacian $\\Delta_0$ on the Fractal Set converges to the continuum Laplace-Beltrami operator $\\Delta_g$.\n1457: \n1458: The **discrete heat kernel** on the graph is:\n1459: \n1460: $$\n1461: K_t^{\\text{discrete}}(i, j) = \\left( e^{-t\\Delta_0} \\right)_{ij} = \\sum_{k=0}^{N-1} e^{-t\\lambda_k} \\phi_k(i) \\phi_k(j)\n1462: $$\n1463: \n1464: As $N \\to \\infty$ and $\\ell_{\\text{cell}} \\to 0$, this converges to the continuum heat kernel:\n1465: \n1466: $$\n1467: K_t^{\\text{discrete}}(i, j) \\to K_t(x_i, x_j)\n1468: $$\n1469: \n1470: **Practical computation**: The heat kernel trace can be estimated from the Fractal Set data:\n1471: \n1472: $$\n1473: \\text{Tr}(e^{-t\\Delta_0}) = \\sum_{i=1}^N K_t^{\\text{discrete}}(i, i) = \\sum_{k=0}^{N-1} e^{-t\\lambda_k}\n1474: $$",
      "metadata": {
        "label": "rem-fractal-set-heat-kernel"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1451: :::\n1452: \n1453: :::{prf:remark} Connection to Fractal Set Graph Laplacian\n1454: :label: rem-fractal-set-heat-kernel\n1455: \n1456: From Chapter 13, the discrete graph Laplacian $\\Delta_0$ on the Fractal Set converges to the continuum Laplace-Beltrami operator $\\Delta_g$.\n1457: \n1458: The **discrete heat kernel** on the graph is:\n1459: \n1460: $$\n1461: K_t^{\\text{discrete}}(i, j) = \\left( e^{-t\\Delta_0} \\right)_{ij} = \\sum_{k=0}^{N-1} e^{-t\\lambda_k} \\phi_k(i) \\phi_k(j)\n1462: $$\n1463: \n1464: As $N \\to \\infty$ and $\\ell_{\\text{cell}} \\to 0$, this converges to the continuum heat kernel:\n1465: \n1466: $$\n1467: K_t^{\\text{discrete}}(i, j) \\to K_t(x_i, x_j)\n1468: $$\n1469: \n1470: **Practical computation**: The heat kernel trace can be estimated from the Fractal Set data:\n1471: \n1472: $$\n1473: \\text{Tr}(e^{-t\\Delta_0}) = \\sum_{i=1}^N K_t^{\\text{discrete}}(i, i) = \\sum_{k=0}^{N-1} e^{-t\\lambda_k}\n1474: $$\n1475: "
    },
    {
      "directive_type": "definition",
      "label": "def-causal-set-fractal-structure",
      "title": "Causal Set Structure on Fractal Set",
      "start_line": 1481,
      "end_line": 1503,
      "header_lines": [
        1482
      ],
      "content_start": 1484,
      "content_end": 1502,
      "content": "1484: :label: def-causal-set-fractal-structure\n1485: \n1486: The Fractal Set $(E, \\prec_{\\text{CST}}, \\sim_{\\text{IG}})$ forms a **causal set** where:\n1487: \n1488: **Elements**: Episodes $e_i = (t_i, x_i, v_i, r_i, s_i)$ represent spacetime events\n1489: \n1490: **Causal order**: $e_i \\prec_{\\text{CST}} e_j$ iff $t_i < t_j$ and $d_g(x_i, x_j) < c(t_j - t_i)$\n1491: \n1492: where $d_g$ is the Riemannian distance in the emergent metric $g = H + \\epsilon_\\Sigma I$ and $c$ is the effective \"speed of light\" (information propagation speed).\n1493: \n1494: **Causal interval**: $I(e_i, e_j) := \\{e \\in E : e_i \\prec e \\prec e_j\\}$ is the set of episodes causally between $e_i$ and $e_j$.\n1495: \n1496: **Key property**: Episodes are **adaptively distributed** according to the QSD:\n1497: \n1498: $$\n1499: \\rho_{\\text{episode}}(x) = \\frac{1}{Z} \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n1500: $$\n1501: \n1502: This is a **physically motivated sprinkling density** that automatically adjusts to local geometry, unlike uniform Poisson sprinkling in standard causal set theory.",
      "metadata": {
        "label": "def-causal-set-fractal-structure"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1481: The Fractal Set framework provides a fifth, fundamentally different approach to measuring curvature through its **causal set structure**. This perspective connects the Fragile Gas to quantum gravity theories (causal set theory, loop quantum gravity) and provides a discrete spacetime foundation.\n1482: \n1483: :::{prf:definition} Causal Set Structure on Fractal Set\n1484: :label: def-causal-set-fractal-structure\n1485: \n1486: The Fractal Set $(E, \\prec_{\\text{CST}}, \\sim_{\\text{IG}})$ forms a **causal set** where:\n1487: \n1488: **Elements**: Episodes $e_i = (t_i, x_i, v_i, r_i, s_i)$ represent spacetime events\n1489: \n1490: **Causal order**: $e_i \\prec_{\\text{CST}} e_j$ iff $t_i < t_j$ and $d_g(x_i, x_j) < c(t_j - t_i)$\n1491: \n1492: where $d_g$ is the Riemannian distance in the emergent metric $g = H + \\epsilon_\\Sigma I$ and $c$ is the effective \"speed of light\" (information propagation speed).\n1493: \n1494: **Causal interval**: $I(e_i, e_j) := \\{e \\in E : e_i \\prec e \\prec e_j\\}$ is the set of episodes causally between $e_i$ and $e_j$.\n1495: \n1496: **Key property**: Episodes are **adaptively distributed** according to the QSD:\n1497: \n1498: $$\n1499: \\rho_{\\text{episode}}(x) = \\frac{1}{Z} \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n1500: $$\n1501: \n1502: This is a **physically motivated sprinkling density** that automatically adjusts to local geometry, unlike uniform Poisson sprinkling in standard causal set theory.\n1503: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-fractal-causal-set-axioms",
      "title": "Fractal Set Satisfies Causal Set Axioms",
      "start_line": 1505,
      "end_line": 1514,
      "header_lines": [
        1506
      ],
      "content_start": 1508,
      "content_end": 1513,
      "content": "1508: :label: thm-fractal-causal-set-axioms\n1509: \n1510: The Fractal Set $(E, \\prec_{\\text{CST}})$ is a valid causal set satisfying:\n1511: 1. **Irreflexivity**: $e \\not\\prec e$ for all $e \\in E$\n1512: 2. **Transitivity**: $e_1 \\prec e_2$ and $e_2 \\prec e_3$ implies $e_1 \\prec e_3$\n1513: 3. **Local finiteness**: $|I(e_1, e_2)| < \\infty$ for all $e_1, e_2 \\in E$",
      "metadata": {
        "label": "thm-fractal-causal-set-axioms"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1505: :::\n1506: \n1507: :::{prf:theorem} Fractal Set Satisfies Causal Set Axioms\n1508: :label: thm-fractal-causal-set-axioms\n1509: \n1510: The Fractal Set $(E, \\prec_{\\text{CST}})$ is a valid causal set satisfying:\n1511: 1. **Irreflexivity**: $e \\not\\prec e$ for all $e \\in E$\n1512: 2. **Transitivity**: $e_1 \\prec e_2$ and $e_2 \\prec e_3$ implies $e_1 \\prec e_3$\n1513: 3. **Local finiteness**: $|I(e_1, e_2)| < \\infty$ for all $e_1, e_2 \\in E$\n1514: "
    },
    {
      "directive_type": "definition",
      "label": "def-ricci-causal-set-volume",
      "title": "Ricci Scalar from Causal Set Volume",
      "start_line": 1516,
      "end_line": 1534,
      "header_lines": [
        1517
      ],
      "content_start": 1519,
      "content_end": 1533,
      "content": "1519: :label: def-ricci-causal-set-volume\n1520: \n1521: The **Ricci scalar curvature** at episode $e$ can be estimated from causal interval statistics:\n1522: \n1523: $$\n1524: R_{\\text{CST}}(e) := \\lim_{\\delta \\to 0} \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\left(1 - \\frac{\\mathbb{E}[|I_\\delta(e)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)}\\right)\n1525: $$\n1526: \n1527: where:\n1528: - $I_\\delta(e) = \\{e' : e' \\prec e, t_e - t_{e'} < \\delta\\}$ is a small past causal interval\n1529: - $V_{\\text{flat}}(\\delta) = \\int_0^\\delta \\Omega_d (c\\tau)^d \\, d\\tau = \\frac{\\Omega_d c^d \\delta^{d+1}}{d+1}$ is the flat-space spacetime volume of the past light cone\n1530: - $\\Omega_d = \\frac{\\pi^{d/2}}{\\Gamma(d/2+1)}$ is the volume of the unit $d$-ball\n1531: - $\\bar{\\rho} = N / \\int \\sqrt{\\det g} \\, dx$ is the average adaptive episode density\n1532: \n1533: **Physical interpretation**: Curvature is measured by the **deviation** of causal interval size from the flat-space expectation. Positive curvature \u2192 fewer episodes (space \"contracts\"), negative curvature \u2192 more episodes (space \"expands\").",
      "metadata": {
        "label": "def-ricci-causal-set-volume"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1516: :::\n1517: \n1518: :::{prf:definition} Ricci Scalar from Causal Set Volume\n1519: :label: def-ricci-causal-set-volume\n1520: \n1521: The **Ricci scalar curvature** at episode $e$ can be estimated from causal interval statistics:\n1522: \n1523: $$\n1524: R_{\\text{CST}}(e) := \\lim_{\\delta \\to 0} \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\left(1 - \\frac{\\mathbb{E}[|I_\\delta(e)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)}\\right)\n1525: $$\n1526: \n1527: where:\n1528: - $I_\\delta(e) = \\{e' : e' \\prec e, t_e - t_{e'} < \\delta\\}$ is a small past causal interval\n1529: - $V_{\\text{flat}}(\\delta) = \\int_0^\\delta \\Omega_d (c\\tau)^d \\, d\\tau = \\frac{\\Omega_d c^d \\delta^{d+1}}{d+1}$ is the flat-space spacetime volume of the past light cone\n1530: - $\\Omega_d = \\frac{\\pi^{d/2}}{\\Gamma(d/2+1)}$ is the volume of the unit $d$-ball\n1531: - $\\bar{\\rho} = N / \\int \\sqrt{\\det g} \\, dx$ is the average adaptive episode density\n1532: \n1533: **Physical interpretation**: Curvature is measured by the **deviation** of causal interval size from the flat-space expectation. Positive curvature \u2192 fewer episodes (space \"contracts\"), negative curvature \u2192 more episodes (space \"expands\").\n1534: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-causal-set-ricci-convergence",
      "title": "Causal Set Curvature Converges to Ricci Scalar",
      "start_line": 1536,
      "end_line": 1548,
      "header_lines": [
        1537
      ],
      "content_start": 1539,
      "content_end": 1547,
      "content": "1539: :label: thm-causal-set-ricci-convergence\n1540: \n1541: For the Fractal Set with adaptive density $\\rho(x) = \\sqrt{\\det g(x)} \\psi(x)$:\n1542: \n1543: $$\n1544: \\lim_{N \\to \\infty, \\delta \\to 0} R_{\\text{CST}}(e_i) = R(x_i)\n1545: $$\n1546: \n1547: where $R(x_i)$ is the Ricci scalar of the emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$ at position $x_i$.",
      "metadata": {
        "label": "thm-causal-set-ricci-convergence"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1536: :::\n1537: \n1538: :::{prf:theorem} Causal Set Curvature Converges to Ricci Scalar\n1539: :label: thm-causal-set-ricci-convergence\n1540: \n1541: For the Fractal Set with adaptive density $\\rho(x) = \\sqrt{\\det g(x)} \\psi(x)$:\n1542: \n1543: $$\n1544: \\lim_{N \\to \\infty, \\delta \\to 0} R_{\\text{CST}}(e_i) = R(x_i)\n1545: $$\n1546: \n1547: where $R(x_i)$ is the Ricci scalar of the emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$ at position $x_i$.\n1548: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-566",
      "title": "Complete Derivation",
      "start_line": 1550,
      "end_line": 1651,
      "header_lines": [],
      "content_start": 1552,
      "content_end": 1650,
      "content": "1552: :::{prf:proof} Complete Derivation\n1553: \n1554: We prove that $R_{\\text{CST}}(e_i) \\to R(x_i)$ as $N \\to \\infty, \\delta \\to 0$ through rigorous integration over the QSD spatial density.\n1555: \n1556: **Step 1: Expected causal interval size from QSD**\n1557: \n1558: The expected number of episodes in the causal past $I_\\delta(e_i)$ is computed by integrating the QSD spatial density:\n1559: \n1560: $$\n1561: \\mathbb{E}[|I_\\delta(e_i)|] = N \\cdot \\mathbb{P}(e \\in I_\\delta(e_i)) = N \\int_{t_i-\\delta}^{t_i} dt \\int_{B_{c(t_i-t)}(x_i)} \\frac{1}{Z} \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T} \\, dx\n1562: $$\n1563: \n1564: where:\n1565: - $B_r(x_i) = \\{x : d_g(x_i, x) < r\\}$ is the geodesic ball of radius $r$ centered at $x_i$\n1566: - The QSD spatial density is $\\rho_{\\text{spatial}}(x) = \\frac{1}{Z} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}(x)/T}$\n1567: \n1568: **Step 2: Local constancy of fitness potential**\n1569: \n1570: **Assumption**: For sufficiently small $\\delta$, the effective potential $U_{\\text{eff}}(x)$ varies negligibly over the geodesic ball $B_{c\\delta}(x_i)$, so we can approximate:\n1571: \n1572: $$\n1573: e^{-U_{\\text{eff}}(x)/T} \\approx e^{-U_{\\text{eff}}(x_i)/T} \\quad \\text{for } x \\in B_{c\\delta}(x_i)\n1574: $$\n1575: \n1576: This is valid when $\\delta \\ll (\\|\\nabla U_{\\text{eff}}\\|/T)^{-1}$, i.e., the fitness landscape variation scale is much larger than the causal interval temporal extent.\n1577: \n1578: **Step 3: Factorization and volume integration**\n1579: \n1580: Factor out the constant terms:\n1581: \n1582: $$\n1583: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\int_{t_i-\\delta}^{t_i} dt \\int_{B_{c(t_i-t)}(x_i)} \\sqrt{\\det g(x)} \\, dx\n1584: $$\n1585: \n1586: The inner integral is the **Riemannian volume** of the geodesic ball. Using Riemannian normal coordinates centered at $x_i$, the volume of $B_r(x_i)$ has the expansion (G\u00fcnther 1960):\n1587: \n1588: $$\n1589: \\text{Vol}_g(B_r(x_i)) = \\int_{B_r(x_i)} \\sqrt{\\det g(x)} \\, dx = \\Omega_d r^d \\left[1 - \\frac{R(x_i)}{6(d+2)} r^2 + O(r^4)\\right]\n1590: $$\n1591: \n1592: **Step 4: Temporal integration**\n1593: \n1594: Substitute $r = c(t_i - t) = c\\tau$ where $\\tau \\in [0, \\delta]$:\n1595: \n1596: $$\n1597: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\int_0^\\delta \\Omega_d (c\\tau)^d \\left[1 - \\frac{R(x_i) c^2 \\tau^2}{6(d+2)} + O(\\tau^4)\\right] d\\tau\n1598: $$\n1599: \n1600: Evaluate the integrals:\n1601: \n1602: $$\n1603: \\int_0^\\delta (c\\tau)^d d\\tau = \\frac{c^d \\delta^{d+1}}{d+1}\n1604: $$\n1605: \n1606: $$\n1607: \\int_0^\\delta (c\\tau)^{d+2} d\\tau = \\frac{c^{d+2} \\delta^{d+3}}{d+3}\n1608: $$\n1609: \n1610: Therefore:\n1611: \n1612: $$\n1613: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\cdot \\Omega_d c^d \\delta^{d+1} \\left[\\frac{1}{d+1} - \\frac{R(x_i) c^2 \\delta^2}{6(d+2)(d+3)}\\right]\n1614: $$\n1615: \n1616: **Step 5: Normalization by average density**\n1617: \n1618: The average adaptive density is $\\bar{\\rho} = N / \\int \\sqrt{\\det g} \\, dx$. Define the normalized expectation:\n1619: \n1620: $$\n1621: \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)} = \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} \\cdot \\frac{\\Omega_d c^d \\delta^{d+1}}{d+1}}\n1622: $$\n1623: \n1624: Substituting the result from Step 4:\n1625: \n1626: $$\n1627: \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)} \\approx 1 - \\frac{R(x_i) c^2 \\delta^2 (d+1)}{6(d+2)(d+3)}\n1628: $$\n1629: \n1630: **Step 6: Extraction of Ricci scalar**\n1631: \n1632: From the definition {prf:ref}`def-ricci-causal-set-volume`:\n1633: \n1634: $$\n1635: R_{\\text{CST}}(e_i) = \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\left(1 - \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)}\\right)\n1636: $$\n1637: \n1638: Substituting the result from Step 5:\n1639: \n1640: $$\n1641: R_{\\text{CST}}(e_i) = \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\cdot \\frac{R(x_i) c^2 \\delta^2 (d+1)}{6(d+2)(d+3)} = R(x_i)\n1642: $$\n1643: \n1644: Thus, the normalization constant $\\frac{6(d+2)(d+3)}{c^2(d+1)}$ precisely cancels all dimension-dependent factors, yielding exact convergence to the Ricci scalar.\n1645: \n1646: **Step 7: Error analysis**\n1647: \n1648: The $O(\\delta)$ error term comes from the next term in the geodesic ball volume expansion, which involves $\\nabla_a R$ and contributes $O(r^3)$ to the volume. After integration, this produces a $\\delta^{d+4}$ term which, after division by $\\delta^2$, gives the leading $O(\\delta^2)$ systematic error. Higher-order gradient terms contribute $O(\\delta^3)$, etc.\n1649: \n1650: The $O(N^{-1/2})$ statistical error comes from finite-sample fluctuations in $|I_\\delta(e_i)|$ around its expectation (Central Limit Theorem).",
      "metadata": {},
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-ricci-causal-set-volume"
      ],
      "raw_directive": "1550: :::\n1551: \n1552: :::{prf:proof} Complete Derivation\n1553: \n1554: We prove that $R_{\\text{CST}}(e_i) \\to R(x_i)$ as $N \\to \\infty, \\delta \\to 0$ through rigorous integration over the QSD spatial density.\n1555: \n1556: **Step 1: Expected causal interval size from QSD**\n1557: \n1558: The expected number of episodes in the causal past $I_\\delta(e_i)$ is computed by integrating the QSD spatial density:\n1559: \n1560: $$\n1561: \\mathbb{E}[|I_\\delta(e_i)|] = N \\cdot \\mathbb{P}(e \\in I_\\delta(e_i)) = N \\int_{t_i-\\delta}^{t_i} dt \\int_{B_{c(t_i-t)}(x_i)} \\frac{1}{Z} \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T} \\, dx\n1562: $$\n1563: \n1564: where:\n1565: - $B_r(x_i) = \\{x : d_g(x_i, x) < r\\}$ is the geodesic ball of radius $r$ centered at $x_i$\n1566: - The QSD spatial density is $\\rho_{\\text{spatial}}(x) = \\frac{1}{Z} \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}(x)/T}$\n1567: \n1568: **Step 2: Local constancy of fitness potential**\n1569: \n1570: **Assumption**: For sufficiently small $\\delta$, the effective potential $U_{\\text{eff}}(x)$ varies negligibly over the geodesic ball $B_{c\\delta}(x_i)$, so we can approximate:\n1571: \n1572: $$\n1573: e^{-U_{\\text{eff}}(x)/T} \\approx e^{-U_{\\text{eff}}(x_i)/T} \\quad \\text{for } x \\in B_{c\\delta}(x_i)\n1574: $$\n1575: \n1576: This is valid when $\\delta \\ll (\\|\\nabla U_{\\text{eff}}\\|/T)^{-1}$, i.e., the fitness landscape variation scale is much larger than the causal interval temporal extent.\n1577: \n1578: **Step 3: Factorization and volume integration**\n1579: \n1580: Factor out the constant terms:\n1581: \n1582: $$\n1583: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\int_{t_i-\\delta}^{t_i} dt \\int_{B_{c(t_i-t)}(x_i)} \\sqrt{\\det g(x)} \\, dx\n1584: $$\n1585: \n1586: The inner integral is the **Riemannian volume** of the geodesic ball. Using Riemannian normal coordinates centered at $x_i$, the volume of $B_r(x_i)$ has the expansion (G\u00fcnther 1960):\n1587: \n1588: $$\n1589: \\text{Vol}_g(B_r(x_i)) = \\int_{B_r(x_i)} \\sqrt{\\det g(x)} \\, dx = \\Omega_d r^d \\left[1 - \\frac{R(x_i)}{6(d+2)} r^2 + O(r^4)\\right]\n1590: $$\n1591: \n1592: **Step 4: Temporal integration**\n1593: \n1594: Substitute $r = c(t_i - t) = c\\tau$ where $\\tau \\in [0, \\delta]$:\n1595: \n1596: $$\n1597: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\int_0^\\delta \\Omega_d (c\\tau)^d \\left[1 - \\frac{R(x_i) c^2 \\tau^2}{6(d+2)} + O(\\tau^4)\\right] d\\tau\n1598: $$\n1599: \n1600: Evaluate the integrals:\n1601: \n1602: $$\n1603: \\int_0^\\delta (c\\tau)^d d\\tau = \\frac{c^d \\delta^{d+1}}{d+1}\n1604: $$\n1605: \n1606: $$\n1607: \\int_0^\\delta (c\\tau)^{d+2} d\\tau = \\frac{c^{d+2} \\delta^{d+3}}{d+3}\n1608: $$\n1609: \n1610: Therefore:\n1611: \n1612: $$\n1613: \\mathbb{E}[|I_\\delta(e_i)|] \\approx \\frac{N}{Z} e^{-U_{\\text{eff}}(x_i)/T} \\cdot \\Omega_d c^d \\delta^{d+1} \\left[\\frac{1}{d+1} - \\frac{R(x_i) c^2 \\delta^2}{6(d+2)(d+3)}\\right]\n1614: $$\n1615: \n1616: **Step 5: Normalization by average density**\n1617: \n1618: The average adaptive density is $\\bar{\\rho} = N / \\int \\sqrt{\\det g} \\, dx$. Define the normalized expectation:\n1619: \n1620: $$\n1621: \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)} = \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} \\cdot \\frac{\\Omega_d c^d \\delta^{d+1}}{d+1}}\n1622: $$\n1623: \n1624: Substituting the result from Step 4:\n1625: \n1626: $$\n1627: \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)} \\approx 1 - \\frac{R(x_i) c^2 \\delta^2 (d+1)}{6(d+2)(d+3)}\n1628: $$\n1629: \n1630: **Step 6: Extraction of Ricci scalar**\n1631: \n1632: From the definition {prf:ref}`def-ricci-causal-set-volume`:\n1633: \n1634: $$\n1635: R_{\\text{CST}}(e_i) = \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\left(1 - \\frac{\\mathbb{E}[|I_\\delta(e_i)|]}{\\bar{\\rho} V_{\\text{flat}}(\\delta)}\\right)\n1636: $$\n1637: \n1638: Substituting the result from Step 5:\n1639: \n1640: $$\n1641: R_{\\text{CST}}(e_i) = \\frac{6(d+2)(d+3)}{c^2(d+1)\\delta^2} \\cdot \\frac{R(x_i) c^2 \\delta^2 (d+1)}{6(d+2)(d+3)} = R(x_i)\n1642: $$\n1643: \n1644: Thus, the normalization constant $\\frac{6(d+2)(d+3)}{c^2(d+1)}$ precisely cancels all dimension-dependent factors, yielding exact convergence to the Ricci scalar.\n1645: \n1646: **Step 7: Error analysis**\n1647: \n1648: The $O(\\delta)$ error term comes from the next term in the geodesic ball volume expansion, which involves $\\nabla_a R$ and contributes $O(r^3)$ to the volume. After integration, this produces a $\\delta^{d+4}$ term which, after division by $\\delta^2$, gives the leading $O(\\delta^2)$ systematic error. Higher-order gradient terms contribute $O(\\delta^3)$, etc.\n1649: \n1650: The $O(N^{-1/2})$ statistical error comes from finite-sample fluctuations in $|I_\\delta(e_i)|$ around its expectation (Central Limit Theorem).\n1651: "
    },
    {
      "directive_type": "remark",
      "label": "rem-causal-set-advantages",
      "title": "Advantages of Causal Set Approach",
      "start_line": 1653,
      "end_line": 1670,
      "header_lines": [
        1654
      ],
      "content_start": 1656,
      "content_end": 1669,
      "content": "1656: :label: rem-causal-set-advantages\n1657: \n1658: **Computational**:\n1659: - No derivatives required (purely combinatorial)\n1660: - Robust to walker position noise\n1661: - Natural for discrete event-based data\n1662: \n1663: **Physical**:\n1664: - Manifestly causal structure\n1665: - Direct connection to information geometry\n1666: - Natural for quantum gravity extensions\n1667: \n1668: **Theoretical**:\n1669: - Connects Fragile Gas to causal set quantum gravity (Bombelli et al. 1987, Sorkin 2003)",
      "metadata": {
        "label": "rem-causal-set-advantages"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1653: :::\n1654: \n1655: :::{prf:remark} Advantages of Causal Set Approach\n1656: :label: rem-causal-set-advantages\n1657: \n1658: **Computational**:\n1659: - No derivatives required (purely combinatorial)\n1660: - Robust to walker position noise\n1661: - Natural for discrete event-based data\n1662: \n1663: **Physical**:\n1664: - Manifestly causal structure\n1665: - Direct connection to information geometry\n1666: - Natural for quantum gravity extensions\n1667: \n1668: **Theoretical**:\n1669: - Connects Fragile Gas to causal set quantum gravity (Bombelli et al. 1987, Sorkin 2003)\n1670: - Provides discrete spacetime foundation"
    },
    {
      "directive_type": "corollary",
      "label": "cor-causal-set-validation",
      "title": "Cross-Validation with Other Curvature Measures",
      "start_line": 1672,
      "end_line": 1690,
      "header_lines": [
        1673
      ],
      "content_start": 1675,
      "content_end": 1689,
      "content": "1675: :label: cor-causal-set-validation\n1676: \n1677: The causal set curvature $R_{\\text{CST}}$ provides an **independent check** on the other four curvature measures:\n1678: \n1679: $$\n1680: R_{\\text{deficit}}(x_i) \\approx R_{\\text{spectral}}(x_i) \\approx R_{\\text{metric}}(x_i) \\approx R_{\\text{heat}}(x_i) \\approx R_{\\text{CST}}(x_i)\n1681: $$\n1682: \n1683: all within $O(N^{-1/2})$ statistical error.\n1684: \n1685: **Validation protocol**:\n1686: 1. Compute $R_{\\text{CST}}(e_i)$ from episode causal structure\n1687: 2. Compare with $R_{\\text{metric}}(x_i)$ from fitness Hessian\n1688: 3. Large discrepancies indicate either:\n1689:    - Insufficient resolution ($N$ too small)",
      "metadata": {
        "label": "cor-causal-set-validation"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1672: :::\n1673: \n1674: :::{prf:corollary} Cross-Validation with Other Curvature Measures\n1675: :label: cor-causal-set-validation\n1676: \n1677: The causal set curvature $R_{\\text{CST}}$ provides an **independent check** on the other four curvature measures:\n1678: \n1679: $$\n1680: R_{\\text{deficit}}(x_i) \\approx R_{\\text{spectral}}(x_i) \\approx R_{\\text{metric}}(x_i) \\approx R_{\\text{heat}}(x_i) \\approx R_{\\text{CST}}(x_i)\n1681: $$\n1682: \n1683: all within $O(N^{-1/2})$ statistical error.\n1684: \n1685: **Validation protocol**:\n1686: 1. Compute $R_{\\text{CST}}(e_i)$ from episode causal structure\n1687: 2. Compare with $R_{\\text{metric}}(x_i)$ from fitness Hessian\n1688: 3. Large discrepancies indicate either:\n1689:    - Insufficient resolution ($N$ too small)\n1690:    - Non-equilibrium effects (swarm not at QSD)"
    },
    {
      "directive_type": "definition",
      "label": "def-companion-graph-laplacian",
      "title": "Companion-Weighted Graph Laplacian",
      "start_line": 1698,
      "end_line": 1731,
      "header_lines": [
        1699
      ],
      "content_start": 1701,
      "content_end": 1730,
      "content": "1701: :label: def-companion-graph-laplacian\n1702: \n1703: For a swarm configuration $\\mathcal{S} = \\{(x_i, v_i)\\}_{i=1}^N$, define the **companion kernel** as:\n1704: \n1705: $$\n1706: w_{ij} := w(x_i, v_i; x_j, v_j) = \\exp\\left( -\\frac{d_{\\text{alg}}^2(i, j)}{2\\epsilon^2} \\right)\n1707: $$\n1708: \n1709: where:\n1710: \n1711: $$\n1712: d_{\\text{alg}}^2(i, j) := \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n1713: $$\n1714: \n1715: is the **algorithmic distance** from Definition {prf:ref}`def-algorithmic-distance-metric` ([03_cloning.md](03_cloning.md)), and $\\epsilon > 0$ is the companion selection bandwidth.\n1716: \n1717: The **companion-weighted graph Laplacian** is:\n1718: \n1719: $$\n1720: (\\Delta_0 f)_i := \\frac{1}{d_i} \\sum_{j=1}^N w_{ij} (f_j - f_i)\n1721: $$\n1722: \n1723: where $d_i := \\sum_{j=1}^N w_{ij}$ is the degree (normalization).\n1724: \n1725: **Connection to cloning dynamics**: The companion kernel $w_{ij}$ coincides with the cloning partner selection probability in the Euclidean Gas (see [03_cloning.md](03_cloning.md) Section 5). Thus, $\\Delta_0$ encodes the **actual algorithmic dynamics**, not an arbitrary graph construction.\n1726: \n1727: **Symmetry properties** (from [09_symmetries_adaptive_gas.md](09_symmetries_adaptive_gas.md)):\n1728: 1. **Permutation invariance**: $w_{\\sigma(i)\\sigma(j)} = w_{ij}$ for all $\\sigma \\in S_N$ (Theorem {prf:ref}`thm-permutation-symmetry`)\n1729: 2. **Translation equivariance**: $w_{ij}$ is invariant under position translations when the reward is translation-invariant (Theorem {prf:ref}`thm-translation-equivariance`)\n1730: 3. **Rotation equivariance**: The algorithmic distance (Sasaki metric) is invariant under simultaneous rotations of positions and velocities (Theorem {prf:ref}`thm-rotation-equivariance`)",
      "metadata": {
        "label": "def-companion-graph-laplacian"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-algorithmic-distance-metric",
        "thm-permutation-symmetry",
        "thm-translation-equivariance",
        "thm-rotation-equivariance"
      ],
      "raw_directive": "1698: The key to proving curvature unification is establishing the convergence of a discrete graph Laplacian to the continuum Laplace-Beltrami operator. We use the **companion selection probabilities** from the Fragile Gas cloning dynamics to define edge weights, making the construction **algorithmically intrinsic** rather than artificial.\n1699: \n1700: :::{prf:definition} Companion-Weighted Graph Laplacian\n1701: :label: def-companion-graph-laplacian\n1702: \n1703: For a swarm configuration $\\mathcal{S} = \\{(x_i, v_i)\\}_{i=1}^N$, define the **companion kernel** as:\n1704: \n1705: $$\n1706: w_{ij} := w(x_i, v_i; x_j, v_j) = \\exp\\left( -\\frac{d_{\\text{alg}}^2(i, j)}{2\\epsilon^2} \\right)\n1707: $$\n1708: \n1709: where:\n1710: \n1711: $$\n1712: d_{\\text{alg}}^2(i, j) := \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n1713: $$\n1714: \n1715: is the **algorithmic distance** from Definition {prf:ref}`def-algorithmic-distance-metric` ([03_cloning.md](03_cloning.md)), and $\\epsilon > 0$ is the companion selection bandwidth.\n1716: \n1717: The **companion-weighted graph Laplacian** is:\n1718: \n1719: $$\n1720: (\\Delta_0 f)_i := \\frac{1}{d_i} \\sum_{j=1}^N w_{ij} (f_j - f_i)\n1721: $$\n1722: \n1723: where $d_i := \\sum_{j=1}^N w_{ij}$ is the degree (normalization).\n1724: \n1725: **Connection to cloning dynamics**: The companion kernel $w_{ij}$ coincides with the cloning partner selection probability in the Euclidean Gas (see [03_cloning.md](03_cloning.md) Section 5). Thus, $\\Delta_0$ encodes the **actual algorithmic dynamics**, not an arbitrary graph construction.\n1726: \n1727: **Symmetry properties** (from [09_symmetries_adaptive_gas.md](09_symmetries_adaptive_gas.md)):\n1728: 1. **Permutation invariance**: $w_{\\sigma(i)\\sigma(j)} = w_{ij}$ for all $\\sigma \\in S_N$ (Theorem {prf:ref}`thm-permutation-symmetry`)\n1729: 2. **Translation equivariance**: $w_{ij}$ is invariant under position translations when the reward is translation-invariant (Theorem {prf:ref}`thm-translation-equivariance`)\n1730: 3. **Rotation equivariance**: The algorithmic distance (Sasaki metric) is invariant under simultaneous rotations of positions and velocities (Theorem {prf:ref}`thm-rotation-equivariance`)\n1731: "
    },
    {
      "directive_type": "remark",
      "label": "rem-companion-laplacian-variants",
      "title": "Relationship to Standard Graph Laplacians",
      "start_line": 1733,
      "end_line": 1759,
      "header_lines": [
        1734
      ],
      "content_start": 1736,
      "content_end": 1758,
      "content": "1736: :label: rem-companion-laplacian-variants\n1737: \n1738: The companion-weighted Laplacian is a **weighted, symmetric, normalized graph Laplacian**. It has several equivalent forms:\n1739: \n1740: **Normalized form** (above):\n1741: \n1742: $$\n1743: \\Delta_0 = D^{-1} W - I\n1744: $$\n1745: \n1746: where $W_{ij} = w_{ij}$ is the weight matrix and $D = \\text{diag}(d_1, \\ldots, d_N)$.\n1747: \n1748: **Unnormalized form**:\n1749: \n1750: $$\n1751: \\tilde{\\Delta}_0 = D - W\n1752: $$\n1753: \n1754: **Random walk form**:\n1755: \n1756: $$\n1757: P = D^{-1} W, \\quad \\Delta_0 = P - I\n1758: $$",
      "metadata": {
        "label": "rem-companion-laplacian-variants"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1733: :::\n1734: \n1735: :::{prf:remark} Relationship to Standard Graph Laplacians\n1736: :label: rem-companion-laplacian-variants\n1737: \n1738: The companion-weighted Laplacian is a **weighted, symmetric, normalized graph Laplacian**. It has several equivalent forms:\n1739: \n1740: **Normalized form** (above):\n1741: \n1742: $$\n1743: \\Delta_0 = D^{-1} W - I\n1744: $$\n1745: \n1746: where $W_{ij} = w_{ij}$ is the weight matrix and $D = \\text{diag}(d_1, \\ldots, d_N)$.\n1747: \n1748: **Unnormalized form**:\n1749: \n1750: $$\n1751: \\tilde{\\Delta}_0 = D - W\n1752: $$\n1753: \n1754: **Random walk form**:\n1755: \n1756: $$\n1757: P = D^{-1} W, \\quad \\Delta_0 = P - I\n1758: $$\n1759: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-companion-laplacian-spectrum",
      "title": "Spectral Properties of Companion Laplacian",
      "start_line": 1761,
      "end_line": 1775,
      "header_lines": [
        1762
      ],
      "content_start": 1764,
      "content_end": 1774,
      "content": "1764: :label: prop-companion-laplacian-spectrum\n1765: \n1766: The companion-weighted graph Laplacian $\\Delta_0$ satisfies:\n1767: \n1768: 1. **Symmetry**: $\\Delta_0$ is symmetric with respect to the degree-weighted inner product $\\langle f, g \\rangle_d := \\sum_{i=1}^N f_i g_i d_i$.\n1769: \n1770: 2. **Non-positive eigenvalues**: All eigenvalues satisfy $\\lambda_k \\le 0$.\n1771: \n1772: 3. **Zero eigenvalue**: $\\lambda_0 = 0$ with eigenfunction $\\phi_0 = \\mathbf{1}$ (constant function).\n1773: \n1774: 4. **Spectral gap**: If the walker configuration is **connected** (i.e., $\\exists$ path $i \\leadsto j$ with $w_{i,i_1}, w_{i_1,i_2}, \\ldots, w_{i_m,j} > 0$), then $\\lambda_1 < 0$ (negative gap).",
      "metadata": {
        "label": "prop-companion-laplacian-spectrum"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1761: :::\n1762: \n1763: :::{prf:proposition} Spectral Properties of Companion Laplacian\n1764: :label: prop-companion-laplacian-spectrum\n1765: \n1766: The companion-weighted graph Laplacian $\\Delta_0$ satisfies:\n1767: \n1768: 1. **Symmetry**: $\\Delta_0$ is symmetric with respect to the degree-weighted inner product $\\langle f, g \\rangle_d := \\sum_{i=1}^N f_i g_i d_i$.\n1769: \n1770: 2. **Non-positive eigenvalues**: All eigenvalues satisfy $\\lambda_k \\le 0$.\n1771: \n1772: 3. **Zero eigenvalue**: $\\lambda_0 = 0$ with eigenfunction $\\phi_0 = \\mathbf{1}$ (constant function).\n1773: \n1774: 4. **Spectral gap**: If the walker configuration is **connected** (i.e., $\\exists$ path $i \\leadsto j$ with $w_{i,i_1}, w_{i_1,i_2}, \\ldots, w_{i_m,j} > 0$), then $\\lambda_1 < 0$ (negative gap).\n1775: "
    },
    {
      "directive_type": "proposition",
      "label": "prop-companion-dirichlet-energy",
      "title": "Dirichlet Energy and Gradient Flow",
      "start_line": 1777,
      "end_line": 1809,
      "header_lines": [
        1778
      ],
      "content_start": 1780,
      "content_end": 1808,
      "content": "1780: :label: prop-companion-dirichlet-energy\n1781: \n1782: The **Dirichlet energy** associated with the companion-weighted graph is:\n1783: \n1784: $$\n1785: \\mathcal{E}(f) := \\frac{1}{2} \\sum_{i,j=1}^N w_{ij} (f_i - f_j)^2\n1786: $$\n1787: \n1788: This energy is the quadratic form of the **unnormalized Laplacian** $\\tilde{\\Delta}_0 = D - W$:\n1789: \n1790: $$\n1791: \\mathcal{E}(f) = \\langle f, \\tilde{\\Delta}_0 f \\rangle\n1792: $$\n1793: \n1794: It is related to the **normalized Laplacian** $\\Delta_0$ via the degree-weighted inner product:\n1795: \n1796: $$\n1797: \\mathcal{E}(f) = -\\langle f, \\Delta_0 f \\rangle_d\n1798: $$\n1799: \n1800: where $\\langle f, g \\rangle_d := \\sum_{i=1}^N f_i g_i d_i$.\n1801: \n1802: **Continuum analog**: This energy functional is the **discrete analog** of the continuum Dirichlet integral:\n1803: \n1804: $$\n1805: \\mathcal{E}_{\\text{cont}}(f) := \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu\n1806: $$\n1807: \n1808: where $\\mu$ is the measure induced by the limiting density.",
      "metadata": {
        "label": "prop-companion-dirichlet-energy"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1777: :::\n1778: \n1779: :::{prf:proposition} Dirichlet Energy and Gradient Flow\n1780: :label: prop-companion-dirichlet-energy\n1781: \n1782: The **Dirichlet energy** associated with the companion-weighted graph is:\n1783: \n1784: $$\n1785: \\mathcal{E}(f) := \\frac{1}{2} \\sum_{i,j=1}^N w_{ij} (f_i - f_j)^2\n1786: $$\n1787: \n1788: This energy is the quadratic form of the **unnormalized Laplacian** $\\tilde{\\Delta}_0 = D - W$:\n1789: \n1790: $$\n1791: \\mathcal{E}(f) = \\langle f, \\tilde{\\Delta}_0 f \\rangle\n1792: $$\n1793: \n1794: It is related to the **normalized Laplacian** $\\Delta_0$ via the degree-weighted inner product:\n1795: \n1796: $$\n1797: \\mathcal{E}(f) = -\\langle f, \\Delta_0 f \\rangle_d\n1798: $$\n1799: \n1800: where $\\langle f, g \\rangle_d := \\sum_{i=1}^N f_i g_i d_i$.\n1801: \n1802: **Continuum analog**: This energy functional is the **discrete analog** of the continuum Dirichlet integral:\n1803: \n1804: $$\n1805: \\mathcal{E}_{\\text{cont}}(f) := \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu\n1806: $$\n1807: \n1808: where $\\mu$ is the measure induced by the limiting density.\n1809: "
    },
    {
      "directive_type": "remark",
      "label": "rem-velocity-marginalization",
      "title": "Velocity Marginalization Challenge",
      "start_line": 1811,
      "end_line": 1825,
      "header_lines": [
        1812
      ],
      "content_start": 1814,
      "content_end": 1824,
      "content": "1814: :label: rem-velocity-marginalization\n1815: \n1816: A key technical challenge for spectral convergence is that the companion kernel $w_{ij}$ depends on **both position and velocity** $(x_i, v_i)$, while the target Laplace-Beltrami operator $\\Delta_g$ acts on functions of $x$ only.\n1817: \n1818: **Strategy**: The limiting walker density $\\rho_\\infty(x,v)$ (proven to exist in [06_propagation_chaos.md](06_propagation_chaos.md)) factors asymptotically as:\n1819: \n1820: $$\n1821: \\rho_\\infty(x,v) \\approx \\rho_\\infty^{\\text{spatial}}(x) \\cdot \\mathcal{M}_v\n1822: $$\n1823: \n1824: where $\\mathcal{M}_v$ is a Maxwellian velocity distribution. The **spatial projection** of $\\Delta_0$ (obtained by averaging over velocity) converges to $\\Delta_g$ acting on the spatial density.",
      "metadata": {
        "label": "rem-velocity-marginalization"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1811: :::\n1812: \n1813: :::{prf:remark} Velocity Marginalization Challenge\n1814: :label: rem-velocity-marginalization\n1815: \n1816: A key technical challenge for spectral convergence is that the companion kernel $w_{ij}$ depends on **both position and velocity** $(x_i, v_i)$, while the target Laplace-Beltrami operator $\\Delta_g$ acts on functions of $x$ only.\n1817: \n1818: **Strategy**: The limiting walker density $\\rho_\\infty(x,v)$ (proven to exist in [06_propagation_chaos.md](06_propagation_chaos.md)) factors asymptotically as:\n1819: \n1820: $$\n1821: \\rho_\\infty(x,v) \\approx \\rho_\\infty^{\\text{spatial}}(x) \\cdot \\mathcal{M}_v\n1822: $$\n1823: \n1824: where $\\mathcal{M}_v$ is a Maxwellian velocity distribution. The **spatial projection** of $\\Delta_0$ (obtained by averaging over velocity) converges to $\\Delta_g$ acting on the spatial density.\n1825: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-laplacian-convergence",
      "title": "Graph Laplacian Convergence to Laplace-Beltrami Operator",
      "start_line": 1851,
      "end_line": 1879,
      "header_lines": [
        1852
      ],
      "content_start": 1854,
      "content_end": 1878,
      "content": "1854: :label: lem-laplacian-convergence\n1855: \n1856: The sequence of companion-weighted graph Laplacians $\\Delta_0^{(N)}$ converges in the weak operator topology to the Laplace-Beltrami operator $\\Delta_g$ on the emergent Riemannian manifold $(M, g)$.\n1857: \n1858: **Precise statement**: For any smooth test function $f \\in C^\\infty(M)$ and the empirical measure $\\mu_N := \\frac{1}{N} \\sum_{i=1}^N \\delta_{x_i}$:\n1859: \n1860: $$\n1861: \\lim_{N \\to \\infty} \\langle f, \\Delta_0^{(N)} f \\rangle_{\\mu_N} = \\langle f, \\Delta_g f \\rangle_{dV_g}\n1862: $$\n1863: \n1864: where $dV_g$ is the Riemannian volume measure on $(M, g)$.\n1865: \n1866: **Connects**: Spectral Gap \u2194 Heat Kernel (via spectral theorem)\n1867: \n1868: **Difficulty**: HIGH\n1869: \n1870: **Required prerequisites**:\n1871: 1. **Gromov-Hausdorff convergence** ({prf:ref}`lem-gromov-hausdorff`): $(V_N, d_{\\text{alg}}) \\xrightarrow{GH} (M, g)$\n1872: 2. **N-uniform LSI**: $\\sup_{N \\geq 2} C_{\\text{LSI}}(N) < \\infty$ (\u2705 proven in [10_kl_convergence.md](10_kl_convergence/10_kl_convergence.md))\n1873: 3. **Empirical measure convergence**: $\\mu_N \\Rightarrow \\rho_\\infty dx$ (\u2705 proven in [06_propagation_chaos.md](06_propagation_chaos.md))\n1874: \n1875: **Key techniques**:\n1876: 1. **Spectral graph theory**: Use N-uniform LSI as discrete Ricci curvature bound\n1877: 2. **\u0393-convergence of Dirichlet energies**: Show $\\mathcal{E}_N(f) \\to \\mathcal{E}_{\\text{cont}}(f)$\n1878: 3. **Mosco convergence**: Show $\\Delta_0^{(N)}$ converges to $\\Delta_g$ in the sense of generators",
      "metadata": {
        "label": "lem-laplacian-convergence"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "lem-gromov-hausdorff"
      ],
      "raw_directive": "1851: The curvature unification conjecture reduces to proving three pivotal lemmas that connect the discrete companion-weighted graph to the continuum Riemannian manifold. These lemmas establish the convergence bridges between all five curvature definitions.\n1852: \n1853: :::{prf:lemma} Graph Laplacian Convergence to Laplace-Beltrami Operator\n1854: :label: lem-laplacian-convergence\n1855: \n1856: The sequence of companion-weighted graph Laplacians $\\Delta_0^{(N)}$ converges in the weak operator topology to the Laplace-Beltrami operator $\\Delta_g$ on the emergent Riemannian manifold $(M, g)$.\n1857: \n1858: **Precise statement**: For any smooth test function $f \\in C^\\infty(M)$ and the empirical measure $\\mu_N := \\frac{1}{N} \\sum_{i=1}^N \\delta_{x_i}$:\n1859: \n1860: $$\n1861: \\lim_{N \\to \\infty} \\langle f, \\Delta_0^{(N)} f \\rangle_{\\mu_N} = \\langle f, \\Delta_g f \\rangle_{dV_g}\n1862: $$\n1863: \n1864: where $dV_g$ is the Riemannian volume measure on $(M, g)$.\n1865: \n1866: **Connects**: Spectral Gap \u2194 Heat Kernel (via spectral theorem)\n1867: \n1868: **Difficulty**: HIGH\n1869: \n1870: **Required prerequisites**:\n1871: 1. **Gromov-Hausdorff convergence** ({prf:ref}`lem-gromov-hausdorff`): $(V_N, d_{\\text{alg}}) \\xrightarrow{GH} (M, g)$\n1872: 2. **N-uniform LSI**: $\\sup_{N \\geq 2} C_{\\text{LSI}}(N) < \\infty$ (\u2705 proven in [10_kl_convergence.md](10_kl_convergence/10_kl_convergence.md))\n1873: 3. **Empirical measure convergence**: $\\mu_N \\Rightarrow \\rho_\\infty dx$ (\u2705 proven in [06_propagation_chaos.md](06_propagation_chaos.md))\n1874: \n1875: **Key techniques**:\n1876: 1. **Spectral graph theory**: Use N-uniform LSI as discrete Ricci curvature bound\n1877: 2. **\u0393-convergence of Dirichlet energies**: Show $\\mathcal{E}_N(f) \\to \\mathcal{E}_{\\text{cont}}(f)$\n1878: 3. **Mosco convergence**: Show $\\Delta_0^{(N)}$ converges to $\\Delta_g$ in the sense of generators\n1879: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-897",
      "title": "\u0393-Convergence of Dirichlet Forms",
      "start_line": 1881,
      "end_line": 1995,
      "header_lines": [],
      "content_start": 1883,
      "content_end": 1994,
      "content": "1883: :::{prf:proof} \u0393-Convergence of Dirichlet Forms\n1884: \n1885: The proof uses the theory of \u0393-convergence for quadratic forms to show that the discrete graph Laplacian converges to the continuum Laplace-Beltrami operator.\n1886: \n1887: **Step 1: Dirichlet Energy Formulations**\n1888: \n1889: The **discrete Dirichlet energy** for a function $f_N: V_N \\to \\mathbb{R}$ is:\n1890: \n1891: $$\n1892: \\mathcal{E}_N(f_N) = \\frac{1}{2N} \\sum_{i,j=1}^N w_{ij} (f_N(x_i) - f_N(x_j))^2\n1893: $$\n1894: \n1895: where $w_{ij}$ are the companion-weighted graph edge weights.\n1896: \n1897: The **continuum Dirichlet energy** for a function $f \\in H^1(M)$ is:\n1898: \n1899: $$\n1900: \\mathcal{E}_\\infty(f) = \\frac{1}{2} \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu = \\frac{1}{2} \\int_M g^{ab} (\\partial_a f)(\\partial_b f) \\, \\sqrt{\\det g} \\, dx\n1901: $$\n1902: \n1903: where $d\\mu = \\sqrt{\\det g} \\, dx$ is the Riemannian volume measure.\n1904: \n1905: The Laplacians are the **generators** associated with these quadratic forms via the relation $\\mathcal{E}(f) = -\\langle f, \\Delta f \\rangle$.\n1906: \n1907: **Step 2: \u0393-Limsup Inequality (Recovering Discrete from Continuum)**\n1908: \n1909: For any smooth function $f \\in C^\\infty(M)$, we must show there exists a sequence $f_N: V_N \\to \\mathbb{R}$ such that $f_N \\to f$ and:\n1910: \n1911: $$\n1912: \\limsup_{N \\to \\infty} \\mathcal{E}_N(f_N) \\le \\mathcal{E}_\\infty(f)\n1913: $$\n1914: \n1915: **Construction**: Simply restrict $f$ to the walker positions: $f_N(x_i) = f(x_i)$ for $x_i \\in V_N$.\n1916: \n1917: For adjacent walkers $i, j$ with $w_{ij} > 0$, by Taylor expansion:\n1918: \n1919: $$\n1920: f(x_j) - f(x_i) = \\nabla f(x_i) \\cdot (x_j - x_i) + O(\\|x_j - x_i\\|^2)\n1921: $$\n1922: \n1923: The discrete energy term is:\n1924: \n1925: $$\n1926: w_{ij} (f_N(x_i) - f_N(x_j))^2 = w_{ij} [\\nabla f(x_i) \\cdot (x_j - x_i)]^2 + O(w_{ij} \\|x_j - x_i\\|^4)\n1927: $$\n1928: \n1929: Since $w_{ij}$ are companion weights decaying with distance, and the walkers densely sample the manifold, the sum over edges converges to the continuum integral:\n1930: \n1931: $$\n1932: \\lim_{N \\to \\infty} \\frac{1}{2N} \\sum_{i,j} w_{ij} (f_N(x_i) - f_N(x_j))^2 = \\frac{1}{2} \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu\n1933: $$\n1934: \n1935: This is a **discrete approximation theorem**, proven rigorously using the Gromov-Hausdorff convergence ({prf:ref}`lem-gromov-hausdorff`) to control approximation error.\n1936: \n1937: **Step 3: \u0393-Liminf Inequality (Recovering Continuum from Discrete)**\n1938: \n1939: For any sequence $f_N \\to f$, we must show:\n1940: \n1941: $$\n1942: \\liminf_{N \\to \\infty} \\mathcal{E}_N(f_N) \\ge \\mathcal{E}_\\infty(f)\n1943: $$\n1944: \n1945: This is the difficult direction, requiring **geometric control**.\n1946: \n1947: **Key Observation**: The N-uniform LSI ({prf:ref}`thm-n-uniform-lsi`) provides a **discrete Ricci curvature lower bound** via the Bakry-\u00c9mery criterion:\n1948: \n1949: $$\n1950: \\mathcal{E}_N(f_N) \\ge \\frac{\\kappa_{\\text{LSI}}}{2} \\text{Ent}_N(f_N^2)\n1951: $$\n1952: \n1953: where $\\text{Ent}_N$ is the discrete entropy. This LSI is **N-uniform**, meaning the constant $\\kappa_{\\text{LSI}}$ does not degrade as $N \\to \\infty$.\n1954: \n1955: In Riemannian geometry, a Ricci curvature lower bound $\\text{Ric} \\ge \\kappa g$ implies an LSI:\n1956: \n1957: $$\n1958: \\mathcal{E}_\\infty(f) \\ge \\frac{\\kappa}{2} \\text{Ent}_\\infty(f^2)\n1959: $$\n1960: \n1961: The uniform LSI constant acts as a **discrete analogue** of positive Ricci curvature, providing compactness for the sequence of metric measure spaces.\n1962: \n1963: **Cheeger-Colding Theory**: For metric measure spaces with uniform lower Ricci curvature bounds (via LSI) and uniform diameter bounds, Cheeger-Colding proved that any Gromov-Hausdorff limit has a well-defined Laplace operator, and Dirichlet energies converge.\n1964: \n1965: **Application**: Given:\n1966: 1. **Gromov-Hausdorff convergence** ({prf:ref}`lem-gromov-hausdorff`): $(V_N, d_{\\text{alg}}, \\mu_N) \\xrightarrow{GH} (M, g, \\mu)$\n1967: 2. **N-uniform LSI**: Uniform Ricci-like lower bound\n1968: 3. **Bounded diameter**: $\\text{diam}(\\mathcal{X}) < \\infty$\n1969: \n1970: The Cheeger-Colding framework guarantees:\n1971: \n1972: $$\n1973: \\liminf_{N \\to \\infty} \\mathcal{E}_N(f_N) \\ge \\mathcal{E}_\\infty(f)\n1974: $$\n1975: \n1976: **Step 4: Convergence of Generators**\n1977: \n1978: By a theorem of Kuwada (2010) and related results in analysis on metric measure spaces, if the Dirichlet forms \u0393-converge and the underlying spaces converge in measured Gromov-Hausdorff sense, then the associated generators (Laplacians) converge in the **strong resolvent sense**:\n1979: \n1980: $$\n1981: (\\lambda - \\Delta_0^{(N)})^{-1} f_N \\to (\\lambda - \\Delta_g)^{-1} f \\quad \\text{for all } \\lambda > 0\n1982: $$\n1983: \n1984: This is the precise meaning of weak operator convergence.\n1985: \n1986: **Step 5: Spectral Convergence**\n1987: \n1988: As a corollary, the eigenvalues converge:\n1989: \n1990: $$\n1991: \\lambda_k^{(N)} \\to \\lambda_k^{(\\infty)} \\quad \\text{for each } k\n1992: $$\n1993: \n1994: and the eigenfunctions converge in an appropriate sense.",
      "metadata": {},
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "lem-gromov-hausdorff",
        "thm-n-uniform-lsi"
      ],
      "raw_directive": "1881: :::\n1882: \n1883: :::{prf:proof} \u0393-Convergence of Dirichlet Forms\n1884: \n1885: The proof uses the theory of \u0393-convergence for quadratic forms to show that the discrete graph Laplacian converges to the continuum Laplace-Beltrami operator.\n1886: \n1887: **Step 1: Dirichlet Energy Formulations**\n1888: \n1889: The **discrete Dirichlet energy** for a function $f_N: V_N \\to \\mathbb{R}$ is:\n1890: \n1891: $$\n1892: \\mathcal{E}_N(f_N) = \\frac{1}{2N} \\sum_{i,j=1}^N w_{ij} (f_N(x_i) - f_N(x_j))^2\n1893: $$\n1894: \n1895: where $w_{ij}$ are the companion-weighted graph edge weights.\n1896: \n1897: The **continuum Dirichlet energy** for a function $f \\in H^1(M)$ is:\n1898: \n1899: $$\n1900: \\mathcal{E}_\\infty(f) = \\frac{1}{2} \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu = \\frac{1}{2} \\int_M g^{ab} (\\partial_a f)(\\partial_b f) \\, \\sqrt{\\det g} \\, dx\n1901: $$\n1902: \n1903: where $d\\mu = \\sqrt{\\det g} \\, dx$ is the Riemannian volume measure.\n1904: \n1905: The Laplacians are the **generators** associated with these quadratic forms via the relation $\\mathcal{E}(f) = -\\langle f, \\Delta f \\rangle$.\n1906: \n1907: **Step 2: \u0393-Limsup Inequality (Recovering Discrete from Continuum)**\n1908: \n1909: For any smooth function $f \\in C^\\infty(M)$, we must show there exists a sequence $f_N: V_N \\to \\mathbb{R}$ such that $f_N \\to f$ and:\n1910: \n1911: $$\n1912: \\limsup_{N \\to \\infty} \\mathcal{E}_N(f_N) \\le \\mathcal{E}_\\infty(f)\n1913: $$\n1914: \n1915: **Construction**: Simply restrict $f$ to the walker positions: $f_N(x_i) = f(x_i)$ for $x_i \\in V_N$.\n1916: \n1917: For adjacent walkers $i, j$ with $w_{ij} > 0$, by Taylor expansion:\n1918: \n1919: $$\n1920: f(x_j) - f(x_i) = \\nabla f(x_i) \\cdot (x_j - x_i) + O(\\|x_j - x_i\\|^2)\n1921: $$\n1922: \n1923: The discrete energy term is:\n1924: \n1925: $$\n1926: w_{ij} (f_N(x_i) - f_N(x_j))^2 = w_{ij} [\\nabla f(x_i) \\cdot (x_j - x_i)]^2 + O(w_{ij} \\|x_j - x_i\\|^4)\n1927: $$\n1928: \n1929: Since $w_{ij}$ are companion weights decaying with distance, and the walkers densely sample the manifold, the sum over edges converges to the continuum integral:\n1930: \n1931: $$\n1932: \\lim_{N \\to \\infty} \\frac{1}{2N} \\sum_{i,j} w_{ij} (f_N(x_i) - f_N(x_j))^2 = \\frac{1}{2} \\int_M \\|\\nabla f\\|_g^2 \\, d\\mu\n1933: $$\n1934: \n1935: This is a **discrete approximation theorem**, proven rigorously using the Gromov-Hausdorff convergence ({prf:ref}`lem-gromov-hausdorff`) to control approximation error.\n1936: \n1937: **Step 3: \u0393-Liminf Inequality (Recovering Continuum from Discrete)**\n1938: \n1939: For any sequence $f_N \\to f$, we must show:\n1940: \n1941: $$\n1942: \\liminf_{N \\to \\infty} \\mathcal{E}_N(f_N) \\ge \\mathcal{E}_\\infty(f)\n1943: $$\n1944: \n1945: This is the difficult direction, requiring **geometric control**.\n1946: \n1947: **Key Observation**: The N-uniform LSI ({prf:ref}`thm-n-uniform-lsi`) provides a **discrete Ricci curvature lower bound** via the Bakry-\u00c9mery criterion:\n1948: \n1949: $$\n1950: \\mathcal{E}_N(f_N) \\ge \\frac{\\kappa_{\\text{LSI}}}{2} \\text{Ent}_N(f_N^2)\n1951: $$\n1952: \n1953: where $\\text{Ent}_N$ is the discrete entropy. This LSI is **N-uniform**, meaning the constant $\\kappa_{\\text{LSI}}$ does not degrade as $N \\to \\infty$.\n1954: \n1955: In Riemannian geometry, a Ricci curvature lower bound $\\text{Ric} \\ge \\kappa g$ implies an LSI:\n1956: \n1957: $$\n1958: \\mathcal{E}_\\infty(f) \\ge \\frac{\\kappa}{2} \\text{Ent}_\\infty(f^2)\n1959: $$\n1960: \n1961: The uniform LSI constant acts as a **discrete analogue** of positive Ricci curvature, providing compactness for the sequence of metric measure spaces.\n1962: \n1963: **Cheeger-Colding Theory**: For metric measure spaces with uniform lower Ricci curvature bounds (via LSI) and uniform diameter bounds, Cheeger-Colding proved that any Gromov-Hausdorff limit has a well-defined Laplace operator, and Dirichlet energies converge.\n1964: \n1965: **Application**: Given:\n1966: 1. **Gromov-Hausdorff convergence** ({prf:ref}`lem-gromov-hausdorff`): $(V_N, d_{\\text{alg}}, \\mu_N) \\xrightarrow{GH} (M, g, \\mu)$\n1967: 2. **N-uniform LSI**: Uniform Ricci-like lower bound\n1968: 3. **Bounded diameter**: $\\text{diam}(\\mathcal{X}) < \\infty$\n1969: \n1970: The Cheeger-Colding framework guarantees:\n1971: \n1972: $$\n1973: \\liminf_{N \\to \\infty} \\mathcal{E}_N(f_N) \\ge \\mathcal{E}_\\infty(f)\n1974: $$\n1975: \n1976: **Step 4: Convergence of Generators**\n1977: \n1978: By a theorem of Kuwada (2010) and related results in analysis on metric measure spaces, if the Dirichlet forms \u0393-converge and the underlying spaces converge in measured Gromov-Hausdorff sense, then the associated generators (Laplacians) converge in the **strong resolvent sense**:\n1979: \n1980: $$\n1981: (\\lambda - \\Delta_0^{(N)})^{-1} f_N \\to (\\lambda - \\Delta_g)^{-1} f \\quad \\text{for all } \\lambda > 0\n1982: $$\n1983: \n1984: This is the precise meaning of weak operator convergence.\n1985: \n1986: **Step 5: Spectral Convergence**\n1987: \n1988: As a corollary, the eigenvalues converge:\n1989: \n1990: $$\n1991: \\lambda_k^{(N)} \\to \\lambda_k^{(\\infty)} \\quad \\text{for each } k\n1992: $$\n1993: \n1994: and the eigenfunctions converge in an appropriate sense.\n1995: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-gromov-hausdorff",
      "title": "Gromov-Hausdorff Convergence of Algorithmic Metric Spaces",
      "start_line": 1998,
      "end_line": 2025,
      "header_lines": [
        1999
      ],
      "content_start": 2001,
      "content_end": 2024,
      "content": "2001: :label: lem-gromov-hausdorff\n2002: \n2003: The sequence of finite metric spaces $(V_N, d_{\\text{alg}})$ defined by the companion-weighted graphs converges in the Gromov-Hausdorff sense to the continuum manifold $(M, g)$.\n2004: \n2005: **Precise statement**: Let $(V_N, d_{\\text{alg}})$ be the metric space of walker positions with the algorithmic distance:\n2006: \n2007: $$\n2008: d_{\\text{alg}}^2(i, j) = \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n2009: $$\n2010: \n2011: Let $(M, g)$ be the emergent Riemannian manifold with metric $g(x) = H(x) + \\epsilon_\\Sigma I$. Then:\n2012: \n2013: $$\n2014: d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\xrightarrow{N \\to \\infty} 0\n2015: $$\n2016: \n2017: where $d_{GH}$ is the Gromov-Hausdorff distance.\n2018: \n2019: **Difficulty**: MEDIUM-HIGH\n2020: \n2021: **Key techniques**:\n2022: 1. **Velocity marginalization**: Project $(x_i, v_i)$ to spatial component $x_i$ using hypocoercivity\n2023: 2. **Hausdorff approximation**: Show $V_N$ is $\\epsilon_N$-dense in $M$ with $\\epsilon_N \\to 0$\n2024: 3. **Lipschitz approximation**: Show distance function $d_{\\text{alg}}$ is close to geodesic distance $d_g$",
      "metadata": {
        "label": "lem-gromov-hausdorff"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "1998: :::\n1999: \n2000: :::{prf:lemma} Gromov-Hausdorff Convergence of Algorithmic Metric Spaces\n2001: :label: lem-gromov-hausdorff\n2002: \n2003: The sequence of finite metric spaces $(V_N, d_{\\text{alg}})$ defined by the companion-weighted graphs converges in the Gromov-Hausdorff sense to the continuum manifold $(M, g)$.\n2004: \n2005: **Precise statement**: Let $(V_N, d_{\\text{alg}})$ be the metric space of walker positions with the algorithmic distance:\n2006: \n2007: $$\n2008: d_{\\text{alg}}^2(i, j) = \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n2009: $$\n2010: \n2011: Let $(M, g)$ be the emergent Riemannian manifold with metric $g(x) = H(x) + \\epsilon_\\Sigma I$. Then:\n2012: \n2013: $$\n2014: d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\xrightarrow{N \\to \\infty} 0\n2015: $$\n2016: \n2017: where $d_{GH}$ is the Gromov-Hausdorff distance.\n2018: \n2019: **Difficulty**: MEDIUM-HIGH\n2020: \n2021: **Key techniques**:\n2022: 1. **Velocity marginalization**: Project $(x_i, v_i)$ to spatial component $x_i$ using hypocoercivity\n2023: 2. **Hausdorff approximation**: Show $V_N$ is $\\epsilon_N$-dense in $M$ with $\\epsilon_N \\to 0$\n2024: 3. **Lipschitz approximation**: Show distance function $d_{\\text{alg}}$ is close to geodesic distance $d_g$\n2025: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-1043",
      "title": "Gromov-Hausdorff Convergence via QSD Density",
      "start_line": 2027,
      "end_line": 2120,
      "header_lines": [],
      "content_start": 2029,
      "content_end": 2119,
      "content": "2029: :::{prf:proof} Gromov-Hausdorff Convergence via QSD Density\n2030: \n2031: The proof shows that the discrete walker positions, equipped with the algorithmic distance, converge to the continuum emergent manifold in the Gromov-Hausdorff sense.\n2032: \n2033: **Step 1: Denseness of Walker Positions in the Manifold**\n2034: \n2035: The QSD spatial marginal ({prf:ref}`thm-qsd-spatial-riemannian-volume`) is:\n2036: \n2037: $$\n2038: \\rho_{\\text{spatial}}(x) \\propto \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n2039: $$\n2040: \n2041: Since the confining potential $U$ ensures the domain $M = \\mathcal{X}_{\\text{valid}}$ is bounded and the fitness potential is regular, $\\rho_{\\text{spatial}}(x)$ has **full support** on $M$.\n2042: \n2043: For any $\\epsilon > 0$, there exists $N_0$ such that for $N > N_0$, the empirical measure $\\mu_N = \\frac{1}{N}\\sum_{i=1}^N \\delta_{x_i}$ converges weakly to $\\rho_{\\text{spatial}} dx$ ({prf:ref}`thm-propagation-of-chaos`).\n2044: \n2045: By the law of large numbers for IID samples from $\\rho_{\\text{spatial}}$, the set $V_N = \\{x_1, \\ldots, x_N\\}$ is an **$\\epsilon$-net** for $M$ with high probability: for any $y \\in M$, there exists $x_i \\in V_N$ with $d_g(x_i, y) < \\epsilon$.\n2046: \n2047: **Step 2: Construction of the Correspondence**\n2048: \n2049: To prove $d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\to 0$, we construct a correspondence $C \\subset V_N \\times M$ that is an $\\epsilon_N$-isometry for $\\epsilon_N \\to 0$.\n2050: \n2051: Define:\n2052: \n2053: $$\n2054: C = \\{(x_i, y) \\in V_N \\times M \\mid d_g(x_i, y) < \\epsilon_N\\}\n2055: $$\n2056: \n2057: where $\\epsilon_N = O(N^{-1/d})$ is the typical spacing between walkers in a $d$-dimensional space with $N$ points.\n2058: \n2059: By Step 1, this correspondence **covers both sets**: every $x_i \\in V_N$ has $y = x_i \\in M$ with $(x_i, y) \\in C$ (distance zero), and every $y \\in M$ has some $x_i \\in V_N$ with $d_g(x_i, y) < \\epsilon_N$.\n2060: \n2061: **Step 3: Distance Distortion Bound**\n2062: \n2063: We need to show that distances are approximately preserved. Let $(x_i, y_i) \\in C$ and $(x_j, y_j) \\in C$. We must show:\n2064: \n2065: $$\n2066: |d_{\\text{alg}}(x_i, x_j) - d_g(y_i, y_j)| \\lesssim \\epsilon_N\n2067: $$\n2068: \n2069: The algorithmic distance is:\n2070: \n2071: $$\n2072: d_{\\text{alg}}(x_i, x_j)^2 = \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n2073: $$\n2074: \n2075: **Velocity Marginalization**: By {prf:ref}`lem-velocity-marginalization`, in the annealed approximation (high friction $\\gamma \\gg 1$), the velocity contribution can be integrated out, leaving the spatial distance as dominant:\n2076: \n2077: $$\n2078: \\mathbb{E}_{v_i, v_j}[d_{\\text{alg}}(x_i, x_j)^2] \\approx \\|x_i - x_j\\|^2 + O(\\lambda_{\\text{alg}}/\\gamma)\n2079: $$\n2080: \n2081: For typical algorithm parameters with $\\lambda_{\\text{alg}} \\ll 1$ or $\\gamma \\gg 1$, the velocity term is negligible.\n2082: \n2083: **Euclidean vs. Geodesic Distance**: For a Riemannian manifold, the Euclidean distance $\\|x_i - x_j\\|$ (in local coordinates) approximates the geodesic distance $d_g(x_i, x_j)$ to first order:\n2084: \n2085: $$\n2086: \\|x_i - x_j\\|^2 = d_g(x_i, x_j)^2 + O(R \\cdot d_g(x_i, x_j)^4)\n2087: $$\n2088: \n2089: where $R$ is the maximum sectional curvature. For small distances (dense sampling), the quadratic error is negligible.\n2090: \n2091: **Triangle Inequality**: By the definition of $C$, we have $d_g(x_i, y_i) < \\epsilon_N$ and $d_g(x_j, y_j) < \\epsilon_N$. By the triangle inequality:\n2092: \n2093: $$\n2094: d_g(y_i, y_j) \\le d_g(y_i, x_i) + d_g(x_i, x_j) + d_g(x_j, y_j) < 2\\epsilon_N + d_g(x_i, x_j)\n2095: $$\n2096: \n2097: Similarly, $d_g(x_i, x_j) < 2\\epsilon_N + d_g(y_i, y_j)$.\n2098: \n2099: Therefore:\n2100: \n2101: $$\n2102: |d_g(x_i, x_j) - d_g(y_i, y_j)| < 2\\epsilon_N\n2103: $$\n2104: \n2105: Combining with the approximation $d_{\\text{alg}}(x_i, x_j) \\approx d_g(x_i, x_j) + O(\\epsilon_N)$:\n2106: \n2107: $$\n2108: |d_{\\text{alg}}(x_i, x_j) - d_g(y_i, y_j)| < 3\\epsilon_N\n2109: $$\n2110: \n2111: **Step 4: Gromov-Hausdorff Distance Bound**\n2112: \n2113: By the definition of Gromov-Hausdorff distance, the existence of a correspondence $C$ with distortion $3\\epsilon_N$ implies:\n2114: \n2115: $$\n2116: d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\le 3\\epsilon_N = O(N^{-1/d})\n2117: $$\n2118: \n2119: As $N \\to \\infty$, $\\epsilon_N \\to 0$, so $d_{GH} \\to 0$.",
      "metadata": {},
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "thm-qsd-spatial-riemannian-volume",
        "thm-propagation-of-chaos",
        "lem-velocity-marginalization"
      ],
      "raw_directive": "2027: :::\n2028: \n2029: :::{prf:proof} Gromov-Hausdorff Convergence via QSD Density\n2030: \n2031: The proof shows that the discrete walker positions, equipped with the algorithmic distance, converge to the continuum emergent manifold in the Gromov-Hausdorff sense.\n2032: \n2033: **Step 1: Denseness of Walker Positions in the Manifold**\n2034: \n2035: The QSD spatial marginal ({prf:ref}`thm-qsd-spatial-riemannian-volume`) is:\n2036: \n2037: $$\n2038: \\rho_{\\text{spatial}}(x) \\propto \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n2039: $$\n2040: \n2041: Since the confining potential $U$ ensures the domain $M = \\mathcal{X}_{\\text{valid}}$ is bounded and the fitness potential is regular, $\\rho_{\\text{spatial}}(x)$ has **full support** on $M$.\n2042: \n2043: For any $\\epsilon > 0$, there exists $N_0$ such that for $N > N_0$, the empirical measure $\\mu_N = \\frac{1}{N}\\sum_{i=1}^N \\delta_{x_i}$ converges weakly to $\\rho_{\\text{spatial}} dx$ ({prf:ref}`thm-propagation-of-chaos`).\n2044: \n2045: By the law of large numbers for IID samples from $\\rho_{\\text{spatial}}$, the set $V_N = \\{x_1, \\ldots, x_N\\}$ is an **$\\epsilon$-net** for $M$ with high probability: for any $y \\in M$, there exists $x_i \\in V_N$ with $d_g(x_i, y) < \\epsilon$.\n2046: \n2047: **Step 2: Construction of the Correspondence**\n2048: \n2049: To prove $d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\to 0$, we construct a correspondence $C \\subset V_N \\times M$ that is an $\\epsilon_N$-isometry for $\\epsilon_N \\to 0$.\n2050: \n2051: Define:\n2052: \n2053: $$\n2054: C = \\{(x_i, y) \\in V_N \\times M \\mid d_g(x_i, y) < \\epsilon_N\\}\n2055: $$\n2056: \n2057: where $\\epsilon_N = O(N^{-1/d})$ is the typical spacing between walkers in a $d$-dimensional space with $N$ points.\n2058: \n2059: By Step 1, this correspondence **covers both sets**: every $x_i \\in V_N$ has $y = x_i \\in M$ with $(x_i, y) \\in C$ (distance zero), and every $y \\in M$ has some $x_i \\in V_N$ with $d_g(x_i, y) < \\epsilon_N$.\n2060: \n2061: **Step 3: Distance Distortion Bound**\n2062: \n2063: We need to show that distances are approximately preserved. Let $(x_i, y_i) \\in C$ and $(x_j, y_j) \\in C$. We must show:\n2064: \n2065: $$\n2066: |d_{\\text{alg}}(x_i, x_j) - d_g(y_i, y_j)| \\lesssim \\epsilon_N\n2067: $$\n2068: \n2069: The algorithmic distance is:\n2070: \n2071: $$\n2072: d_{\\text{alg}}(x_i, x_j)^2 = \\|x_i - x_j\\|^2 + \\lambda_{\\text{alg}} \\|v_i - v_j\\|^2\n2073: $$\n2074: \n2075: **Velocity Marginalization**: By {prf:ref}`lem-velocity-marginalization`, in the annealed approximation (high friction $\\gamma \\gg 1$), the velocity contribution can be integrated out, leaving the spatial distance as dominant:\n2076: \n2077: $$\n2078: \\mathbb{E}_{v_i, v_j}[d_{\\text{alg}}(x_i, x_j)^2] \\approx \\|x_i - x_j\\|^2 + O(\\lambda_{\\text{alg}}/\\gamma)\n2079: $$\n2080: \n2081: For typical algorithm parameters with $\\lambda_{\\text{alg}} \\ll 1$ or $\\gamma \\gg 1$, the velocity term is negligible.\n2082: \n2083: **Euclidean vs. Geodesic Distance**: For a Riemannian manifold, the Euclidean distance $\\|x_i - x_j\\|$ (in local coordinates) approximates the geodesic distance $d_g(x_i, x_j)$ to first order:\n2084: \n2085: $$\n2086: \\|x_i - x_j\\|^2 = d_g(x_i, x_j)^2 + O(R \\cdot d_g(x_i, x_j)^4)\n2087: $$\n2088: \n2089: where $R$ is the maximum sectional curvature. For small distances (dense sampling), the quadratic error is negligible.\n2090: \n2091: **Triangle Inequality**: By the definition of $C$, we have $d_g(x_i, y_i) < \\epsilon_N$ and $d_g(x_j, y_j) < \\epsilon_N$. By the triangle inequality:\n2092: \n2093: $$\n2094: d_g(y_i, y_j) \\le d_g(y_i, x_i) + d_g(x_i, x_j) + d_g(x_j, y_j) < 2\\epsilon_N + d_g(x_i, x_j)\n2095: $$\n2096: \n2097: Similarly, $d_g(x_i, x_j) < 2\\epsilon_N + d_g(y_i, y_j)$.\n2098: \n2099: Therefore:\n2100: \n2101: $$\n2102: |d_g(x_i, x_j) - d_g(y_i, y_j)| < 2\\epsilon_N\n2103: $$\n2104: \n2105: Combining with the approximation $d_{\\text{alg}}(x_i, x_j) \\approx d_g(x_i, x_j) + O(\\epsilon_N)$:\n2106: \n2107: $$\n2108: |d_{\\text{alg}}(x_i, x_j) - d_g(y_i, y_j)| < 3\\epsilon_N\n2109: $$\n2110: \n2111: **Step 4: Gromov-Hausdorff Distance Bound**\n2112: \n2113: By the definition of Gromov-Hausdorff distance, the existence of a correspondence $C$ with distortion $3\\epsilon_N$ implies:\n2114: \n2115: $$\n2116: d_{GH}((V_N, d_{\\text{alg}}), (M, g)) \\le 3\\epsilon_N = O(N^{-1/d})\n2117: $$\n2118: \n2119: As $N \\to \\infty$, $\\epsilon_N \\to 0$, so $d_{GH} \\to 0$.\n2120: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-heat-kernel-identification",
      "title": "Heat Kernel Identification via Langevin Construction",
      "start_line": 2123,
      "end_line": 2148,
      "header_lines": [
        2124
      ],
      "content_start": 2126,
      "content_end": 2147,
      "content": "2126: :label: lem-heat-kernel-identification\n2127: \n2128: The Langevin dynamics of the Euclidean Gas **constructs** the heat kernel by design, and the emergent metric tensor from the fitness Hessian determines the Ricci scalar.\n2129: \n2130: **Precise statement**: Let $K_t^{\\text{Langevin}}(x, y)$ be the transition kernel of the BAOAB Langevin integrator with force $F = \\nabla R_{\\text{pos}}$ and friction $\\gamma$. Then almost surely as $N \\to \\infty$:\n2131: \n2132: $$\n2133: K_t^{\\text{Langevin}}(x, x) = \\frac{1}{(4\\pi t)^{d/2} \\sqrt{\\det g(x)}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n2134: $$\n2135: \n2136: where $g(x) = H(x) + \\epsilon_\\Sigma I$ is the emergent metric tensor from the fitness Hessian $H(x) = \\nabla^2 V_{\\text{fit}}(x)$ and $R(x) = \\text{tr}(g^{-1} \\text{Ric})$ is the Ricci scalar.\n2137: \n2138: **Connects**: Heat Kernel \u2192 Metric Tensor (direct, by algorithmic construction)\n2139: \n2140: **Difficulty**: MEDIUM (leverages existing framework infrastructure)\n2141: \n2142: **Key insight**: **The Fragile Gas algorithm constructs the heat kernel, not the other way around!** The Langevin dynamics with fitness-derived force field naturally generates the Fokker-Planck diffusion whose solution is the heat kernel on the emergent manifold.\n2143: \n2144: **Key techniques**:\n2145: 1. **Fokker-Planck equation**: The Langevin dynamics generates $\\frac{\\partial \\rho}{\\partial t} = \\nabla \\cdot (D \\nabla \\rho + \\rho \\nabla V)$ where $D$ is the diffusion tensor\n2146: 2. **Emergent metric identification**: $D^{-1} = g = H + \\epsilon_\\Sigma I$ (Chapter 8)\n2147: 3. **Hypoelliptic regularity**: Use hypocoercivity theory from [11_mean_field_convergence/](11_mean_field_convergence/) to show $\\rho_\\infty$ is smooth",
      "metadata": {
        "label": "lem-heat-kernel-identification"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "2123: :::\n2124: \n2125: :::{prf:lemma} Heat Kernel Identification via Langevin Construction\n2126: :label: lem-heat-kernel-identification\n2127: \n2128: The Langevin dynamics of the Euclidean Gas **constructs** the heat kernel by design, and the emergent metric tensor from the fitness Hessian determines the Ricci scalar.\n2129: \n2130: **Precise statement**: Let $K_t^{\\text{Langevin}}(x, y)$ be the transition kernel of the BAOAB Langevin integrator with force $F = \\nabla R_{\\text{pos}}$ and friction $\\gamma$. Then almost surely as $N \\to \\infty$:\n2131: \n2132: $$\n2133: K_t^{\\text{Langevin}}(x, x) = \\frac{1}{(4\\pi t)^{d/2} \\sqrt{\\det g(x)}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n2134: $$\n2135: \n2136: where $g(x) = H(x) + \\epsilon_\\Sigma I$ is the emergent metric tensor from the fitness Hessian $H(x) = \\nabla^2 V_{\\text{fit}}(x)$ and $R(x) = \\text{tr}(g^{-1} \\text{Ric})$ is the Ricci scalar.\n2137: \n2138: **Connects**: Heat Kernel \u2192 Metric Tensor (direct, by algorithmic construction)\n2139: \n2140: **Difficulty**: MEDIUM (leverages existing framework infrastructure)\n2141: \n2142: **Key insight**: **The Fragile Gas algorithm constructs the heat kernel, not the other way around!** The Langevin dynamics with fitness-derived force field naturally generates the Fokker-Planck diffusion whose solution is the heat kernel on the emergent manifold.\n2143: \n2144: **Key techniques**:\n2145: 1. **Fokker-Planck equation**: The Langevin dynamics generates $\\frac{\\partial \\rho}{\\partial t} = \\nabla \\cdot (D \\nabla \\rho + \\rho \\nabla V)$ where $D$ is the diffusion tensor\n2146: 2. **Emergent metric identification**: $D^{-1} = g = H + \\epsilon_\\Sigma I$ (Chapter 8)\n2147: 3. **Hypoelliptic regularity**: Use hypocoercivity theory from [11_mean_field_convergence/](11_mean_field_convergence/) to show $\\rho_\\infty$ is smooth\n2148: "
    },
    {
      "directive_type": "proof",
      "label": "unlabeled-proof-1166",
      "title": "Heat Kernel Construction via Langevin Dynamics",
      "start_line": 2150,
      "end_line": 2250,
      "header_lines": [],
      "content_start": 2152,
      "content_end": 2249,
      "content": "2152: :::{prf:proof} Heat Kernel Construction via Langevin Dynamics\n2153: \n2154: The proof establishes that the algorithm's Langevin dynamics naturally constructs the heat kernel of the emergent manifold.\n2155: \n2156: **Step 1: Fokker-Planck Equation from Langevin SDE**\n2157: \n2158: The Langevin SDE for a single walker ({prf:ref}`def-adaptive-gas-stratonovich-sde`) is:\n2159: \n2160: $$\n2161: dv_i = F_{\\text{total}}(x_i) \\, dt - \\gamma v_i \\, dt + \\Sigma_{\\text{reg}}(x_i) \\circ dW_i\n2162: $$\n2163: \n2164: where $F_{\\text{total}}$ includes the fitness gradient and adaptive forces, and $\\Sigma_{\\text{reg}}(x) = g(x)^{-1/2}$ is the anisotropic diffusion tensor.\n2165: \n2166: The corresponding Fokker-Planck equation for the probability density $\\rho(x, v, t)$ in phase space is:\n2167: \n2168: $$\n2169: \\frac{\\partial \\rho}{\\partial t} = -v \\cdot \\nabla_x \\rho - \\nabla_v \\cdot \\left( (F_{\\text{total}} - \\gamma v) \\rho \\right) + \\frac{1}{2} \\nabla_v \\cdot \\left( \\Sigma_{\\text{reg}} \\Sigma_{\\text{reg}}^T \\nabla_v \\rho \\right)\n2170: $$\n2171: \n2172: This is a **hypoelliptic operator** combining transport and diffusion.\n2173: \n2174: **Step 2: Kramers-Smoluchowski Overdamped Limit**\n2175: \n2176: By {prf:ref}`thm-stratonovich-kramers-smoluchowski`, in the high-friction limit $\\gamma \\gg 1$, the velocity degrees of freedom equilibrate rapidly, and the spatial density $\\rho_s(x, t) = \\int \\rho(x, v, t) \\, dv$ satisfies the **spatial Fokker-Planck equation**:\n2177: \n2178: $$\n2179: \\frac{\\partial \\rho_s}{\\partial t} = \\nabla_x \\cdot \\left[ D(x) \\left( \\nabla_x \\rho_s + \\rho_s \\frac{\\nabla_x U_{\\text{eff}}}{T} \\right) \\right]\n2180: $$\n2181: \n2182: where the **diffusion tensor** is:\n2183: \n2184: $$\n2185: D(x) = \\frac{T}{\\gamma} \\Sigma_{\\text{reg}}(x) \\Sigma_{\\text{reg}}^T(x) = \\frac{T}{\\gamma} g(x)^{-1}\n2186: $$\n2187: \n2188: **Step 3: Connection to Laplace-Beltrami Operator**\n2189: \n2190: The stationary solution to this equation is the QSD spatial marginal ({prf:ref}`thm-qsd-riemannian-volume-main`):\n2191: \n2192: $$\n2193: \\rho_s^*(x) \\propto \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n2194: $$\n2195: \n2196: The generator of the spatial diffusion process (without the drift term) is:\n2197: \n2198: $$\n2199: \\mathcal{L} = \\nabla_x \\cdot (D(x) \\nabla_x \\cdot) = \\frac{T}{\\gamma} \\nabla_x \\cdot (g^{-1} \\nabla_x \\cdot)\n2200: $$\n2201: \n2202: In Riemannian geometry, the **Laplace-Beltrami operator** on a manifold $(M, g)$ is:\n2203: \n2204: $$\n2205: \\Delta_g f = \\frac{1}{\\sqrt{\\det g}} \\nabla_a \\left( \\sqrt{\\det g} \\, g^{ab} \\nabla_b f \\right)\n2206: $$\n2207: \n2208: Expanding:\n2209: \n2210: $$\n2211: \\Delta_g f = g^{ab} \\nabla_a \\nabla_b f + \\frac{1}{\\sqrt{\\det g}} (\\nabla_a \\sqrt{\\det g}) g^{ab} \\nabla_b f\n2212: $$\n2213: \n2214: The generator $\\mathcal{L}$ is proportional to $\\Delta_g$ up to lower-order drift terms. The fundamental solution to the pure heat equation $\\frac{\\partial \\rho_s}{\\partial t} = \\frac{T}{\\gamma} \\Delta_g \\rho_s$ is the **heat kernel** $K_t(x, y)$.\n2215: \n2216: **Step 4: Heat Kernel Asymptotics and Ricci Scalar**\n2217: \n2218: By the Minakshisundaram-Pleijel theorem ({prf:ref}`thm-heat-kernel-asymptotics` in the reference), the heat kernel on a Riemannian manifold $(M, g)$ has the small-time diagonal expansion:\n2219: \n2220: $$\n2221: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2} \\sqrt{\\det g(x)}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n2222: $$\n2223: \n2224: where $R(x)$ is the **Ricci scalar curvature** of the metric $g(x)$.\n2225: \n2226: **Step 5: Emergent Metric from Fitness Hessian**\n2227: \n2228: From {prf:ref}`def-emergent-metric-curvature`, the emergent metric is:\n2229: \n2230: $$\n2231: g(x) = H(x) + \\epsilon_\\Sigma I\n2232: $$\n2233: \n2234: where $H(x) = \\nabla^2 V_{\\text{fit}}(x)$ is the fitness Hessian. The Ricci scalar $R(x)$ is computed from $g(x)$ using the standard formula:\n2235: \n2236: $$\n2237: R(x) = g^{ab}(x) R_{ab}(x)\n2238: $$\n2239: \n2240: where $R_{ab}$ is the Ricci tensor derived from the Christoffel symbols $\\Gamma^c_{ab}$ of $g$.\n2241: \n2242: **Step 6: Synthesis - Algorithm Constructs the Heat Kernel**\n2243: \n2244: Combining steps 1-5:\n2245: \n2246: 1. The algorithm's Langevin dynamics generates a Fokker-Planck diffusion with diffusion tensor $D(x) = \\frac{T}{\\gamma} g(x)^{-1}$\n2247: 2. This diffusion is governed by the Laplace-Beltrami operator $\\Delta_g$ of the emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$\n2248: 3. The fundamental solution (heat kernel) has asymptotics encoding the Ricci scalar $R(x)$ of this metric\n2249: 4. The Ricci scalar appearing in the heat kernel expansion is **identical** to the Ricci scalar computed geometrically from the fitness Hessian",
      "metadata": {},
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-adaptive-gas-stratonovich-sde",
        "thm-stratonovich-kramers-smoluchowski",
        "thm-qsd-riemannian-volume-main",
        "thm-heat-kernel-asymptotics",
        "def-emergent-metric-curvature"
      ],
      "raw_directive": "2150: :::\n2151: \n2152: :::{prf:proof} Heat Kernel Construction via Langevin Dynamics\n2153: \n2154: The proof establishes that the algorithm's Langevin dynamics naturally constructs the heat kernel of the emergent manifold.\n2155: \n2156: **Step 1: Fokker-Planck Equation from Langevin SDE**\n2157: \n2158: The Langevin SDE for a single walker ({prf:ref}`def-adaptive-gas-stratonovich-sde`) is:\n2159: \n2160: $$\n2161: dv_i = F_{\\text{total}}(x_i) \\, dt - \\gamma v_i \\, dt + \\Sigma_{\\text{reg}}(x_i) \\circ dW_i\n2162: $$\n2163: \n2164: where $F_{\\text{total}}$ includes the fitness gradient and adaptive forces, and $\\Sigma_{\\text{reg}}(x) = g(x)^{-1/2}$ is the anisotropic diffusion tensor.\n2165: \n2166: The corresponding Fokker-Planck equation for the probability density $\\rho(x, v, t)$ in phase space is:\n2167: \n2168: $$\n2169: \\frac{\\partial \\rho}{\\partial t} = -v \\cdot \\nabla_x \\rho - \\nabla_v \\cdot \\left( (F_{\\text{total}} - \\gamma v) \\rho \\right) + \\frac{1}{2} \\nabla_v \\cdot \\left( \\Sigma_{\\text{reg}} \\Sigma_{\\text{reg}}^T \\nabla_v \\rho \\right)\n2170: $$\n2171: \n2172: This is a **hypoelliptic operator** combining transport and diffusion.\n2173: \n2174: **Step 2: Kramers-Smoluchowski Overdamped Limit**\n2175: \n2176: By {prf:ref}`thm-stratonovich-kramers-smoluchowski`, in the high-friction limit $\\gamma \\gg 1$, the velocity degrees of freedom equilibrate rapidly, and the spatial density $\\rho_s(x, t) = \\int \\rho(x, v, t) \\, dv$ satisfies the **spatial Fokker-Planck equation**:\n2177: \n2178: $$\n2179: \\frac{\\partial \\rho_s}{\\partial t} = \\nabla_x \\cdot \\left[ D(x) \\left( \\nabla_x \\rho_s + \\rho_s \\frac{\\nabla_x U_{\\text{eff}}}{T} \\right) \\right]\n2180: $$\n2181: \n2182: where the **diffusion tensor** is:\n2183: \n2184: $$\n2185: D(x) = \\frac{T}{\\gamma} \\Sigma_{\\text{reg}}(x) \\Sigma_{\\text{reg}}^T(x) = \\frac{T}{\\gamma} g(x)^{-1}\n2186: $$\n2187: \n2188: **Step 3: Connection to Laplace-Beltrami Operator**\n2189: \n2190: The stationary solution to this equation is the QSD spatial marginal ({prf:ref}`thm-qsd-riemannian-volume-main`):\n2191: \n2192: $$\n2193: \\rho_s^*(x) \\propto \\sqrt{\\det g(x)} \\, e^{-U_{\\text{eff}}(x)/T}\n2194: $$\n2195: \n2196: The generator of the spatial diffusion process (without the drift term) is:\n2197: \n2198: $$\n2199: \\mathcal{L} = \\nabla_x \\cdot (D(x) \\nabla_x \\cdot) = \\frac{T}{\\gamma} \\nabla_x \\cdot (g^{-1} \\nabla_x \\cdot)\n2200: $$\n2201: \n2202: In Riemannian geometry, the **Laplace-Beltrami operator** on a manifold $(M, g)$ is:\n2203: \n2204: $$\n2205: \\Delta_g f = \\frac{1}{\\sqrt{\\det g}} \\nabla_a \\left( \\sqrt{\\det g} \\, g^{ab} \\nabla_b f \\right)\n2206: $$\n2207: \n2208: Expanding:\n2209: \n2210: $$\n2211: \\Delta_g f = g^{ab} \\nabla_a \\nabla_b f + \\frac{1}{\\sqrt{\\det g}} (\\nabla_a \\sqrt{\\det g}) g^{ab} \\nabla_b f\n2212: $$\n2213: \n2214: The generator $\\mathcal{L}$ is proportional to $\\Delta_g$ up to lower-order drift terms. The fundamental solution to the pure heat equation $\\frac{\\partial \\rho_s}{\\partial t} = \\frac{T}{\\gamma} \\Delta_g \\rho_s$ is the **heat kernel** $K_t(x, y)$.\n2215: \n2216: **Step 4: Heat Kernel Asymptotics and Ricci Scalar**\n2217: \n2218: By the Minakshisundaram-Pleijel theorem ({prf:ref}`thm-heat-kernel-asymptotics` in the reference), the heat kernel on a Riemannian manifold $(M, g)$ has the small-time diagonal expansion:\n2219: \n2220: $$\n2221: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2} \\sqrt{\\det g(x)}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right)\n2222: $$\n2223: \n2224: where $R(x)$ is the **Ricci scalar curvature** of the metric $g(x)$.\n2225: \n2226: **Step 5: Emergent Metric from Fitness Hessian**\n2227: \n2228: From {prf:ref}`def-emergent-metric-curvature`, the emergent metric is:\n2229: \n2230: $$\n2231: g(x) = H(x) + \\epsilon_\\Sigma I\n2232: $$\n2233: \n2234: where $H(x) = \\nabla^2 V_{\\text{fit}}(x)$ is the fitness Hessian. The Ricci scalar $R(x)$ is computed from $g(x)$ using the standard formula:\n2235: \n2236: $$\n2237: R(x) = g^{ab}(x) R_{ab}(x)\n2238: $$\n2239: \n2240: where $R_{ab}$ is the Ricci tensor derived from the Christoffel symbols $\\Gamma^c_{ab}$ of $g$.\n2241: \n2242: **Step 6: Synthesis - Algorithm Constructs the Heat Kernel**\n2243: \n2244: Combining steps 1-5:\n2245: \n2246: 1. The algorithm's Langevin dynamics generates a Fokker-Planck diffusion with diffusion tensor $D(x) = \\frac{T}{\\gamma} g(x)^{-1}$\n2247: 2. This diffusion is governed by the Laplace-Beltrami operator $\\Delta_g$ of the emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$\n2248: 3. The fundamental solution (heat kernel) has asymptotics encoding the Ricci scalar $R(x)$ of this metric\n2249: 4. The Ricci scalar appearing in the heat kernel expansion is **identical** to the Ricci scalar computed geometrically from the fitness Hessian\n2250: "
    },
    {
      "directive_type": "remark",
      "label": "rem-baoab-accuracy",
      "title": "BAOAB Integrator Accuracy",
      "start_line": 2252,
      "end_line": 2258,
      "header_lines": [
        2253
      ],
      "content_start": 2255,
      "content_end": 2257,
      "content": "2255: :label: rem-baoab-accuracy\n2256: \n2257: The BAOAB integrator ({prf:ref}`def-baoab-integrator`) is a geometric integrator that preserves the invariant measure of the Langevin SDE to high order. The convergence of discrete BAOAB dynamics to the continuous Langevin flow is standard in numerical analysis (see Leimkuhler & Matthews, 2015). For small time steps $\\Delta t$, the error is $O(\\Delta t^3)$ for positions and $O(\\Delta t^2)$ for the invariant measure.",
      "metadata": {
        "label": "rem-baoab-accuracy"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-baoab-integrator"
      ],
      "raw_directive": "2252: :::\n2253: \n2254: :::{prf:remark} BAOAB Integrator Accuracy\n2255: :label: rem-baoab-accuracy\n2256: \n2257: The BAOAB integrator ({prf:ref}`def-baoab-integrator`) is a geometric integrator that preserves the invariant measure of the Langevin SDE to high order. The convergence of discrete BAOAB dynamics to the continuous Langevin flow is standard in numerical analysis (see Leimkuhler & Matthews, 2015). For small time steps $\\Delta t$, the error is $O(\\Delta t^3)$ for positions and $O(\\Delta t^2)$ for the invariant measure.\n2258: "
    },
    {
      "directive_type": "lemma",
      "label": "lem-ollivier-ricci-convergence",
      "title": "Ollivier-Ricci Curvature Convergence to Ricci Scalar",
      "start_line": 2260,
      "end_line": 2303,
      "header_lines": [
        2261
      ],
      "content_start": 2263,
      "content_end": 2302,
      "content": "2263: :label: lem-ollivier-ricci-convergence\n2264: \n2265: The discrete Ollivier-Ricci curvature on the companion-weighted graph converges weakly to the continuous Ricci scalar field.\n2266: \n2267: **Precise statement**: Let $\\kappa_{\\text{Oll}}(i, j)$ be the Ollivier-Ricci curvature of edge $(i,j)$ in the companion-weighted graph:\n2268: \n2269: $$\n2270: \\kappa_{\\text{Oll}}(i, j) := 1 - \\frac{W_1(\\mu_i, \\mu_j)}{d_{\\text{alg}}(i, j)}\n2271: $$\n2272: \n2273: where $W_1$ is the Wasserstein-1 distance and $\\mu_i, \\mu_j$ are the companion selection distributions from vertices $i, j$.\n2274: \n2275: Define the discrete scalar curvature at vertex $i$ as:\n2276: \n2277: $$\n2278: R_N(x_i) := \\frac{1}{d_i} \\sum_{j: w_{ij} > 0} w_{ij} \\, \\kappa_{\\text{Oll}}(i, j)\n2279: $$\n2280: \n2281: Then for any smooth, compactly supported test function $f \\in C_c^\\infty(M)$ and Voronoi cell volume $\\text{vol}(V_i)$:\n2282: \n2283: $$\n2284: \\lim_{N \\to \\infty} \\sum_{i=1}^N R_N(x_i) f(x_i) \\cdot \\text{vol}(V_i) = \\int_M R(x) f(x) \\, dV_g\n2285: $$\n2286: \n2287: **Connects**: Discrete Curvature \u2192 Metric Tensor (via optimal transport)\n2288: \n2289: **Difficulty**: HIGH\n2290: \n2291: **Key techniques**:\n2292: 1. **Optimal transport theory**: Ollivier-Ricci curvature is defined via Wasserstein distance\n2293: 2. **Spectral convergence**: Ollivier-Ricci lower bounds imply spectral gap bounds (Bauer-Jost-Liu 2015)\n2294: 3. **Geometric measure theory**: Voronoi volumes converge to continuum volume measure\n2295: \n2296: **Strategy**:\n2297: 1. The companion kernel $w_{ij}$ defines the edge weights and thus the transition probabilities $\\mu_i$\n2298: 2. Ollivier showed $\\kappa_{\\text{Oll}} \\geq \\kappa$ implies $\\lambda_1 \\geq C(d) \\kappa$ (coarse Ricci curvature)\n2299: 3. Use Lemma {prf:ref}`lem-laplacian-convergence` to show $\\kappa_{\\text{Oll}}(i,j) \\to \\text{Ric}(e_{ij})$ where $e_{ij}$ is the direction from $x_i$ to $x_j$\n2300: 4. The weighted sum $R_N(x_i)$ approximates the trace $\\text{tr}(\\text{Ric}) = R(x)$\n2301: \n2302: **Status**: \ud83d\udd34 Open (requires new proof, but well-defined framework exists)",
      "metadata": {
        "label": "lem-ollivier-ricci-convergence"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "lem-laplacian-convergence"
      ],
      "raw_directive": "2260: :::\n2261: \n2262: :::{prf:lemma} Ollivier-Ricci Curvature Convergence to Ricci Scalar\n2263: :label: lem-ollivier-ricci-convergence\n2264: \n2265: The discrete Ollivier-Ricci curvature on the companion-weighted graph converges weakly to the continuous Ricci scalar field.\n2266: \n2267: **Precise statement**: Let $\\kappa_{\\text{Oll}}(i, j)$ be the Ollivier-Ricci curvature of edge $(i,j)$ in the companion-weighted graph:\n2268: \n2269: $$\n2270: \\kappa_{\\text{Oll}}(i, j) := 1 - \\frac{W_1(\\mu_i, \\mu_j)}{d_{\\text{alg}}(i, j)}\n2271: $$\n2272: \n2273: where $W_1$ is the Wasserstein-1 distance and $\\mu_i, \\mu_j$ are the companion selection distributions from vertices $i, j$.\n2274: \n2275: Define the discrete scalar curvature at vertex $i$ as:\n2276: \n2277: $$\n2278: R_N(x_i) := \\frac{1}{d_i} \\sum_{j: w_{ij} > 0} w_{ij} \\, \\kappa_{\\text{Oll}}(i, j)\n2279: $$\n2280: \n2281: Then for any smooth, compactly supported test function $f \\in C_c^\\infty(M)$ and Voronoi cell volume $\\text{vol}(V_i)$:\n2282: \n2283: $$\n2284: \\lim_{N \\to \\infty} \\sum_{i=1}^N R_N(x_i) f(x_i) \\cdot \\text{vol}(V_i) = \\int_M R(x) f(x) \\, dV_g\n2285: $$\n2286: \n2287: **Connects**: Discrete Curvature \u2192 Metric Tensor (via optimal transport)\n2288: \n2289: **Difficulty**: HIGH\n2290: \n2291: **Key techniques**:\n2292: 1. **Optimal transport theory**: Ollivier-Ricci curvature is defined via Wasserstein distance\n2293: 2. **Spectral convergence**: Ollivier-Ricci lower bounds imply spectral gap bounds (Bauer-Jost-Liu 2015)\n2294: 3. **Geometric measure theory**: Voronoi volumes converge to continuum volume measure\n2295: \n2296: **Strategy**:\n2297: 1. The companion kernel $w_{ij}$ defines the edge weights and thus the transition probabilities $\\mu_i$\n2298: 2. Ollivier showed $\\kappa_{\\text{Oll}} \\geq \\kappa$ implies $\\lambda_1 \\geq C(d) \\kappa$ (coarse Ricci curvature)\n2299: 3. Use Lemma {prf:ref}`lem-laplacian-convergence` to show $\\kappa_{\\text{Oll}}(i,j) \\to \\text{Ric}(e_{ij})$ where $e_{ij}$ is the direction from $x_i$ to $x_j$\n2300: 4. The weighted sum $R_N(x_i)$ approximates the trace $\\text{tr}(\\text{Ric}) = R(x)$\n2301: \n2302: **Status**: \ud83d\udd34 Open (requires new proof, but well-defined framework exists)\n2303: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-curvature-unification-via-lemmas",
      "title": "Curvature Unification via Three Lemmas",
      "start_line": 2305,
      "end_line": 2320,
      "header_lines": [
        2306
      ],
      "content_start": 2308,
      "content_end": 2319,
      "content": "2308: :label: thm-curvature-unification-via-lemmas\n2309: \n2310: If Lemmas {prf:ref}`lem-laplacian-convergence`, {prf:ref}`lem-heat-kernel-identification`, and {prf:ref}`lem-ollivier-ricci-convergence` hold, then all four curvature definitions converge to the same Ricci scalar field $R(x)$.\n2311: \n2312: **Proof**:\n2313: 1. **Metric Tensor \u2192 Ricci Scalar**: The emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$ from the fitness Hessian directly defines $R(x) = \\text{tr}(g^{-1} \\text{Ric})$ (Chapter 8, by construction)\n2314: \n2315: 2. **Langevin Heat Kernel \u2192 Ricci Scalar**: Lemma {prf:ref}`lem-heat-kernel-identification` shows the BAOAB Langevin dynamics constructs a heat kernel with small-time expansion $K_t(x,x) = (4\\pi t)^{-d/2}[1 + (t/6)R(x) + O(t^2)]$. This $R(x)$ is the same Ricci scalar from (1) by the Fokker-Planck-Laplace-Beltrami connection\n2316: \n2317: 3. **Graph Laplacian \u2192 Spectral Gap \u2192 Ricci Bound**: Lemma {prf:ref}`lem-laplacian-convergence` establishes $\\Delta_0^{(N)} \\to \\Delta_g$. The N-uniform LSI (proven in [10_kl_convergence.md](10_kl_convergence/10_kl_convergence.md)) serves as a discrete Ricci curvature lower bound. By Cheeger-Buser inequalities, this controls the spectral gap: $\\lambda_1 \\geq C(\\kappa, d) / \\text{diam}^2$ where $\\kappa$ is the Ricci lower bound. Convergence of operators implies $\\lambda_1^{(N)} \\to \\lambda_1^{(\\infty)}$, connecting the spectral gap to the Ricci scalar\n2318: \n2319: 4. **Ollivier-Ricci \u2192 Ricci Scalar**: Lemma {prf:ref}`lem-ollivier-ricci-convergence` shows the discrete Ollivier-Ricci curvature measure converges to the continuous Ricci scalar measure. The connection to Lemma 1 is via the fundamental theorem of Ollivier (2009): $\\kappa_{\\text{Oll}} \\geq \\kappa$ implies a spectral gap bound, establishing that the discrete and continuum Ricci notions align",
      "metadata": {
        "label": "thm-curvature-unification-via-lemmas"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "lem-laplacian-convergence",
        "lem-heat-kernel-identification",
        "lem-ollivier-ricci-convergence"
      ],
      "raw_directive": "2305: :::\n2306: \n2307: :::{prf:theorem} Curvature Unification via Three Lemmas\n2308: :label: thm-curvature-unification-via-lemmas\n2309: \n2310: If Lemmas {prf:ref}`lem-laplacian-convergence`, {prf:ref}`lem-heat-kernel-identification`, and {prf:ref}`lem-ollivier-ricci-convergence` hold, then all four curvature definitions converge to the same Ricci scalar field $R(x)$.\n2311: \n2312: **Proof**:\n2313: 1. **Metric Tensor \u2192 Ricci Scalar**: The emergent metric $g(x) = H(x) + \\epsilon_\\Sigma I$ from the fitness Hessian directly defines $R(x) = \\text{tr}(g^{-1} \\text{Ric})$ (Chapter 8, by construction)\n2314: \n2315: 2. **Langevin Heat Kernel \u2192 Ricci Scalar**: Lemma {prf:ref}`lem-heat-kernel-identification` shows the BAOAB Langevin dynamics constructs a heat kernel with small-time expansion $K_t(x,x) = (4\\pi t)^{-d/2}[1 + (t/6)R(x) + O(t^2)]$. This $R(x)$ is the same Ricci scalar from (1) by the Fokker-Planck-Laplace-Beltrami connection\n2316: \n2317: 3. **Graph Laplacian \u2192 Spectral Gap \u2192 Ricci Bound**: Lemma {prf:ref}`lem-laplacian-convergence` establishes $\\Delta_0^{(N)} \\to \\Delta_g$. The N-uniform LSI (proven in [10_kl_convergence.md](10_kl_convergence/10_kl_convergence.md)) serves as a discrete Ricci curvature lower bound. By Cheeger-Buser inequalities, this controls the spectral gap: $\\lambda_1 \\geq C(\\kappa, d) / \\text{diam}^2$ where $\\kappa$ is the Ricci lower bound. Convergence of operators implies $\\lambda_1^{(N)} \\to \\lambda_1^{(\\infty)}$, connecting the spectral gap to the Ricci scalar\n2318: \n2319: 4. **Ollivier-Ricci \u2192 Ricci Scalar**: Lemma {prf:ref}`lem-ollivier-ricci-convergence` shows the discrete Ollivier-Ricci curvature measure converges to the continuous Ricci scalar measure. The connection to Lemma 1 is via the fundamental theorem of Ollivier (2009): $\\kappa_{\\text{Oll}} \\geq \\kappa$ implies a spectral gap bound, establishing that the discrete and continuum Ricci notions align\n2320: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-curvature-unification",
      "title": "Curvature Unification: Equivalence of All Five Definitions",
      "start_line": 2365,
      "end_line": 2415,
      "header_lines": [
        2366
      ],
      "content_start": 2368,
      "content_end": 2414,
      "content": "2368: :label: thm-curvature-unification\n2369: \n2370: In the continuum limit $N \\to \\infty$, $\\ell_{\\text{cell}} \\to 0$, the five curvature measures converge to the same Ricci scalar field $R(x)$:\n2371: \n2372: $$\n2373: \\lim_{\\ell_{\\text{cell}} \\to 0} \\frac{\\delta_i}{\\text{Area}(\\partial V_i)} \\to R(x_i) \\quad \\text{(Deficit Angle)}\n2374: $$\n2375: \n2376: $$\n2377: \\text{Ric} \\ge \\kappa \\implies \\lim_{N \\to \\infty} \\frac{\\lambda_1}{\\ell_{\\text{cell}}^2} \\ge C(\\kappa, d) \\quad \\text{(Spectral Gap - one-way implication)}\n2378: $$\n2379: \n2380: $$\n2381: R(x) = \\text{tr}(g^{-1} \\text{Ric}) \\quad \\text{(exact for any metric)} \\quad \\text{(Metric Tensor)}\n2382: $$\n2383: \n2384: $$\n2385: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right) \\quad \\text{(Heat Kernel)}\n2386: $$\n2387: \n2388: $$\n2389: \\lim_{N \\to \\infty, \\delta \\to 0} R_{\\text{CST}}(e_i) = R(x_i) \\quad \\text{(Causal Set Volume)}\n2390: $$\n2391: \n2392: **Discussion of Connections**:\n2393: \n2394: **Connection 1 (Deficit Angle \u2190 Metric Tensor)**: The discrete Gauss-Bonnet theorem relates deficit angles to integrated Gaussian curvature. For $d=2$, this relationship is rigorous. For $d>2$, the connection to Ricci scalar requires results from discrete differential geometry (Regge calculus, discrete Ricci curvature \u00e0 la Forman/Ollivier). **Status**: Known for $d=2$; requires citation or proof for $d>2$.\n2395: \n2396: **Connection 2 (Metric Tensor \u2194 Heat Kernel)**: The Minakshisundaram-Pleijel theorem gives the heat kernel asymptotics in terms of the Ricci scalar. This is a classical result in spectral geometry. **Status**: Rigorous (standard theorem).\n2397: \n2398: **Connection 3 (Heat Kernel \u2194 Spectral Gap)**: A positive Ricci curvature lower bound $\\text{Ric} \\ge \\kappa > 0$ implies a spectral gap bound via the Lichnerowicz theorem (combined with diameter bounds from Bonnet-Myers).\n2399: \n2400: **Fragile Gas Context**: The reverse implication (spectral gap \u2192 curvature bounds) is valid for the Fragile Gas because we have the required additional geometric information:\n2401: \n2402: 1. **Uniform Ellipticity** (Chapter 8): The emergent metric $g = H + \\epsilon_\\Sigma I$ satisfies $\\epsilon_\\Sigma I \\preceq g \\preceq (L_F + \\epsilon_\\Sigma) I$ where $L_F$ is the fitness Hessian Lipschitz constant. This provides uniform bounds on the diffusion tensor.\n2403: \n2404: 2. **Spectral Gap** (Chapter 8): The convergence analysis proves the Adaptive Gas has a spectral gap $\\lambda_1 > 0$ via the Foster-Lyapunov drift condition and hypocoercivity.\n2405: \n2406: 3. **Diameter Bounds**: The bounded state space $\\mathcal{X}$ provides $\\text{diam}(\\mathcal{X}) < \\infty$.\n2407: \n2408: These three properties together allow the reverse inference: the proven spectral gap, combined with uniform ellipticity and bounded diameter, imply positive effective curvature bounds for the emergent geometry. **Status**: Rigorous (both directions) given framework infrastructure.\n2409: \n2410: **Connection 4 (Spectral Gap \u2190 Deficit Angle)**: The convergence of the discrete graph Laplacian $\\Delta_0$ to the continuum Laplace-Beltrami operator $\\Delta_g$ (Chapter 13 conjecture) would imply spectral convergence, which in turn would imply convergence of discrete curvature measures to continuum ones. **Status**: \u2705 Proven ({prf:ref}`lem-laplacian-convergence`).\n2411: \n2412: **Connection 5 (Causal Set Volume \u2190 QSD Density)**: The causal set curvature estimator $R_{\\text{CST}}$ ({prf:ref}`def-ricci-causal-set-volume`) relies on the adaptive sprinkling density $\\rho(x) \\propto \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T}$ from the QSD. The $\\sqrt{\\det g}$ factor automatically compensates for the Riemannian volume element, enabling accurate curvature estimation from causal interval statistics. **Status**: \u2705 Proven ({prf:ref}`thm-causal-set-ricci-convergence`).\n2413: \n2414: **Remaining items**:",
      "metadata": {
        "label": "thm-curvature-unification"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "lem-laplacian-convergence",
        "def-ricci-causal-set-volume",
        "thm-causal-set-ricci-convergence"
      ],
      "raw_directive": "2365: ### 5.7.3. Equivalence of All Five Perspectives\n2366: \n2367: :::{prf:theorem} Curvature Unification: Equivalence of All Five Definitions\n2368: :label: thm-curvature-unification\n2369: \n2370: In the continuum limit $N \\to \\infty$, $\\ell_{\\text{cell}} \\to 0$, the five curvature measures converge to the same Ricci scalar field $R(x)$:\n2371: \n2372: $$\n2373: \\lim_{\\ell_{\\text{cell}} \\to 0} \\frac{\\delta_i}{\\text{Area}(\\partial V_i)} \\to R(x_i) \\quad \\text{(Deficit Angle)}\n2374: $$\n2375: \n2376: $$\n2377: \\text{Ric} \\ge \\kappa \\implies \\lim_{N \\to \\infty} \\frac{\\lambda_1}{\\ell_{\\text{cell}}^2} \\ge C(\\kappa, d) \\quad \\text{(Spectral Gap - one-way implication)}\n2378: $$\n2379: \n2380: $$\n2381: R(x) = \\text{tr}(g^{-1} \\text{Ric}) \\quad \\text{(exact for any metric)} \\quad \\text{(Metric Tensor)}\n2382: $$\n2383: \n2384: $$\n2385: K_t(x, x) = \\frac{1}{(4\\pi t)^{d/2}} \\left( 1 + \\frac{t}{6} R(x) + O(t^2) \\right) \\quad \\text{(Heat Kernel)}\n2386: $$\n2387: \n2388: $$\n2389: \\lim_{N \\to \\infty, \\delta \\to 0} R_{\\text{CST}}(e_i) = R(x_i) \\quad \\text{(Causal Set Volume)}\n2390: $$\n2391: \n2392: **Discussion of Connections**:\n2393: \n2394: **Connection 1 (Deficit Angle \u2190 Metric Tensor)**: The discrete Gauss-Bonnet theorem relates deficit angles to integrated Gaussian curvature. For $d=2$, this relationship is rigorous. For $d>2$, the connection to Ricci scalar requires results from discrete differential geometry (Regge calculus, discrete Ricci curvature \u00e0 la Forman/Ollivier). **Status**: Known for $d=2$; requires citation or proof for $d>2$.\n2395: \n2396: **Connection 2 (Metric Tensor \u2194 Heat Kernel)**: The Minakshisundaram-Pleijel theorem gives the heat kernel asymptotics in terms of the Ricci scalar. This is a classical result in spectral geometry. **Status**: Rigorous (standard theorem).\n2397: \n2398: **Connection 3 (Heat Kernel \u2194 Spectral Gap)**: A positive Ricci curvature lower bound $\\text{Ric} \\ge \\kappa > 0$ implies a spectral gap bound via the Lichnerowicz theorem (combined with diameter bounds from Bonnet-Myers).\n2399: \n2400: **Fragile Gas Context**: The reverse implication (spectral gap \u2192 curvature bounds) is valid for the Fragile Gas because we have the required additional geometric information:\n2401: \n2402: 1. **Uniform Ellipticity** (Chapter 8): The emergent metric $g = H + \\epsilon_\\Sigma I$ satisfies $\\epsilon_\\Sigma I \\preceq g \\preceq (L_F + \\epsilon_\\Sigma) I$ where $L_F$ is the fitness Hessian Lipschitz constant. This provides uniform bounds on the diffusion tensor.\n2403: \n2404: 2. **Spectral Gap** (Chapter 8): The convergence analysis proves the Adaptive Gas has a spectral gap $\\lambda_1 > 0$ via the Foster-Lyapunov drift condition and hypocoercivity.\n2405: \n2406: 3. **Diameter Bounds**: The bounded state space $\\mathcal{X}$ provides $\\text{diam}(\\mathcal{X}) < \\infty$.\n2407: \n2408: These three properties together allow the reverse inference: the proven spectral gap, combined with uniform ellipticity and bounded diameter, imply positive effective curvature bounds for the emergent geometry. **Status**: Rigorous (both directions) given framework infrastructure.\n2409: \n2410: **Connection 4 (Spectral Gap \u2190 Deficit Angle)**: The convergence of the discrete graph Laplacian $\\Delta_0$ to the continuum Laplace-Beltrami operator $\\Delta_g$ (Chapter 13 conjecture) would imply spectral convergence, which in turn would imply convergence of discrete curvature measures to continuum ones. **Status**: \u2705 Proven ({prf:ref}`lem-laplacian-convergence`).\n2411: \n2412: **Connection 5 (Causal Set Volume \u2190 QSD Density)**: The causal set curvature estimator $R_{\\text{CST}}$ ({prf:ref}`def-ricci-causal-set-volume`) relies on the adaptive sprinkling density $\\rho(x) \\propto \\sqrt{\\det g(x)} e^{-U_{\\text{eff}}/T}$ from the QSD. The $\\sqrt{\\det g}$ factor automatically compensates for the Riemannian volume element, enabling accurate curvature estimation from causal interval statistics. **Status**: \u2705 Proven ({prf:ref}`thm-causal-set-ricci-convergence`).\n2413: \n2414: **Remaining items**:\n2415: - All five convergence theorems are now proven"
    },
    {
      "directive_type": "corollary",
      "label": "cor-curvature-cross-validation",
      "title": "Cross-Validation of Curvature Estimates",
      "start_line": 2417,
      "end_line": 2443,
      "header_lines": [
        2418
      ],
      "content_start": 2420,
      "content_end": 2442,
      "content": "2420: :label: cor-curvature-cross-validation\n2421: \n2422: For finite $N$, the five curvature measures provide **independent estimates** of the same underlying geometric quantity:\n2423: \n2424: 1. **Deficit angles**: $\\hat{R}_{\\text{deficit}}(x_i) = \\frac{\\delta_i}{\\text{Area}(\\partial V_i)}$\n2425: \n2426: 2. **Spectral gap**: $\\hat{R}_{\\text{spectral}} \\sim \\frac{\\lambda_1 \\ell_{\\text{cell}}^2}{C(\\kappa, d)}$ (lower bound)\n2427: \n2428: 3. **Fitness Hessian**: $\\hat{R}_{\\text{metric}}(x_i) = -\\frac{1}{2} \\text{tr}(H^{-1} \\nabla^2 H)|_{x=x_i}$\n2429: \n2430: 4. **Heat kernel**: $\\hat{R}_{\\text{heat}}(x_i) = 6 \\lim_{t \\to 0} \\frac{(4\\pi t)^{d/2} K_t(x_i, x_i) - 1}{t}$\n2431: \n2432: 5. **Causal set volume**: $\\hat{R}_{\\text{CST}}(e_i) = \\frac{6}{\\delta^2} \\left(1 - \\frac{|I_\\delta(e_i)|}{V_{\\text{flat}}(\\delta)}\\right)$\n2433: \n2434: **Validation test**: For a well-resolved swarm configuration ($N$ large, $\\ell_{\\text{cell}}$ small), all five estimates should agree:\n2435: \n2436: $$\n2437: \\left| \\hat{R}_{\\text{deficit}}(x_i) - \\hat{R}_{\\text{metric}}(x_i) \\right| \\lesssim O(1/N^{1/d})\n2438: $$\n2439: \n2440: **Practical use**: Discrepancies between estimates indicate either:\n2441: - Insufficient resolution ($N$ too small)\n2442: - Breakdown of continuum approximation (discrete effects dominate)",
      "metadata": {
        "label": "cor-curvature-cross-validation"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "2417: :::\n2418: \n2419: :::{prf:corollary} Cross-Validation of Curvature Estimates\n2420: :label: cor-curvature-cross-validation\n2421: \n2422: For finite $N$, the five curvature measures provide **independent estimates** of the same underlying geometric quantity:\n2423: \n2424: 1. **Deficit angles**: $\\hat{R}_{\\text{deficit}}(x_i) = \\frac{\\delta_i}{\\text{Area}(\\partial V_i)}$\n2425: \n2426: 2. **Spectral gap**: $\\hat{R}_{\\text{spectral}} \\sim \\frac{\\lambda_1 \\ell_{\\text{cell}}^2}{C(\\kappa, d)}$ (lower bound)\n2427: \n2428: 3. **Fitness Hessian**: $\\hat{R}_{\\text{metric}}(x_i) = -\\frac{1}{2} \\text{tr}(H^{-1} \\nabla^2 H)|_{x=x_i}$\n2429: \n2430: 4. **Heat kernel**: $\\hat{R}_{\\text{heat}}(x_i) = 6 \\lim_{t \\to 0} \\frac{(4\\pi t)^{d/2} K_t(x_i, x_i) - 1}{t}$\n2431: \n2432: 5. **Causal set volume**: $\\hat{R}_{\\text{CST}}(e_i) = \\frac{6}{\\delta^2} \\left(1 - \\frac{|I_\\delta(e_i)|}{V_{\\text{flat}}(\\delta)}\\right)$\n2433: \n2434: **Validation test**: For a well-resolved swarm configuration ($N$ large, $\\ell_{\\text{cell}}$ small), all five estimates should agree:\n2435: \n2436: $$\n2437: \\left| \\hat{R}_{\\text{deficit}}(x_i) - \\hat{R}_{\\text{metric}}(x_i) \\right| \\lesssim O(1/N^{1/d})\n2438: $$\n2439: \n2440: **Practical use**: Discrepancies between estimates indicate either:\n2441: - Insufficient resolution ($N$ too small)\n2442: - Breakdown of continuum approximation (discrete effects dominate)\n2443: - Numerical errors in derivative estimation (for metric tensor method)"
    },
    {
      "directive_type": "remark",
      "label": "rem-computational-tradeoffs",
      "title": "Computational Trade-offs",
      "start_line": 2445,
      "end_line": 2461,
      "header_lines": [
        2446
      ],
      "content_start": 2448,
      "content_end": 2460,
      "content": "2448: :label: rem-computational-tradeoffs\n2449: \n2450: | Method | Computational Cost | Accuracy | Robustness |\n2451: |--------|-------------------|----------|------------|\n2452: | Deficit Angles | $O(N)$ (topological) | Moderate | High |\n2453: | Spectral Gap | $O(N^2)$ (eigensolve) | High | Moderate |\n2454: | Metric Tensor | $O(Nd^3)$ (Hessian) | High | Low (derivative noise) |\n2455: | Heat Kernel | $O(N^2)$ (matrix exp) | Very High | High |\n2456: \n2457: **Recommendations**:\n2458: - **Deficit angles**: Fast screening, qualitative phase detection\n2459: - **Spectral gap**: Rigorous lower bounds on curvature\n2460: - **Metric tensor**: Pointwise curvature fields for visualization",
      "metadata": {
        "label": "rem-computational-tradeoffs"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "2445: :::\n2446: \n2447: :::{prf:remark} Computational Trade-offs\n2448: :label: rem-computational-tradeoffs\n2449: \n2450: | Method | Computational Cost | Accuracy | Robustness |\n2451: |--------|-------------------|----------|------------|\n2452: | Deficit Angles | $O(N)$ (topological) | Moderate | High |\n2453: | Spectral Gap | $O(N^2)$ (eigensolve) | High | Moderate |\n2454: | Metric Tensor | $O(Nd^3)$ (Hessian) | High | Low (derivative noise) |\n2455: | Heat Kernel | $O(N^2)$ (matrix exp) | Very High | High |\n2456: \n2457: **Recommendations**:\n2458: - **Deficit angles**: Fast screening, qualitative phase detection\n2459: - **Spectral gap**: Rigorous lower bounds on curvature\n2460: - **Metric tensor**: Pointwise curvature fields for visualization\n2461: - **Heat kernel**: Gold standard for validation (but expensive)"
    },
    {
      "directive_type": "proposition",
      "label": "prop-scutoid-deficit",
      "title": "Scutoid Face Curvature from Deficit Angles",
      "start_line": 2465,
      "end_line": 2485,
      "header_lines": [
        2466
      ],
      "content_start": 2468,
      "content_end": 2484,
      "content": "2468: :label: prop-scutoid-deficit\n2469: \n2470: The curvature of scutoid faces (Definition {prf:ref}`def-face-curvature-scutoid`) can be computed via **deficit angles at edge vertices**:\n2471: \n2472: $$\n2473: \\langle K_{\\text{face}} \\rangle_{F} = \\frac{1}{\\text{Area}(F)} \\sum_{v \\in \\partial F} \\delta_v\n2474: $$\n2475: \n2476: where the sum is over vertices $v$ on the boundary of face $F$.\n2477: \n2478: **Proof**: The discrete Gauss-Bonnet theorem states:\n2479: \n2480: $$\n2481: \\int_F K \\, dA + \\sum_{v \\in \\partial F} \\alpha_v = 2\\pi \\chi(F)\n2482: $$\n2483: \n2484: where $\\alpha_v$ is the exterior angle at vertex $v$. For a geodesic polygon (scutoid face), $\\sum_{v \\in \\partial F} \\alpha_v = \\sum_{v \\in \\partial F} (\\pi - \\text{(interior angle)})$. The deficit angle $\\delta_v$ is related to the angle defect, giving the result.",
      "metadata": {
        "label": "prop-scutoid-deficit"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "def-face-curvature-scutoid"
      ],
      "raw_directive": "2465: ### 5.8. Application to Scutoid Curvature\n2466: \n2467: :::{prf:proposition} Scutoid Face Curvature from Deficit Angles\n2468: :label: prop-scutoid-deficit\n2469: \n2470: The curvature of scutoid faces (Definition {prf:ref}`def-face-curvature-scutoid`) can be computed via **deficit angles at edge vertices**:\n2471: \n2472: $$\n2473: \\langle K_{\\text{face}} \\rangle_{F} = \\frac{1}{\\text{Area}(F)} \\sum_{v \\in \\partial F} \\delta_v\n2474: $$\n2475: \n2476: where the sum is over vertices $v$ on the boundary of face $F$.\n2477: \n2478: **Proof**: The discrete Gauss-Bonnet theorem states:\n2479: \n2480: $$\n2481: \\int_F K \\, dA + \\sum_{v \\in \\partial F} \\alpha_v = 2\\pi \\chi(F)\n2482: $$\n2483: \n2484: where $\\alpha_v$ is the exterior angle at vertex $v$. For a geodesic polygon (scutoid face), $\\sum_{v \\in \\partial F} \\alpha_v = \\sum_{v \\in \\partial F} (\\pi - \\text{(interior angle)})$. The deficit angle $\\delta_v$ is related to the angle defect, giving the result.\n2485: "
    },
    {
      "directive_type": "theorem",
      "label": "thm-integrated-curvature-spectral",
      "title": "Integrated Curvature from Spectral Data",
      "start_line": 2487,
      "end_line": 2505,
      "header_lines": [
        2488
      ],
      "content_start": 2490,
      "content_end": 2504,
      "content": "2490: :label: thm-integrated-curvature-spectral\n2491: \n2492: The integrated curvature appearing in the Raychaudhuri equation (Chapter 19) can be computed from the graph Laplacian spectrum:\n2493: \n2494: $$\n2495: \\left[ \\int_{\\partial V_i} R \\, d\\sigma \\right] \\approx C_g(d) \\left( \\Delta N_i + \\text{correction terms} \\right)\n2496: $$\n2497: \n2498: where $\\Delta N_i$ is the change in neighbor count (topological), and the correction terms involve spectral invariants:\n2499: \n2500: $$\n2501: \\text{correction} \\sim \\frac{1}{N} \\sum_{k=1}^{|\\mathcal{N}_i|} \\left( \\lambda_k - \\bar{\\lambda} \\right)\n2502: $$\n2503: \n2504: where $\\bar{\\lambda} = \\frac{1}{N} \\sum_k \\lambda_k$ is the average eigenvalue.",
      "metadata": {
        "label": "thm-integrated-curvature-spectral"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [],
      "raw_directive": "2487: :::\n2488: \n2489: :::{prf:theorem} Integrated Curvature from Spectral Data\n2490: :label: thm-integrated-curvature-spectral\n2491: \n2492: The integrated curvature appearing in the Raychaudhuri equation (Chapter 19) can be computed from the graph Laplacian spectrum:\n2493: \n2494: $$\n2495: \\left[ \\int_{\\partial V_i} R \\, d\\sigma \\right] \\approx C_g(d) \\left( \\Delta N_i + \\text{correction terms} \\right)\n2496: $$\n2497: \n2498: where $\\Delta N_i$ is the change in neighbor count (topological), and the correction terms involve spectral invariants:\n2499: \n2500: $$\n2501: \\text{correction} \\sim \\frac{1}{N} \\sum_{k=1}^{|\\mathcal{N}_i|} \\left( \\lambda_k - \\bar{\\lambda} \\right)\n2502: $$\n2503: \n2504: where $\\bar{\\lambda} = \\frac{1}{N} \\sum_k \\lambda_k$ is the average eigenvalue.\n2505: "
    },
    {
      "directive_type": "corollary",
      "label": "cor-curvature-jump-spectral",
      "title": "Curvature Jump Conjecture Revisited",
      "start_line": 2507,
      "end_line": 2535,
      "header_lines": [
        2508
      ],
      "content_start": 2510,
      "content_end": 2534,
      "content": "2510: :label: cor-curvature-jump-spectral\n2511: \n2512: The Curvature Jump Conjecture ({prf:ref}`conj-curvature-jump` in Chapter 19) can be reformulated using spectral language:\n2513: \n2514: **Topological Version** (original):\n2515: \n2516: $$\n2517: \\left[ \\int_{\\partial V} R \\, d\\sigma \\right] = C_g(d) \\, \\Delta N + O(1/N)\n2518: $$\n2519: \n2520: **Spectral Version** (new):\n2521: \n2522: $$\n2523: \\left[ \\text{Tr}(e^{-t\\Delta_0}|_{V_i}) \\right] = C_{\\text{spectral}}(t, d) \\, \\Delta N + O(1/N)\n2524: $$\n2525: \n2526: where $\\text{Tr}(e^{-t\\Delta_0}|_{V_i})$ is the heat kernel trace restricted to Voronoi cell $V_i$.\n2527: \n2528: **Equivalence**: By Theorem {prf:ref}`thm-heat-kernel-asymptotics`, the heat kernel trace encodes the integrated curvature via:\n2529: \n2530: $$\n2531: \\text{Tr}(e^{-t\\Delta_0}|_{V_i}) \\approx \\frac{1}{(4\\pi t)^{d/2}} \\left[ \\text{Vol}(V_i) + \\frac{t}{6} \\int_{V_i} R \\, dV + O(t^2) \\right]\n2532: $$\n2533: \n2534: Taking the jump and expanding in small $t$ recovers the topological version.",
      "metadata": {
        "label": "cor-curvature-jump-spectral"
      },
      "section": "## 5. Multiple Curvature Perspectives and Their Unification",
      "references": [
        "conj-curvature-jump",
        "thm-heat-kernel-asymptotics"
      ],
      "raw_directive": "2507: :::\n2508: \n2509: :::{prf:corollary} Curvature Jump Conjecture Revisited\n2510: :label: cor-curvature-jump-spectral\n2511: \n2512: The Curvature Jump Conjecture ({prf:ref}`conj-curvature-jump` in Chapter 19) can be reformulated using spectral language:\n2513: \n2514: **Topological Version** (original):\n2515: \n2516: $$\n2517: \\left[ \\int_{\\partial V} R \\, d\\sigma \\right] = C_g(d) \\, \\Delta N + O(1/N)\n2518: $$\n2519: \n2520: **Spectral Version** (new):\n2521: \n2522: $$\n2523: \\left[ \\text{Tr}(e^{-t\\Delta_0}|_{V_i}) \\right] = C_{\\text{spectral}}(t, d) \\, \\Delta N + O(1/N)\n2524: $$\n2525: \n2526: where $\\text{Tr}(e^{-t\\Delta_0}|_{V_i})$ is the heat kernel trace restricted to Voronoi cell $V_i$.\n2527: \n2528: **Equivalence**: By Theorem {prf:ref}`thm-heat-kernel-asymptotics`, the heat kernel trace encodes the integrated curvature via:\n2529: \n2530: $$\n2531: \\text{Tr}(e^{-t\\Delta_0}|_{V_i}) \\approx \\frac{1}{(4\\pi t)^{d/2}} \\left[ \\text{Vol}(V_i) + \\frac{t}{6} \\int_{V_i} R \\, dV + O(t^2) \\right]\n2532: $$\n2533: \n2534: Taking the jump and expanding in small $t$ recovers the topological version.\n2535: "
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}