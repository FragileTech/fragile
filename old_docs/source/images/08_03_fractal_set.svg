<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 550" width="700" height="550">
  <!-- Title -->
  <text x="350" y="30" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Fractal Set ğ“• = CST âˆª IG
  </text>

  <!-- Root -->
  <circle cx="350" cy="80" r="10" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>

  <!-- Generation 0 -->
  <circle cx="200" cy="160" r="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="200" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚€</text>

  <circle cx="300" cy="160" r="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="300" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚</text>

  <circle cx="400" cy="160" r="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="400" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚‚</text>

  <circle cx="500" cy="160" r="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="500" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚ƒ</text>

  <!-- CST edges: root to gen 0 (red dashed arrows) -->
  <defs>
    <marker id="cst-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#e74c3c"/>
    </marker>
    <marker id="ig-circle" markerWidth="8" markerHeight="8" refX="4" refY="4">
      <circle cx="4" cy="4" r="3" fill="#9b59b6"/>
    </marker>
  </defs>

  <line x1="350" y1="90" x2="200" y2="148" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
  <line x1="350" y1="90" x2="300" y2="148" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
  <line x1="350" y1="90" x2="400" y2="148" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
  <line x1="350" y1="90" x2="500" y2="148" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>

  <!-- IG edges: gen 0 clique (purple solid lines) -->
  <line x1="200" y1="160" x2="300" y2="160" stroke="#9b59b6" stroke-width="2.5" opacity="0.6"/>
  <line x1="300" y1="160" x2="400" y2="160" stroke="#9b59b6" stroke-width="2.5" opacity="0.6"/>
  <line x1="400" y1="160" x2="500" y2="160" stroke="#9b59b6" stroke-width="2.5" opacity="0.6"/>
  <line x1="200" y1="160" x2="400" y2="160" stroke="#9b59b6" stroke-width="1.5" opacity="0.4"/>
  <line x1="200" y1="160" x2="500" y2="160" stroke="#9b59b6" stroke-width="1.5" opacity="0.4"/>
  <line x1="300" y1="160" x2="500" y2="160" stroke="#9b59b6" stroke-width="1.5" opacity="0.4"/>

  <!-- Generation 1 -->
  <circle cx="180" cy="270" r="10" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="180" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚„</text>

  <circle cx="400" cy="270" r="10" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="400" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚…</text>

  <circle cx="300" cy="270" r="10" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="300" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2c3e50">eâ‚†</text>

  <!-- CST edges: gen 0 to gen 1 -->
  <line x1="200" y1="170" x2="180" y2="258" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
  <line x1="400" y1="170" x2="400" y2="258" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
  <line x1="300" y1="170" x2="300" y2="258" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>

  <!-- IG edges: cross-generation coupling -->
  <line x1="300" y1="170" x2="180" y2="260" stroke="#9b59b6" stroke-width="2" opacity="0.5"/>
  <line x1="500" y1="170" x2="400" y2="260" stroke="#9b59b6" stroke-width="2" opacity="0.5"/>
  <line x1="500" y1="170" x2="300" y2="260" stroke="#9b59b6" stroke-width="2" opacity="0.5"/>

  <!-- IG edges: gen 1 clique -->
  <line x1="180" y1="270" x2="300" y2="270" stroke="#9b59b6" stroke-width="2.5" opacity="0.6"/>
  <line x1="300" y1="270" x2="400" y2="270" stroke="#9b59b6" stroke-width="2.5" opacity="0.6"/>
  <line x1="180" y1="270" x2="400" y2="270" stroke="#9b59b6" stroke-width="1.5" opacity="0.4"/>

  <!-- Information flow arrows -->
  <g transform="translate(550, 140)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Information Flow:</text>

    <path d="M 10 20 Q 30 20 30 40 L 30 60" stroke="#e74c3c" stroke-width="2.5" fill="none" marker-end="url(#cst-arrow)"/>
    <text x="45" y="45" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Timelike</text>
    <text x="45" y="58" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">(inheritance)</text>

    <line x1="10" y1="90" x2="60" y2="90" stroke="#9b59b6" stroke-width="2.5"/>
    <circle cx="10" cy="90" r="3" fill="#9b59b6"/>
    <circle cx="60" cy="90" r="3" fill="#9b59b6"/>
    <text x="70" y="93" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Spacelike</text>
    <text x="70" y="106" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">(selection)</text>
  </g>

  <!-- Properties box -->
  <rect x="80" y="330" width="540" height="95" fill="#ecf0f1" stroke="#95a5a6" stroke-width="1.5" rx="8"/>
  <text x="95" y="355" font-family="Arial, sans-serif" font-size="13" fill="#2c3e50" font-weight="bold">
    Mathematical Structure:
  </text>
  <text x="95" y="377" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    â€¢ ğ“• = (ğ“”, E_CST âˆª E_IG, Ï‰ âˆª w)  â€” Mixed directed/undirected graph
  </text>
  <text x="95" y="395" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    â€¢ CST edges (â†’): Directed, timelike, genealogical (parent â†’ child)
  </text>
  <text x="95" y="413" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    â€¢ IG edges (âˆ¼): Undirected, spacelike, interactions (contemporaneous coupling)
  </text>

  <!-- Physical Interpretation -->
  <rect x="80" y="440" width="540" height="80" fill="#fff9e6" stroke="#f39c12" stroke-width="1.5" rx="8"/>
  <text x="95" y="465" font-family="Arial, sans-serif" font-size="13" fill="#2c3e50" font-weight="bold">
    Physical Interpretation:
  </text>
  <text x="95" y="485" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    CST = free field theory (causal evolution, no interactions)
  </text>
  <text x="95" y="503" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    IG = interaction vertices (contemporaneous coupling, gauge fields)
  </text>

  <!-- Legend at bottom -->
  <g transform="translate(90, 530)">
    <circle cx="8" cy="0" r="7" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="20" y="5" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">Root</text>

    <circle cx="80" cy="0" r="7" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="92" y="5" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">Gen 0</text>

    <circle cx="150" cy="0" r="7" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
    <text x="162" y="5" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">Gen 1</text>

    <line x1="230" y1="0" x2="270" y2="0" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#cst-arrow)"/>
    <text x="280" y="5" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">CST edge</text>

    <line x1="360" y1="0" x2="400" y2="0" stroke="#9b59b6" stroke-width="2.5"/>
    <text x="410" y="5" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">IG edge</text>
  </g>
</svg>
