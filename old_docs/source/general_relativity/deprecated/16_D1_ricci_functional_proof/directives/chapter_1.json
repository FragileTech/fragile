{
  "chapter_index": 1,
  "section_id": "## 1. Common Origin: Density Functional",
  "directive_count": 1,
  "hints": [
    {
      "directive_type": "lemma",
      "label": "lem-metric-scutoid-density",
      "title": "Metric and Scutoids from Density",
      "start_line": 12,
      "end_line": 83,
      "header_lines": [
        13
      ],
      "content_start": 15,
      "content_end": 82,
      "content": "15: :label: lem-metric-scutoid-density\n16: \n17: Both the emergent metric and scutoid tessellation are functionals of the spatial density:\n18: \n19: 1. **Emergent metric**:\n20:    $$\n21:    g_{ij}(x) = g_{ij}[\\rho_t](x) = H_{ij}[\\rho_t](x) + \\varepsilon \\delta_{ij}\n22:    $$\n23:    where $H_{ij} = \\mathbb{E}_{\\mu_t}[\\partial_k \\Psi^i \\partial_k \\Psi^j \\mid x]$\n24: \n25: 2. **Scutoid Voronoi tessellation**:\n26:    $$\n27:    \\mathcal{V}_i = \\{x \\in \\mathcal{X} : \\|x - x_i\\| < \\|x - x_j\\| \\,\\forall j \\neq i\\}\n28:    $$\n29:    where walker positions $\\{x_1, \\ldots, x_N\\}$ are sampled from $\\rho_t(x)$\n30: \n31: **Proof (Part 1 - Metric)**:\n32: \n33: From Chapter 8 ({prf:ref}`def-emergent-riemannian-metric`), the metric is:\n34: \n35: $$\n36: H_{ij}(x) = \\int_{\\mathcal{V}} \\frac{\\partial \\Psi(x; v)}{\\partial x^k} \\frac{\\partial \\Psi(x; v)}{\\partial x^k} \\frac{\\delta^{ij}(v)}{d} \\, \\mu_t(x, v) dv\n37: $$\n38: \n39: Since $\\Psi(x)$ is the fitness potential (independent of $v$), this simplifies to:\n40: \n41: $$\n42: H_{ij}(x) = \\frac{\\partial^2 \\Psi(x)}{\\partial x^i \\partial x^j} \\int \\mu_t(x, v) dv = \\nabla^i \\nabla^j \\Psi(x) \\cdot \\rho_t(x)\n43: $$\n44: \n45: Wait, this is not quite right. Let me reconsider.\n46: \n47: **Correction**: From the framework, the emergent metric arises from the **expected Hessian** of the potential landscape weighted by the local density. The exact form is:\n48: \n49: $$\n50: H_{ij}(x) = \\mathbb{E}_{x' \\sim \\rho_t, \\,\\|x' - x\\| < \\delta}\\left[\\frac{\\partial^2 \\Psi}{\\partial x^i \\partial x^j}\\bigg|_{x'}\\right]\n51: $$\n52: \n53: This is a **localized average** of the Hessian, weighted by the density $\\rho_t$. Therefore:\n54: \n55: $$\n56: g_{ij}(x) = g_{ij}[\\rho_t](x)\n57: $$\n58: \n59: **Proof (Part 2 - Scutoids)**:\n60: \n61: The Voronoi tessellation is constructed from walker positions $\\{x_1, \\ldots, x_N\\}$. In the continuum limit, these positions are distributed according to $\\rho_t(x)$:\n62: \n63: $$\n64: \\mathbb{P}(\\text{walker at } x) = \\frac{\\rho_t(x)}{\\int \\rho_t dx}\n65: $$\n66: \n67: The Voronoi cells are determined geometrically by:\n68: \n69: $$\n70: \\mathcal{V}_i = \\{x : d(x, x_i) < d(x, x_j) \\,\\forall j \\neq i\\}\n71: $$\n72: \n73: where $d(x, x')$ is the Euclidean distance (or more generally, a distance induced by an ambient metric).\n74: \n75: **Key Point**: As $N \\to \\infty$, the Voronoi tessellation becomes a **faithful discretization** of the continuous density field $\\rho_t(x)$. The geometry of the tessellation (cell shapes, volumes, plaquette angles) encodes the structure of $\\rho_t$.\n76: \n77: Therefore:\n78: \n79: $$\n80: \\{\\text{Scutoid geometry}\\} = \\{\\text{Scutoid geometry}\\}[\\rho_t]\n81: $$\n82: ",
      "metadata": {
        "label": "lem-metric-scutoid-density"
      },
      "section": "## 1. Common Origin: Density Functional",
      "raw_directive": "12: ## 1. Common Origin: Density Functional\n13: \n14: :::{prf:lemma} Metric and Scutoids from Density\n15: :label: lem-metric-scutoid-density\n16: \n17: Both the emergent metric and scutoid tessellation are functionals of the spatial density:\n18: \n19: 1. **Emergent metric**:\n20:    $$\n21:    g_{ij}(x) = g_{ij}[\\rho_t](x) = H_{ij}[\\rho_t](x) + \\varepsilon \\delta_{ij}\n22:    $$\n23:    where $H_{ij} = \\mathbb{E}_{\\mu_t}[\\partial_k \\Psi^i \\partial_k \\Psi^j \\mid x]$\n24: \n25: 2. **Scutoid Voronoi tessellation**:\n26:    $$\n27:    \\mathcal{V}_i = \\{x \\in \\mathcal{X} : \\|x - x_i\\| < \\|x - x_j\\| \\,\\forall j \\neq i\\}\n28:    $$\n29:    where walker positions $\\{x_1, \\ldots, x_N\\}$ are sampled from $\\rho_t(x)$\n30: \n31: **Proof (Part 1 - Metric)**:\n32: \n33: From Chapter 8 ({prf:ref}`def-emergent-riemannian-metric`), the metric is:\n34: \n35: $$\n36: H_{ij}(x) = \\int_{\\mathcal{V}} \\frac{\\partial \\Psi(x; v)}{\\partial x^k} \\frac{\\partial \\Psi(x; v)}{\\partial x^k} \\frac{\\delta^{ij}(v)}{d} \\, \\mu_t(x, v) dv\n37: $$\n38: \n39: Since $\\Psi(x)$ is the fitness potential (independent of $v$), this simplifies to:\n40: \n41: $$\n42: H_{ij}(x) = \\frac{\\partial^2 \\Psi(x)}{\\partial x^i \\partial x^j} \\int \\mu_t(x, v) dv = \\nabla^i \\nabla^j \\Psi(x) \\cdot \\rho_t(x)\n43: $$\n44: \n45: Wait, this is not quite right. Let me reconsider.\n46: \n47: **Correction**: From the framework, the emergent metric arises from the **expected Hessian** of the potential landscape weighted by the local density. The exact form is:\n48: \n49: $$\n50: H_{ij}(x) = \\mathbb{E}_{x' \\sim \\rho_t, \\,\\|x' - x\\| < \\delta}\\left[\\frac{\\partial^2 \\Psi}{\\partial x^i \\partial x^j}\\bigg|_{x'}\\right]\n51: $$\n52: \n53: This is a **localized average** of the Hessian, weighted by the density $\\rho_t$. Therefore:\n54: \n55: $$\n56: g_{ij}(x) = g_{ij}[\\rho_t](x)\n57: $$\n58: \n59: **Proof (Part 2 - Scutoids)**:\n60: \n61: The Voronoi tessellation is constructed from walker positions $\\{x_1, \\ldots, x_N\\}$. In the continuum limit, these positions are distributed according to $\\rho_t(x)$:\n62: \n63: $$\n64: \\mathbb{P}(\\text{walker at } x) = \\frac{\\rho_t(x)}{\\int \\rho_t dx}\n65: $$\n66: \n67: The Voronoi cells are determined geometrically by:\n68: \n69: $$\n70: \\mathcal{V}_i = \\{x : d(x, x_i) < d(x, x_j) \\,\\forall j \\neq i\\}\n71: $$\n72: \n73: where $d(x, x')$ is the Euclidean distance (or more generally, a distance induced by an ambient metric).\n74: \n75: **Key Point**: As $N \\to \\infty$, the Voronoi tessellation becomes a **faithful discretization** of the continuous density field $\\rho_t(x)$. The geometry of the tessellation (cell shapes, volumes, plaquette angles) encodes the structure of $\\rho_t$.\n76: \n77: Therefore:\n78: \n79: $$\n80: \\{\\text{Scutoid geometry}\\} = \\{\\text{Scutoid geometry}\\}[\\rho_t]\n81: $$\n82: \n83: \u220e"
    }
  ],
  "validation": {
    "ok": true,
    "errors": []
  }
}